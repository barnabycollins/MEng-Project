var si=Object.defineProperty;var ai=(g,O,b)=>O in g?si(g,O,{enumerable:!0,configurable:!0,writable:!0,value:b}):g[O]=b;var J=(g,O,b)=>(ai(g,typeof O!="symbol"?O+"":O,b),b);var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},index_min={exports:{}};/*! For license information please see index.min.js.LICENSE.txt */(function(module,exports){(function(g,O){module.exports=O()})(self,()=>(()=>{var __webpack_modules__={23:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});var createOutputMethod=function(g,O){return function(b){return new Sha256(O,!0).update(b)[g]()}},createMethod=function(g){var O=createOutputMethod("hex",g);NODE_JS&&(O=nodeWrap(O,g)),O.create=function(){return new Sha256(g)},O.update=function(M){return O.create().update(M)};for(var b=0;b<OUTPUT_TYPES.length;++b){var P=OUTPUT_TYPES[b];O[P]=createOutputMethod(P,g)}return O},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(g){if(typeof g=="string")return crypto.createHash(algorithm).update(g,"utf8").digest("hex");if(g==null)throw new Error(ERROR);return g.constructor===ArrayBuffer&&(g=new Uint8Array(g)),Array.isArray(g)||ArrayBuffer.isView(g)||g.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(g)).digest("hex"):method(g)};return nodeMethod},createHmacOutputMethod=function(g,O){return function(b,P){return new HmacSha256(b,O,!0).update(P)[g]()}},createHmacMethod=function(g){var O=createHmacOutputMethod("hex",g);O.create=function(M){return new HmacSha256(M,g)},O.update=function(M,k){return O.create(M).update(k)};for(var b=0;b<OUTPUT_TYPES.length;++b){var P=OUTPUT_TYPES[b];O[P]=createHmacOutputMethod(P,g)}return O};function Sha256(g,O){O?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=g}function HmacSha256(g,O,b){var P,M=typeof g;if(M==="string"){var k,W=[],H=g.length,r=0;for(P=0;P<H;++P)(k=g.charCodeAt(P))<128?W[r++]=k:k<2048?(W[r++]=192|k>>6,W[r++]=128|63&k):k<55296||k>=57344?(W[r++]=224|k>>12,W[r++]=128|k>>6&63,W[r++]=128|63&k):(k=65536+((1023&k)<<10|1023&g.charCodeAt(++P)),W[r++]=240|k>>18,W[r++]=128|k>>12&63,W[r++]=128|k>>6&63,W[r++]=128|63&k);g=W}else{if(M!=="object")throw new Error(ERROR);if(g===null)throw new Error(ERROR);if(ARRAY_BUFFER&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!(Array.isArray(g)||ARRAY_BUFFER&&ArrayBuffer.isView(g)))throw new Error(ERROR)}g.length>64&&(g=new Sha256(O,!0).update(g).array());var le=[],ee=[];for(P=0;P<64;++P){var ce=g[P]||0;le[P]=92^ce,ee[P]=54^ce}Sha256.call(this,O,b),this.update(ee),this.oKeyPad=le,this.inner=!0,this.sharedMemory=b}Sha256.prototype.update=function(g){if(!this.finalized){var O,b=typeof g;if(b!=="string"){if(b!=="object")throw new Error(ERROR);if(g===null)throw new Error(ERROR);if(ARRAY_BUFFER&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!(Array.isArray(g)||ARRAY_BUFFER&&ArrayBuffer.isView(g)))throw new Error(ERROR);O=!0}for(var P,M,k=0,W=g.length,H=this.blocks;k<W;){if(this.hashed&&(this.hashed=!1,H[0]=this.block,H[16]=H[1]=H[2]=H[3]=H[4]=H[5]=H[6]=H[7]=H[8]=H[9]=H[10]=H[11]=H[12]=H[13]=H[14]=H[15]=0),O)for(M=this.start;k<W&&M<64;++k)H[M>>2]|=g[k]<<SHIFT[3&M++];else for(M=this.start;k<W&&M<64;++k)(P=g.charCodeAt(k))<128?H[M>>2]|=P<<SHIFT[3&M++]:P<2048?(H[M>>2]|=(192|P>>6)<<SHIFT[3&M++],H[M>>2]|=(128|63&P)<<SHIFT[3&M++]):P<55296||P>=57344?(H[M>>2]|=(224|P>>12)<<SHIFT[3&M++],H[M>>2]|=(128|P>>6&63)<<SHIFT[3&M++],H[M>>2]|=(128|63&P)<<SHIFT[3&M++]):(P=65536+((1023&P)<<10|1023&g.charCodeAt(++k)),H[M>>2]|=(240|P>>18)<<SHIFT[3&M++],H[M>>2]|=(128|P>>12&63)<<SHIFT[3&M++],H[M>>2]|=(128|P>>6&63)<<SHIFT[3&M++],H[M>>2]|=(128|63&P)<<SHIFT[3&M++]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.block=H[16],this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,O=this.lastByteIndex;g[16]=this.block,g[O>>2]|=EXTRA[3&O],this.block=g[16],O>=56&&(this.hashed||this.hash(),g[0]=this.block,g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0),g[14]=this.hBytes<<3|this.bytes>>>29,g[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var g,O,b,P,M,k,W,H,r,le=this.h0,ee=this.h1,ce=this.h2,de=this.h3,Te=this.h4,we=this.h5,pe=this.h6,De=this.h7,ve=this.blocks;for(g=16;g<64;++g)O=((M=ve[g-15])>>>7|M<<25)^(M>>>18|M<<14)^M>>>3,b=((M=ve[g-2])>>>17|M<<15)^(M>>>19|M<<13)^M>>>10,ve[g]=ve[g-16]+O+ve[g-7]+b<<0;for(r=ee&ce,g=0;g<64;g+=4)this.first?(this.is224?(k=300032,De=(M=ve[0]-1413257819)-150054599<<0,de=M+24177077<<0):(k=704751109,De=(M=ve[0]-210244248)-1521486534<<0,de=M+143694565<<0),this.first=!1):(O=(le>>>2|le<<30)^(le>>>13|le<<19)^(le>>>22|le<<10),P=(k=le&ee)^le&ce^r,De=de+(M=De+(b=(Te>>>6|Te<<26)^(Te>>>11|Te<<21)^(Te>>>25|Te<<7))+(Te&we^~Te&pe)+K[g]+ve[g])<<0,de=M+(O+P)<<0),O=(de>>>2|de<<30)^(de>>>13|de<<19)^(de>>>22|de<<10),P=(W=de&le)^de&ee^k,pe=ce+(M=pe+(b=(De>>>6|De<<26)^(De>>>11|De<<21)^(De>>>25|De<<7))+(De&Te^~De&we)+K[g+1]+ve[g+1])<<0,O=((ce=M+(O+P)<<0)>>>2|ce<<30)^(ce>>>13|ce<<19)^(ce>>>22|ce<<10),P=(H=ce&de)^ce&le^W,we=ee+(M=we+(b=(pe>>>6|pe<<26)^(pe>>>11|pe<<21)^(pe>>>25|pe<<7))+(pe&De^~pe&Te)+K[g+2]+ve[g+2])<<0,O=((ee=M+(O+P)<<0)>>>2|ee<<30)^(ee>>>13|ee<<19)^(ee>>>22|ee<<10),P=(r=ee&ce)^ee&de^H,Te=le+(M=Te+(b=(we>>>6|we<<26)^(we>>>11|we<<21)^(we>>>25|we<<7))+(we&pe^~we&De)+K[g+3]+ve[g+3])<<0,le=M+(O+P)<<0;this.h0=this.h0+le<<0,this.h1=this.h1+ee<<0,this.h2=this.h2+ce<<0,this.h3=this.h3+de<<0,this.h4=this.h4+Te<<0,this.h5=this.h5+we<<0,this.h6=this.h6+pe<<0,this.h7=this.h7+De<<0},Sha256.prototype.hex=function(){this.finalize();var g=this.h0,O=this.h1,b=this.h2,P=this.h3,M=this.h4,k=this.h5,W=this.h6,H=this.h7,r=HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[15&g]+HEX_CHARS[O>>28&15]+HEX_CHARS[O>>24&15]+HEX_CHARS[O>>20&15]+HEX_CHARS[O>>16&15]+HEX_CHARS[O>>12&15]+HEX_CHARS[O>>8&15]+HEX_CHARS[O>>4&15]+HEX_CHARS[15&O]+HEX_CHARS[b>>28&15]+HEX_CHARS[b>>24&15]+HEX_CHARS[b>>20&15]+HEX_CHARS[b>>16&15]+HEX_CHARS[b>>12&15]+HEX_CHARS[b>>8&15]+HEX_CHARS[b>>4&15]+HEX_CHARS[15&b]+HEX_CHARS[P>>28&15]+HEX_CHARS[P>>24&15]+HEX_CHARS[P>>20&15]+HEX_CHARS[P>>16&15]+HEX_CHARS[P>>12&15]+HEX_CHARS[P>>8&15]+HEX_CHARS[P>>4&15]+HEX_CHARS[15&P]+HEX_CHARS[M>>28&15]+HEX_CHARS[M>>24&15]+HEX_CHARS[M>>20&15]+HEX_CHARS[M>>16&15]+HEX_CHARS[M>>12&15]+HEX_CHARS[M>>8&15]+HEX_CHARS[M>>4&15]+HEX_CHARS[15&M]+HEX_CHARS[k>>28&15]+HEX_CHARS[k>>24&15]+HEX_CHARS[k>>20&15]+HEX_CHARS[k>>16&15]+HEX_CHARS[k>>12&15]+HEX_CHARS[k>>8&15]+HEX_CHARS[k>>4&15]+HEX_CHARS[15&k]+HEX_CHARS[W>>28&15]+HEX_CHARS[W>>24&15]+HEX_CHARS[W>>20&15]+HEX_CHARS[W>>16&15]+HEX_CHARS[W>>12&15]+HEX_CHARS[W>>8&15]+HEX_CHARS[W>>4&15]+HEX_CHARS[15&W];return this.is224||(r+=HEX_CHARS[H>>28&15]+HEX_CHARS[H>>24&15]+HEX_CHARS[H>>20&15]+HEX_CHARS[H>>16&15]+HEX_CHARS[H>>12&15]+HEX_CHARS[H>>8&15]+HEX_CHARS[H>>4&15]+HEX_CHARS[15&H]),r},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var g=this.h0,O=this.h1,b=this.h2,P=this.h3,M=this.h4,k=this.h5,W=this.h6,H=this.h7,r=[g>>24&255,g>>16&255,g>>8&255,255&g,O>>24&255,O>>16&255,O>>8&255,255&O,b>>24&255,b>>16&255,b>>8&255,255&b,P>>24&255,P>>16&255,P>>8&255,255&P,M>>24&255,M>>16&255,M>>8&255,255&M,k>>24&255,k>>16&255,k>>8&255,255&k,W>>24&255,W>>16&255,W>>8&255,255&W];return this.is224||r.push(H>>24&255,H>>16&255,H>>8&255,255&H),r},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var g=new ArrayBuffer(this.is224?28:32),O=new DataView(g);return O.setUint32(0,this.h0),O.setUint32(4,this.h1),O.setUint32(8,this.h2),O.setUint32(12,this.h3),O.setUint32(16,this.h4),O.setUint32(20,this.h5),O.setUint32(24,this.h6),this.is224||O.setUint32(28,this.h7),g},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var g=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(g),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__===void 0||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},416:(g,O,b)=>{var P,M=(P=(P=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(k){var W,H,r=(k=k||{})!==void 0?k:{};r.ready=new Promise(function(e,t){W=e,H=t}),Object.getOwnPropertyDescriptor(r.ready,"_createWasmCDSPFactoryFromString")||(Object.defineProperty(r.ready,"_createWasmCDSPFactoryFromString",{configurable:!0,get:function(){c("You are getting _createWasmCDSPFactoryFromString on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_createWasmCDSPFactoryFromString",{configurable:!0,set:function(){c("You are setting _createWasmCDSPFactoryFromString on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_expandCDSPFromString")||(Object.defineProperty(r.ready,"_expandCDSPFromString",{configurable:!0,get:function(){c("You are getting _expandCDSPFromString on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_expandCDSPFromString",{configurable:!0,set:function(){c("You are setting _expandCDSPFromString on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_deleteAllWasmCDSPFactories")||(Object.defineProperty(r.ready,"_deleteAllWasmCDSPFactories",{configurable:!0,get:function(){c("You are getting _deleteAllWasmCDSPFactories on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_deleteAllWasmCDSPFactories",{configurable:!0,set:function(){c("You are setting _deleteAllWasmCDSPFactories on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_getCLibFaustVersion")||(Object.defineProperty(r.ready,"_getCLibFaustVersion",{configurable:!0,get:function(){c("You are getting _getCLibFaustVersion on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_getCLibFaustVersion",{configurable:!0,set:function(){c("You are setting _getCLibFaustVersion on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_getWasmCModule")||(Object.defineProperty(r.ready,"_getWasmCModule",{configurable:!0,get:function(){c("You are getting _getWasmCModule on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_getWasmCModule",{configurable:!0,set:function(){c("You are setting _getWasmCModule on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_getWasmCModuleSize")||(Object.defineProperty(r.ready,"_getWasmCModuleSize",{configurable:!0,get:function(){c("You are getting _getWasmCModuleSize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_getWasmCModuleSize",{configurable:!0,set:function(){c("You are setting _getWasmCModuleSize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_getWasmCHelpers")||(Object.defineProperty(r.ready,"_getWasmCHelpers",{configurable:!0,get:function(){c("You are getting _getWasmCHelpers on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_getWasmCHelpers",{configurable:!0,set:function(){c("You are setting _getWasmCHelpers on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_freeWasmCModule")||(Object.defineProperty(r.ready,"_freeWasmCModule",{configurable:!0,get:function(){c("You are getting _freeWasmCModule on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_freeWasmCModule",{configurable:!0,set:function(){c("You are setting _freeWasmCModule on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_freeCMemory")||(Object.defineProperty(r.ready,"_freeCMemory",{configurable:!0,get:function(){c("You are getting _freeCMemory on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_freeCMemory",{configurable:!0,set:function(){c("You are setting _freeCMemory on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_cleanupAfterException")||(Object.defineProperty(r.ready,"_cleanupAfterException",{configurable:!0,get:function(){c("You are getting _cleanupAfterException on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_cleanupAfterException",{configurable:!0,set:function(){c("You are setting _cleanupAfterException on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_getErrorAfterException")||(Object.defineProperty(r.ready,"_getErrorAfterException",{configurable:!0,get:function(){c("You are getting _getErrorAfterException on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_getErrorAfterException",{configurable:!0,set:function(){c("You are setting _getErrorAfterException on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_generateCAuxFilesFromString")||(Object.defineProperty(r.ready,"_generateCAuxFilesFromString",{configurable:!0,get:function(){c("You are getting _generateCAuxFilesFromString on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_generateCAuxFilesFromString",{configurable:!0,set:function(){c("You are setting _generateCAuxFilesFromString on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_emscripten_stack_get_end")||(Object.defineProperty(r.ready,"_emscripten_stack_get_end",{configurable:!0,get:function(){c("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_emscripten_stack_get_end",{configurable:!0,set:function(){c("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_emscripten_stack_get_free")||(Object.defineProperty(r.ready,"_emscripten_stack_get_free",{configurable:!0,get:function(){c("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_emscripten_stack_get_free",{configurable:!0,set:function(){c("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_emscripten_stack_init")||(Object.defineProperty(r.ready,"_emscripten_stack_init",{configurable:!0,get:function(){c("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_emscripten_stack_init",{configurable:!0,set:function(){c("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_stackSave")||(Object.defineProperty(r.ready,"_stackSave",{configurable:!0,get:function(){c("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_stackSave",{configurable:!0,set:function(){c("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_stackRestore")||(Object.defineProperty(r.ready,"_stackRestore",{configurable:!0,get:function(){c("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_stackRestore",{configurable:!0,set:function(){c("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_stackAlloc")||(Object.defineProperty(r.ready,"_stackAlloc",{configurable:!0,get:function(){c("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_stackAlloc",{configurable:!0,set:function(){c("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"___wasm_call_ctors")||(Object.defineProperty(r.ready,"___wasm_call_ctors",{configurable:!0,get:function(){c("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"___wasm_call_ctors",{configurable:!0,set:function(){c("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_fflush")||(Object.defineProperty(r.ready,"_fflush",{configurable:!0,get:function(){c("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_fflush",{configurable:!0,set:function(){c("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"___errno_location")||(Object.defineProperty(r.ready,"___errno_location",{configurable:!0,get:function(){c("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"___errno_location",{configurable:!0,set:function(){c("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_malloc")||(Object.defineProperty(r.ready,"_malloc",{configurable:!0,get:function(){c("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_malloc",{configurable:!0,set:function(){c("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_free")||(Object.defineProperty(r.ready,"_free",{configurable:!0,get:function(){c("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_free",{configurable:!0,set:function(){c("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"__get_tzname")||(Object.defineProperty(r.ready,"__get_tzname",{configurable:!0,get:function(){c("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"__get_tzname",{configurable:!0,set:function(){c("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"__get_daylight")||(Object.defineProperty(r.ready,"__get_daylight",{configurable:!0,get:function(){c("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"__get_daylight",{configurable:!0,set:function(){c("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"__get_timezone")||(Object.defineProperty(r.ready,"__get_timezone",{configurable:!0,get:function(){c("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"__get_timezone",{configurable:!0,set:function(){c("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_ntohs")||(Object.defineProperty(r.ready,"_ntohs",{configurable:!0,get:function(){c("You are getting _ntohs on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_ntohs",{configurable:!0,set:function(){c("You are setting _ntohs on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"_htons")||(Object.defineProperty(r.ready,"_htons",{configurable:!0,get:function(){c("You are getting _htons on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"_htons",{configurable:!0,set:function(){c("You are setting _htons on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"___getTypeName")||(Object.defineProperty(r.ready,"___getTypeName",{configurable:!0,get:function(){c("You are getting ___getTypeName on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"___getTypeName",{configurable:!0,set:function(){c("You are setting ___getTypeName on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"___embind_register_native_and_builtin_types")||(Object.defineProperty(r.ready,"___embind_register_native_and_builtin_types",{configurable:!0,get:function(){c("You are getting ___embind_register_native_and_builtin_types on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"___embind_register_native_and_builtin_types",{configurable:!0,set:function(){c("You are setting ___embind_register_native_and_builtin_types on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(r.ready,"onRuntimeInitialized")||(Object.defineProperty(r.ready,"onRuntimeInitialized",{configurable:!0,get:function(){c("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(r.ready,"onRuntimeInitialized",{configurable:!0,set:function(){c("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),r.expectedDataFileDownloads||(r.expectedDataFileDownloads=0),r.expectedDataFileDownloads++,function(e){typeof window=="object"?window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/"):typeof process=="undefined"&&typeof location!="undefined"&&encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/");var t="libfaust-wasm.data";typeof r.locateFilePackage!="function"||r.locateFile||(r.locateFile=r.locateFilePackage,be("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var n=r.locateFile?r.locateFile(t,""):t,o=e.remote_package_size,a=null,u=r.getPreloadedPackage?r.getPreloadedPackage(n,o):null;function h(){function p(A,z){if(!A)throw z+new Error().stack}function y(A,z,Z){this.start=A,this.end=z,this.audio=Z}r.FS_createPath("/","libraries",!0,!0),y.prototype={requests:{},open:function(A,z){this.name=z,this.requests[z]=this,r.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var A=this.byteArray.subarray(this.start,this.end);this.finish(A)},finish:function(A){r.FS_createDataFile(this.name,null,A,!0,!0,!0),r.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var C=e.files,R=0;R<C.length;++R)new y(C[R].start,C[R].end,C[R].audio||0).open("GET",C[R].filename);function L(A){p(A,"Loading data file failed."),p(A instanceof ArrayBuffer,"bad input to processPackageData");var z=new Uint8Array(A);y.prototype.byteArray=z;for(var Z=e.files,ne=0;ne<Z.length;++ne)y.prototype.requests[Z[ne].filename].onload();r.removeRunDependency("datafile_../../lib/libfaust-wasm.data")}r.addRunDependency("datafile_../../lib/libfaust-wasm.data"),r.preloadResults||(r.preloadResults={}),r.preloadResults["../../lib/libfaust-wasm.data"]={fromCache:!1},u?(L(u),u=null):a=L}u||function(p,y,C,R){if(typeof process!="object"||typeof process.versions!="object"||typeof process.versions.node!="string"){var L=new XMLHttpRequest;L.open("GET",p,!0),L.responseType="arraybuffer",L.onprogress=function(A){var z=p,Z=y;if(A.total&&(Z=A.total),A.loaded){L.addedTotal?r.dataFileDownloads[z].loaded=A.loaded:(L.addedTotal=!0,r.dataFileDownloads||(r.dataFileDownloads={}),r.dataFileDownloads[z]={loaded:A.loaded,total:Z});var ne=0,Ee=0,_e=0;for(var $ in r.dataFileDownloads){var q=r.dataFileDownloads[$];ne+=q.total,Ee+=q.loaded,_e++}ne=Math.ceil(ne*r.expectedDataFileDownloads/_e),r.setStatus&&r.setStatus("Downloading data... ("+Ee+"/"+ne+")")}else r.dataFileDownloads||r.setStatus&&r.setStatus("Downloading data...")},L.onerror=function(A){throw new Error("NetworkError for: "+p)},L.onload=function(A){if(!(L.status==200||L.status==304||L.status==206||L.status==0&&L.response))throw new Error(L.statusText+" : "+L.responseURL);var z=L.response;C(z)},L.send(null)}else b(351).readFile(p,function(A,z){var Z;A?(Z=A,console.error("package error:",Z)):C(z.buffer)})}(n,o,function(p){a?(a(p),a=null):u=p}),r.calledRun?h():(r.preRun||(r.preRun=[]),r.preRun.push(h))}({files:[{filename:"/libraries/hoa.lib",start:0,end:13105},{filename:"/libraries/compressors.lib",start:13105,end:58811},{filename:"/libraries/basics.lib",start:58811,end:113362},{filename:"/libraries/dx7.lib",start:113362,end:182465},{filename:"/libraries/analyzers.lib",start:182465,end:215334},{filename:"/libraries/spats.lib",start:215334,end:220508},{filename:"/libraries/envelopes.lib",start:220508,end:232268},{filename:"/libraries/oscillators.lib",start:232268,end:280598},{filename:"/libraries/mi.lib",start:280598,end:297886},{filename:"/libraries/misceffects.lib",start:297886,end:319635},{filename:"/libraries/version.lib",start:319635,end:320542},{filename:"/libraries/webaudio.lib",start:320542,end:332665},{filename:"/libraries/math.lib",start:332665,end:354143},{filename:"/libraries/stdfaust.lib",start:354143,end:355413},{filename:"/libraries/filter.lib",start:355413,end:420799},{filename:"/libraries/delays.lib",start:420799,end:435283},{filename:"/libraries/routes.lib",start:435283,end:443839},{filename:"/libraries/soundfiles.lib",start:443839,end:453200},{filename:"/libraries/tonestacks.lib",start:453200,end:465554},{filename:"/libraries/aanl.lib",start:465554,end:492899},{filename:"/libraries/wdmodels.lib",start:492899,end:582716},{filename:"/libraries/all.lib",start:582716,end:583732},{filename:"/libraries/music.lib",start:583732,end:602166},{filename:"/libraries/tubes.lib",start:602166,end:951955},{filename:"/libraries/effect.lib",start:951955,end:1020985},{filename:"/libraries/vaeffects.lib",start:1020985,end:1056854},{filename:"/libraries/maxmsp.lib",start:1056854,end:1065028},{filename:"/libraries/platform.lib",start:1065028,end:1068108},{filename:"/libraries/synths.lib",start:1068108,end:1079359},{filename:"/libraries/sf.lib",start:1079359,end:1080425},{filename:"/libraries/fds.lib",start:1080425,end:1100971},{filename:"/libraries/reducemaps.lib",start:1100971,end:1105807},{filename:"/libraries/phaflangers.lib",start:1105807,end:1115728},{filename:"/libraries/filters.lib",start:1115728,end:1227744},{filename:"/libraries/signals.lib",start:1227744,end:1239698},{filename:"/libraries/instruments.lib",start:1239698,end:1249093},{filename:"/libraries/quantizers.lib",start:1249093,end:1258946},{filename:"/libraries/noises.lib",start:1258946,end:1273567},{filename:"/libraries/oscillator.lib",start:1273567,end:1293418},{filename:"/libraries/interpolators.lib",start:1293418,end:1316461},{filename:"/libraries/demos.lib",start:1316461,end:1379596},{filename:"/libraries/reverbs.lib",start:1379596,end:1417421},{filename:"/libraries/physmodels.lib",start:1417421,end:1588249},{filename:"/libraries/maths.lib",start:1588249,end:1609688}],remote_package_size:1609688,package_uuid:"e0cb90cb-711a-4db1-8894-e6808fcaad74"});var le=r.preRun.slice();if(!r.preRun)throw"Module.preRun should exist because file support used it; did a pre-js delete it?";le.forEach(function(e){if(r.preRun.indexOf(e)<0)throw"All preRun tasks that exist before user pre-js code should remain after; did you replace Module or modify Module.preRun?"});var ee,ce={};for(ee in r)r.hasOwnProperty(ee)&&(ce[ee]=r[ee]);var de="./this.program",Te=typeof window=="object",we=typeof importScripts=="function",pe=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",De=!Te&&!pe&&!we;if(r.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var ve,He,Ie,Ce,Se,Me="";function tt(e){return r.locateFile?r.locateFile(e,Me):Me+e}if(pe){if(typeof process!="object")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");Me=we?b(606).dirname(Me)+"/":"//",ve=function(e,t){return Ce||(Ce=b(351)),Se||(Se=b(606)),e=Se.normalize(e),Ce.readFileSync(e,t?null:"utf8")},Ie=function(e){var t=ve(e,!0);return t.buffer||(t=new Uint8Array(t)),m(t.buffer),t},He=function(e,t,n){Ce||(Ce=b(351)),Se||(Se=b(606)),e=Se.normalize(e),Ce.readFile(e,function(o,a){o?n(o):t(a.buffer)})},process.argv.length>1&&(de=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof ri))throw e}),process.on("unhandledRejection",function(e){throw e}),r.inspect=function(){return"[Emscripten Module object]"}}else if(De){if(typeof process=="object"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read!="undefined"&&(ve=function(e){return read(e)}),Ie=function(e){var t;return typeof readbuffer=="function"?new Uint8Array(readbuffer(e)):(m(typeof(t=read(e,"binary"))=="object"),t)},He=function(e,t,n){setTimeout(function(){t(Ie(e))},0)},typeof scriptArgs!="undefined"&&scriptArgs,typeof print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=print,console.warn=console.error=typeof printErr!="undefined"?printErr:print)}else{if(!Te&&!we)throw new Error("environment detection error");if(we?Me=self.location.href:typeof document!="undefined"&&document.currentScript&&(Me=document.currentScript.src),P&&(Me=P),Me=Me.indexOf("blob:")!==0?Me.substr(0,Me.replace(/[?#].*/,"").lastIndexOf("/")+1):"",typeof window!="object"&&typeof importScripts!="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");ve=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},we&&(Ie=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),He=function(e,t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){o.status==200||o.status==0&&o.response?t(o.response):n()},o.onerror=n,o.send(null)}}var je=r.print||console.log.bind(console),be=r.printErr||console.warn.bind(console);for(ee in ce)ce.hasOwnProperty(ee)&&(r[ee]=ce[ee]);function ke(e){ke.shown||(ke.shown={}),ke.shown[e]||(ke.shown[e]=1,be(e))}ce=null,r.arguments&&r.arguments,Object.getOwnPropertyDescriptor(r,"arguments")||Object.defineProperty(r,"arguments",{configurable:!0,get:function(){c("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),r.thisProgram&&(de=r.thisProgram),Object.getOwnPropertyDescriptor(r,"thisProgram")||Object.defineProperty(r,"thisProgram",{configurable:!0,get:function(){c("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),r.quit&&r.quit,Object.getOwnPropertyDescriptor(r,"quit")||Object.defineProperty(r,"quit",{configurable:!0,get:function(){c("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),m(r.memoryInitializerPrefixURL===void 0,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),m(r.pthreadMainPrefixURL===void 0,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),m(r.cdInitializerPrefixURL===void 0,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),m(r.filePackagePrefixURL===void 0,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),m(r.read===void 0,"Module.read option was removed (modify read_ in JS)"),m(r.readAsync===void 0,"Module.readAsync option was removed (modify readAsync in JS)"),m(r.readBinary===void 0,"Module.readBinary option was removed (modify readBinary in JS)"),m(r.setWindowTitle===void 0,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),m(r.TOTAL_MEMORY===void 0,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(r,"read")||Object.defineProperty(r,"read",{configurable:!0,get:function(){c("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(r,"readAsync")||Object.defineProperty(r,"readAsync",{configurable:!0,get:function(){c("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(r,"readBinary")||Object.defineProperty(r,"readBinary",{configurable:!0,get:function(){c("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(r,"setWindowTitle")||Object.defineProperty(r,"setWindowTitle",{configurable:!0,get:function(){c("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),m(!De,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.");var T,E;r.wasmBinary&&(T=r.wasmBinary),Object.getOwnPropertyDescriptor(r,"wasmBinary")||Object.defineProperty(r,"wasmBinary",{configurable:!0,get:function(){c("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),r.noExitRuntime,Object.getOwnPropertyDescriptor(r,"noExitRuntime")||Object.defineProperty(r,"noExitRuntime",{configurable:!0,get:function(){c("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),typeof WebAssembly!="object"&&c("no native wasm support detected");var I=!1;function m(e,t){e||c("Assertion failed: "+t)}function N(e){var t=r["_"+e];return m(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function V(e,t,n,o,a){var u={string:function(A){var z=0;if(A!=null&&A!==0){var Z=1+(A.length<<2);D(A,z=ir(Z),Z)}return z},array:function(A){var z=ir(A.length);return ur(A,z),z}},h=N(e),p=[],y=0;if(m(t!=="array",'Return type should not be "array".'),o)for(var C=0;C<o.length;C++){var R=u[n[C]];R?(y===0&&(y=ei()),p[C]=R(o[C])):p[C]=o[C]}var L=h.apply(null,p);return function(A){return y!==0&&ti(y),function(z){return t==="string"?_(z):t==="boolean"?Boolean(z):z}(A)}(L)}function te(e,t,n,o){return function(){return V(e,t,n,arguments)}}var j=1;function d(e,t){var n;return m(typeof t=="number","allocate no longer takes a type argument"),m(typeof e!="number","allocate no longer takes a number as arg0"),n=t==j?ir(e.length):ze(e.length),e.subarray||e.slice?i.set(e,n):i.set(new Uint8Array(e),n),n}var f=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function l(e,t,n){for(var o=t+n,a=t;e[a]&&!(a>=o);)++a;if(a-t>16&&e.subarray&&f)return f.decode(e.subarray(t,a));for(var u="";t<a;){var h=e[t++];if(128&h){var p=63&e[t++];if((224&h)!=192){var y=63&e[t++];if((240&h)==224?h=(15&h)<<12|p<<6|y:((248&h)!=240&&ke("Invalid UTF-8 leading byte 0x"+h.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),h=(7&h)<<18|p<<12|y<<6|63&e[t++]),h<65536)u+=String.fromCharCode(h);else{var C=h-65536;u+=String.fromCharCode(55296|C>>10,56320|1023&C)}}else u+=String.fromCharCode((31&h)<<6|p)}else u+=String.fromCharCode(h)}return u}function _(e,t){return e?l(i,e,t):""}function w(e,t,n,o){if(!(o>0))return 0;for(var a=n,u=n+o-1,h=0;h<e.length;++h){var p=e.charCodeAt(h);if(p>=55296&&p<=57343&&(p=65536+((1023&p)<<10)|1023&e.charCodeAt(++h)),p<=127){if(n>=u)break;t[n++]=p}else if(p<=2047){if(n+1>=u)break;t[n++]=192|p>>6,t[n++]=128|63&p}else if(p<=65535){if(n+2>=u)break;t[n++]=224|p>>12,t[n++]=128|p>>6&63,t[n++]=128|63&p}else{if(n+3>=u)break;p>1114111&&ke("Invalid Unicode code point 0x"+p.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[n++]=240|p>>18,t[n++]=128|p>>12&63,t[n++]=128|p>>6&63,t[n++]=128|63&p}}return t[n]=0,n-a}function D(e,t,n){return m(typeof n=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),w(e,i,t,n)}function F(e){for(var t=0,n=0;n<e.length;++n){var o=e.charCodeAt(n);o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++n)),o<=127?++t:t+=o<=2047?2:o<=65535?3:4}return t}var X,Q,i,B,oe,S,ue,v,U,G=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0;function re(e,t){m(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var n=e,o=n>>1,a=o+t/2;!(o>=a)&&oe[o];)++o;if((n=o<<1)-e>32&&G)return G.decode(i.subarray(e,n));for(var u="",h=0;!(h>=t/2);++h){var p=B[e+2*h>>1];if(p==0)break;u+=String.fromCharCode(p)}return u}function Y(e,t,n){if(m(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),m(typeof n=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),n===void 0&&(n=2147483647),n<2)return 0;for(var o=t,a=(n-=2)<2*e.length?n/2:e.length,u=0;u<a;++u){var h=e.charCodeAt(u);B[t>>1]=h,t+=2}return B[t>>1]=0,t-o}function Ne(e){return 2*e.length}function Ht(e,t){m(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var n=0,o="";!(n>=t/4);){var a=S[e+4*n>>2];if(a==0)break;if(++n,a>=65536){var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}else o+=String.fromCharCode(a)}return o}function Ut(e,t,n){if(m(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),m(typeof n=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),n===void 0&&(n=2147483647),n<4)return 0;for(var o=t,a=o+n-4,u=0;u<e.length;++u){var h=e.charCodeAt(u);if(h>=55296&&h<=57343&&(h=65536+((1023&h)<<10)|1023&e.charCodeAt(++u)),S[t>>2]=h,(t+=4)+4>a)break}return S[t>>2]=0,t-o}function Ue(e){for(var t=0,n=0;n<e.length;++n){var o=e.charCodeAt(n);o>=55296&&o<=57343&&++n,t+=4}return t}function cr(e){var t=F(e)+1,n=ze(t);return n&&w(e,Q,n,t),n}function ur(e,t){m(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),Q.set(e,t)}function Ur(e,t,n){for(var o=0;o<e.length;++o)m(e.charCodeAt(o)===(255&e.charCodeAt(o))),Q[t++>>0]=e.charCodeAt(o);n||(Q[t>>0]=0)}function jr(e,t){return e%t>0&&(e+=t-e%t),e}function lr(e){X=e,r.HEAP8=Q=new Int8Array(e),r.HEAP16=B=new Int16Array(e),r.HEAP32=S=new Int32Array(e),r.HEAPU8=i=new Uint8Array(e),r.HEAPU16=oe=new Uint16Array(e),r.HEAPU32=ue=new Uint32Array(e),r.HEAPF32=v=new Float32Array(e),r.HEAPF64=U=new Float64Array(e)}var jt=5242880;r.TOTAL_STACK&&m(jt===r.TOTAL_STACK,"the stack size can no longer be determined at runtime");var $t,Lt=r.INITIAL_MEMORY||16777216;function dr(){var e=sr();m((3&e)==0),S[e+4>>2]=34821223,S[e+8>>2]=2310721022,S[0]=1668509029}function _t(){if(!I){var e=sr(),t=ue[e+4>>2],n=ue[e+8>>2];t==34821223&&n==2310721022||c("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+n.toString(16)+" "+t.toString(16)),S[0]!==1668509029&&c("Runtime error: The application has corrupted its heap memory area (address zero)!")}}Object.getOwnPropertyDescriptor(r,"INITIAL_MEMORY")||Object.defineProperty(r,"INITIAL_MEMORY",{configurable:!0,get:function(){c("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),m(Lt>=jt,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+Lt+"! (TOTAL_STACK="+jt+")"),m(typeof Int32Array!="undefined"&&typeof Float64Array!="undefined"&&Int32Array.prototype.subarray!==void 0&&Int32Array.prototype.set!==void 0,"JS engine does not provide full typed array support"),m(!r.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),m(Lt==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically"),function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,t[0]!==115||t[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"}();var pr=[],hr=[],fr=[],Xt=!1,$r=!1;function Lr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Vr(r.preRun.shift());Vt(pr)}function Xr(){_t(),m(!Xt),Xt=!0,r.noFSInit||s.init.initialized||s.init(),s.ignorePermissions=!1,Oe.root=s.mount(Oe,{},null),Vt(hr)}function Qr(){if(_t(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Wr(r.postRun.shift());Vt(fr)}function Vr(e){pr.unshift(e)}function zr(e){hr.unshift(e)}function Wr(e){fr.unshift(e)}m(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Ye=0,Ze=null,st=null,rt={};function mr(e){for(var t=e;;){if(!rt[e])return e;e=t+Math.random()}}function yt(e){Ye++,r.monitorRunDependencies&&r.monitorRunDependencies(Ye),e?(m(!rt[e]),rt[e]=1,Ze===null&&typeof setInterval!="undefined"&&(Ze=setInterval(function(){if(I)return clearInterval(Ze),void(Ze=null);var t=!1;for(var n in rt)t||(t=!0,be("still waiting on run dependencies:")),be("dependency: "+n);t&&be("(end of list)")},1e4))):be("warning: run dependency added without ID")}function at(e){if(Ye--,r.monitorRunDependencies&&r.monitorRunDependencies(Ye),e?(m(rt[e]),delete rt[e]):be("warning: run dependency removed without ID"),Ye==0&&(Ze!==null&&(clearInterval(Ze),Ze=null),st)){var t=st;st=null,t()}}function c(e){r.onAbort&&r.onAbort(e),be(e="Aborted("+e+")"),I=!0;var t=new WebAssembly.RuntimeError(e);throw H(t),t}r.preloadedImages={},r.preloadedAudios={};var Ae,Pe,$e,Br="data:application/octet-stream;base64,";function gr(e){return e.startsWith(Br)}function Qt(e){return e.startsWith("file://")}function he(e,t){return function(){var n=e,o=t;return t||(o=r.asm),m(Xt,"native function `"+n+"` called before runtime initialization"),m(!$r,"native function `"+n+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),o[e]||m(o[e],"exported native function `"+n+"` not found"),o[e].apply(null,arguments)}}function Er(e){try{if(e==Ae&&T)return new Uint8Array(T);if(Ie)return Ie(e);throw"both async and sync fetching of the wasm failed"}catch(t){c(t)}}function qr(){if(!T&&(Te||we)){if(typeof fetch=="function"&&!Qt(Ae))return fetch(Ae,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Ae+"'";return e.arrayBuffer()}).catch(function(){return Er(Ae)});if(He)return new Promise(function(e,t){He(Ae,function(n){e(new Uint8Array(n))},t)})}return Promise.resolve().then(function(){return Er(Ae)})}function Gr(){var e={env:kr,wasi_snapshot_preview1:kr};function t(u,h){var p=u.exports;r.asm=p,m(E=r.asm.memory,"memory not found in wasm exports"),lr(E.buffer),m($t=r.asm.__indirect_function_table,"table not found in wasm exports"),zr(r.asm.__wasm_call_ctors),at("wasm-instantiate")}yt("wasm-instantiate");var n=r;function o(u){m(r===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,t(u.instance)}function a(u){return qr().then(function(h){return WebAssembly.instantiate(h,e)}).then(function(h){return h}).then(u,function(h){be("failed to asynchronously prepare wasm: "+h),Qt(Ae)&&be("warning: Loading from a file URI ("+Ae+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),c(h)})}if(r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(u){return be("Module.instantiateWasm callback failed with error: "+u),!1}return(T||typeof WebAssembly.instantiateStreaming!="function"||gr(Ae)||Qt(Ae)||typeof fetch!="function"?a(o):fetch(Ae,{credentials:"same-origin"}).then(function(u){return WebAssembly.instantiateStreaming(u,e).then(o,function(h){return be("wasm streaming compile failed: "+h),be("falling back to ArrayBuffer instantiation"),a(o)})})).catch(H),{}}gr(Ae="libfaust-wasm.wasm")||(Ae=tt(Ae));var _r={140704:function(e){var t="";try{var n=new XMLHttpRequest;n.open("GET",r.UTF8ToString(e),!1),n.send(),n.status==200&&(t=n.responseText)}catch(o){console.log(o)}return d(mt(t),"i8")},140999:function(e){faust_module.faust.wasm_instance[e]=null},141048:function(e){return faust_module._malloc(e)},141085:function(e){faust_module._free(e)},141113:function(e,t){return faust_module.faust.wasm_instance[e].exports.getNumInputs(t)},141187:function(e,t){return faust_module.faust.wasm_instance[e].exports.getNumOutputs(t)},141262:function(e,t){return faust_module.faust.wasm_instance[e].exports.getSampleRate(t)},141337:function(e,t,n){faust_module.faust.wasm_instance[e].exports.init(t,n)},141400:function(e,t,n){faust_module.faust.wasm_instance[e].exports.instanceInit(t,n)},141471:function(e,t,n){faust_module.faust.wasm_instance[e].exports.instanceConstants(t,n)},141547:function(e,t){faust_module.faust.wasm_instance[e].exports.instanceResetUserInterface(t)},141628:function(e,t){faust_module.faust.wasm_instance[e].exports.instanceClear(t)},141696:function(e,t,n,o,a){faust_module.faust.wasm_instance[e].exports.compute(t,n,o,a)},141770:function(e,t,n,o,a){faust_module.faust.wasm_instance[e].exports.compute(t,n,o,a)}};function Yr(){faust_module.faust=faust_module.faust||{},faust_module.faust.memory=faust_module.faust.memory||E}function Vt(e){for(;e.length>0;){var t=e.shift();if(typeof t!="function"){var n=t.func;typeof n=="number"?t.arg===void 0?ct(n)():ct(n)(t.arg):n(t.arg===void 0?null:t.arg)}else t(r)}}function Zr(e){return ke("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function Kr(e){return e.replace(/\b_Z[\w\d_]+/g,function(t){var n=Zr(t);return t===n?t:n+" ["+t+"]"})}var bt=[];function ct(e){var t=bt[e];return t||(e>=bt.length&&(bt.length=e+1),bt[e]=t=$t.get(e)),m($t.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t}function Jr(e){return ze(e+16)+16}function en(e,t){}function tn(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(t){S[this.ptr+4>>2]=t},this.get_type=function(){return S[this.ptr+4>>2]},this.set_destructor=function(t){S[this.ptr+8>>2]=t},this.get_destructor=function(){return S[this.ptr+8>>2]},this.set_refcount=function(t){S[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,Q[this.ptr+12>>0]=t},this.get_caught=function(){return Q[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,Q[this.ptr+13>>0]=t},this.get_rethrown=function(){return Q[this.ptr+13>>0]!=0},this.init=function(t,n){this.set_type(t),this.set_destructor(n),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=S[this.ptr>>2];S[this.ptr>>2]=t+1},this.release_ref=function(){var t=S[this.ptr>>2];return S[this.ptr>>2]=t-1,m(t>0),t===1}}function rn(e,t,n){throw new tn(e).init(t,n),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function nn(){var e=new Date().getFullYear(),t=new Date(e,0,1),n=new Date(e,6,1),o=t.getTimezoneOffset(),a=n.getTimezoneOffset(),u=Math.max(o,a);function h(L){var A=L.toTimeString().match(/\(([A-Za-z ]+)\)$/);return A?A[1]:"GMT"}S[Jo()>>2]=60*u,S[Ko()>>2]=Number(o!=a);var p=h(t),y=h(n),C=cr(p),R=cr(y);a<o?(S[gt()>>2]=C,S[gt()+4>>2]=R):(S[gt()>>2]=R,S[gt()+4>>2]=C)}function zt(){zt.called||(zt.called=!0,nn())}function on(e,t){zt();var n=new Date(1e3*S[e>>2]);S[t>>2]=n.getSeconds(),S[t+4>>2]=n.getMinutes(),S[t+8>>2]=n.getHours(),S[t+12>>2]=n.getDate(),S[t+16>>2]=n.getMonth(),S[t+20>>2]=n.getFullYear()-1900,S[t+24>>2]=n.getDay();var o=new Date(n.getFullYear(),0,1),a=(n.getTime()-o.getTime())/864e5|0;S[t+28>>2]=a,S[t+36>>2]=-60*n.getTimezoneOffset();var u=new Date(n.getFullYear(),6,1).getTimezoneOffset(),h=o.getTimezoneOffset(),p=0|(u!=h&&n.getTimezoneOffset()==Math.min(h,u));S[t+32>>2]=p;var y=S[gt()+(p?4:0)>>2];return S[t+40>>2]=y,t}function sn(e,t){return on(e,t)}var ge={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,o=e.length-1;o>=0;o--){var a=e[o];a==="."?e.splice(o,1):a===".."?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=e.charAt(0)==="/",n=e.substr(-1)==="/";return(e=ge.normalizeArray(e.split("/").filter(function(o){return!!o}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=ge.splitPath(e),n=t[0],o=t[1];return n||o?(o&&(o=o.substr(0,o.length-1)),n+o):"."},basename:function(e){if(e==="/")return"/";var t=(e=(e=ge.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return t===-1?e:e.substr(t+1)},extname:function(e){return ge.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return ge.normalize(e.join("/"))},join2:function(e,t){return ge.normalize(e+"/"+t)}};function an(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(pe)try{var t=b(85);return function(){return t.randomBytes(1)[0]}}catch{}return function(){c("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var Le={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var o=n>=0?arguments[n]:s.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";e=o+"/"+e,t=o.charAt(0)==="/"}return(t?"/":"")+(e=ge.normalizeArray(e.split("/").filter(function(a){return!!a}),!t).join("/"))||"."},relative:function(e,t){function n(C){for(var R=0;R<C.length&&C[R]==="";R++);for(var L=C.length-1;L>=0&&C[L]==="";L--);return R>L?[]:C.slice(R,L-R+1)}e=Le.resolve(e).substr(1),t=Le.resolve(t).substr(1);for(var o=n(e.split("/")),a=n(t.split("/")),u=Math.min(o.length,a.length),h=u,p=0;p<u;p++)if(o[p]!==a[p]){h=p;break}var y=[];for(p=h;p<o.length;p++)y.push("..");return(y=y.concat(a.slice(h))).join("/")}},Ke={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ke.ttys[e]={input:[],output:[],ops:t},s.registerDevice(e,Ke.stream_ops)},stream_ops:{open:function(e){var t=Ke.ttys[e.node.rdev];if(!t)throw new s.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,o,a){if(!e.tty||!e.tty.ops.get_char)throw new s.ErrnoError(60);for(var u=0,h=0;h<o;h++){var p;try{p=e.tty.ops.get_char(e.tty)}catch{throw new s.ErrnoError(29)}if(p===void 0&&u===0)throw new s.ErrnoError(6);if(p==null)break;u++,t[n+h]=p}return u&&(e.node.timestamp=Date.now()),u},write:function(e,t,n,o,a){if(!e.tty||!e.tty.ops.put_char)throw new s.ErrnoError(60);try{for(var u=0;u<o;u++)e.tty.ops.put_char(e.tty,t[n+u])}catch{throw new s.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),u}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(pe){var n=Buffer.alloc(256),o=0;try{o=Ce.readSync(process.stdin.fd,n,0,256,null)}catch(a){if(!a.toString().includes("EOF"))throw a;o=0}t=o>0?n.slice(0,o).toString("utf-8"):null}else typeof window!="undefined"&&typeof window.prompt=="function"?(t=window.prompt("Input: "))!==null&&(t+=`
`):typeof readline=="function"&&(t=readline())!==null&&(t+=`
`);if(!t)return null;e.input=mt(t,!0)}return e.input.shift()},put_char:function(e,t){t===null||t===10?(je(l(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(je(l(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){t===null||t===10?(be(l(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(be(l(e.output,0)),e.output=[])}}};function cn(e){c("internal error: mmapAlloc called but `memalign` native symbol not exported")}var se={ops_table:null,mount:function(e){return se.createNode(null,"/",16895,0)},createNode:function(e,t,n,o){if(s.isBlkdev(n)||s.isFIFO(n))throw new s.ErrnoError(63);se.ops_table||(se.ops_table={dir:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,lookup:se.node_ops.lookup,mknod:se.node_ops.mknod,rename:se.node_ops.rename,unlink:se.node_ops.unlink,rmdir:se.node_ops.rmdir,readdir:se.node_ops.readdir,symlink:se.node_ops.symlink},stream:{llseek:se.stream_ops.llseek}},file:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:{llseek:se.stream_ops.llseek,read:se.stream_ops.read,write:se.stream_ops.write,allocate:se.stream_ops.allocate,mmap:se.stream_ops.mmap,msync:se.stream_ops.msync}},link:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,readlink:se.node_ops.readlink},stream:{}},chrdev:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:s.chrdev_stream_ops}});var a=s.createNode(e,t,n,o);return s.isDir(a.mode)?(a.node_ops=se.ops_table.dir.node,a.stream_ops=se.ops_table.dir.stream,a.contents={}):s.isFile(a.mode)?(a.node_ops=se.ops_table.file.node,a.stream_ops=se.ops_table.file.stream,a.usedBytes=0,a.contents=null):s.isLink(a.mode)?(a.node_ops=se.ops_table.link.node,a.stream_ops=se.ops_table.link.stream):s.isChrdev(a.mode)&&(a.node_ops=se.ops_table.chrdev.node,a.stream_ops=se.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[t]=a,e.timestamp=a.timestamp),a},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),n!=0&&(t=Math.max(t,256));var o=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=s.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,s.isDir(e.mode)?t.size=4096:s.isFile(e.mode)?t.size=e.usedBytes:s.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&se.resizeFileStorage(e,t.size)},lookup:function(e,t){throw s.genericErrors[44]},mknod:function(e,t,n,o){return se.createNode(e,t,n,o)},rename:function(e,t,n){if(s.isDir(e.mode)){var o;try{o=s.lookupNode(t,n)}catch{}if(o)for(var a in o.contents)throw new s.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=s.lookupNode(e,t);for(var o in n.contents)throw new s.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var o=se.createNode(e,t,41471,0);return o.link=n,o},readlink:function(e){if(!s.isLink(e.mode))throw new s.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,o,a){var u=e.node.contents;if(a>=e.node.usedBytes)return 0;var h=Math.min(e.node.usedBytes-a,o);if(m(h>=0),h>8&&u.subarray)t.set(u.subarray(a,a+h),n);else for(var p=0;p<h;p++)t[n+p]=u[a+p];return h},write:function(e,t,n,o,a,u){if(m(!(t instanceof ArrayBuffer)),t.buffer===Q.buffer&&(u=!1),!o)return 0;var h=e.node;if(h.timestamp=Date.now(),t.subarray&&(!h.contents||h.contents.subarray)){if(u)return m(a===0,"canOwn must imply no weird position inside the file"),h.contents=t.subarray(n,n+o),h.usedBytes=o,o;if(h.usedBytes===0&&a===0)return h.contents=t.slice(n,n+o),h.usedBytes=o,o;if(a+o<=h.usedBytes)return h.contents.set(t.subarray(n,n+o),a),o}if(se.expandFileStorage(h,a+o),h.contents.subarray&&t.subarray)h.contents.set(t.subarray(n,n+o),a);else for(var p=0;p<o;p++)h.contents[a+p]=t[n+p];return h.usedBytes=Math.max(h.usedBytes,a+o),o},llseek:function(e,t,n){var o=t;if(n===1?o+=e.position:n===2&&s.isFile(e.node.mode)&&(o+=e.node.usedBytes),o<0)throw new s.ErrnoError(28);return o},allocate:function(e,t,n){se.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,o,a,u){if(t!==0)throw new s.ErrnoError(28);if(!s.isFile(e.node.mode))throw new s.ErrnoError(43);var h,p,y=e.node.contents;if(2&u||y.buffer!==X){if((o>0||o+n<y.length)&&(y=y.subarray?y.subarray(o,o+n):Array.prototype.slice.call(y,o,o+n)),p=!0,!(h=cn()))throw new s.ErrnoError(48);Q.set(y,h)}else p=!1,h=y.byteOffset;return{ptr:h,allocated:p}},msync:function(e,t,n,o,a){if(!s.isFile(e.node.mode))throw new s.ErrnoError(43);return 2&a||se.stream_ops.write(e,t,0,o,n,!1),0}}};function un(e,t,n,o){var a=o?"":mr("al "+e);He(e,function(u){m(u,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(u)),a&&at(a)},function(u){if(!n)throw'Loading data file "'+e+'" failed.';n()}),a&&yt(a)}var ln={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Wt={},s={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=Le.resolve(s.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var o in n)t[o]===void 0&&(t[o]=n[o]);if(t.recurse_count>8)throw new s.ErrnoError(32);for(var a=ge.normalizeArray(e.split("/").filter(function(L){return!!L}),!1),u=s.root,h="/",p=0;p<a.length;p++){var y=p===a.length-1;if(y&&t.parent)break;if(u=s.lookupNode(u,a[p]),h=ge.join2(h,a[p]),s.isMountpoint(u)&&(!y||y&&t.follow_mount)&&(u=u.mounted.root),!y||t.follow)for(var C=0;s.isLink(u.mode);){var R=s.readlink(h);if(h=Le.resolve(ge.dirname(h),R),u=s.lookupPath(h,{recurse_count:t.recurse_count}).node,C++>40)throw new s.ErrnoError(32)}}return{path:h,node:u}},getPath:function(e){for(var t;;){if(s.isRoot(e)){var n=e.mount.mountpoint;return t?n[n.length-1]!=="/"?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o)|0;return(e+n>>>0)%s.nameTable.length},hashAddNode:function(e){var t=s.hashName(e.parent.id,e.name);e.name_next=s.nameTable[t],s.nameTable[t]=e},hashRemoveNode:function(e){var t=s.hashName(e.parent.id,e.name);if(s.nameTable[t]===e)s.nameTable[t]=e.name_next;else for(var n=s.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=s.mayLookup(e);if(n)throw new s.ErrnoError(n,e);for(var o=s.hashName(e.id,t),a=s.nameTable[o];a;a=a.name_next){var u=a.name;if(a.parent.id===e.id&&u===t)return a}return s.lookup(e,t)},createNode:function(e,t,n,o){m(typeof e=="object");var a=new s.FSNode(e,t,n,o);return s.hashAddNode(a),a},destroyNode:function(e){s.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(61440&e)==32768},isDir:function(e){return(61440&e)==16384},isLink:function(e){return(61440&e)==40960},isChrdev:function(e){return(61440&e)==8192},isBlkdev:function(e){return(61440&e)==24576},isFIFO:function(e){return(61440&e)==4096},isSocket:function(e){return(49152&e)==49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=s.flagModes[e];if(t===void 0)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return s.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){return s.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return s.lookupNode(e,t),20}catch{}return s.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var o;try{o=s.lookupNode(e,t)}catch(u){return u.errno}var a=s.nodePermissions(e,"wx");if(a)return a;if(n){if(!s.isDir(o.mode))return 54;if(s.isRoot(o)||s.getPath(o)===s.cwd())return 10}else if(s.isDir(o.mode))return 31;return 0},mayOpen:function(e,t){return e?s.isLink(e.mode)?32:s.isDir(e.mode)&&(s.flagsToPermissionString(t)!=="r"||512&t)?31:s.nodePermissions(e,s.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||s.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!s.streams[n])return n;throw new s.ErrnoError(33)},getStream:function(e){return s.streams[e]},createStream:function(e,t,n){s.FSStream||(s.FSStream=function(){},s.FSStream.prototype={object:{get:function(){return this.node},set:function(h){this.node=h}},isRead:{get:function(){return(2097155&this.flags)!=1}},isWrite:{get:function(){return(2097155&this.flags)!=0}},isAppend:{get:function(){return 1024&this.flags}}});var o=new s.FSStream;for(var a in e)o[a]=e[a];e=o;var u=s.nextfd(t,n);return e.fd=u,s.streams[u]=e,e},closeStream:function(e){s.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=s.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new s.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){s.devices[e]={stream_ops:t}},getDevice:function(e){return s.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var o=n.pop();t.push(o),n.push.apply(n,o.mounts)}return t},syncfs:function(e,t){typeof e=="function"&&(t=e,e=!1),s.syncFSRequests++,s.syncFSRequests>1&&be("warning: "+s.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=s.getMounts(s.root.mount),o=0;function a(h){return m(s.syncFSRequests>0),s.syncFSRequests--,t(h)}function u(h){if(h)return u.errored?void 0:(u.errored=!0,a(h));++o>=n.length&&a(null)}n.forEach(function(h){if(!h.type.syncfs)return u(null);h.type.syncfs(h,e,u)})},mount:function(e,t,n){if(typeof e=="string")throw e;var o,a=n==="/",u=!n;if(a&&s.root)throw new s.ErrnoError(10);if(!a&&!u){var h=s.lookupPath(n,{follow_mount:!1});if(n=h.path,o=h.node,s.isMountpoint(o))throw new s.ErrnoError(10);if(!s.isDir(o.mode))throw new s.ErrnoError(54)}var p={type:e,opts:t,mountpoint:n,mounts:[]},y=e.mount(p);return y.mount=p,p.root=y,a?s.root=y:o&&(o.mounted=p,o.mount&&o.mount.mounts.push(p)),y},unmount:function(e){var t=s.lookupPath(e,{follow_mount:!1});if(!s.isMountpoint(t.node))throw new s.ErrnoError(28);var n=t.node,o=n.mounted,a=s.getMounts(o);Object.keys(s.nameTable).forEach(function(h){for(var p=s.nameTable[h];p;){var y=p.name_next;a.includes(p.mount)&&s.destroyNode(p),p=y}}),n.mounted=null;var u=n.mount.mounts.indexOf(o);m(u!==-1),n.mount.mounts.splice(u,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var o=s.lookupPath(e,{parent:!0}).node,a=ge.basename(e);if(!a||a==="."||a==="..")throw new s.ErrnoError(28);var u=s.mayCreate(o,a);if(u)throw new s.ErrnoError(u);if(!o.node_ops.mknod)throw new s.ErrnoError(63);return o.node_ops.mknod(o,a,t,n)},create:function(e,t){return t=t!==void 0?t:438,t&=4095,t|=32768,s.mknod(e,t,0)},mkdir:function(e,t){return t=t!==void 0?t:511,t&=1023,t|=16384,s.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),o="",a=0;a<n.length;++a)if(n[a]){o+="/"+n[a];try{s.mkdir(o,t)}catch(u){if(u.errno!=20)throw u}}},mkdev:function(e,t,n){return n===void 0&&(n=t,t=438),t|=8192,s.mknod(e,t,n)},symlink:function(e,t){if(!Le.resolve(e))throw new s.ErrnoError(44);var n=s.lookupPath(t,{parent:!0}).node;if(!n)throw new s.ErrnoError(44);var o=ge.basename(t),a=s.mayCreate(n,o);if(a)throw new s.ErrnoError(a);if(!n.node_ops.symlink)throw new s.ErrnoError(63);return n.node_ops.symlink(n,o,e)},rename:function(e,t){var n,o,a=ge.dirname(e),u=ge.dirname(t),h=ge.basename(e),p=ge.basename(t);if(n=s.lookupPath(e,{parent:!0}).node,o=s.lookupPath(t,{parent:!0}).node,!n||!o)throw new s.ErrnoError(44);if(n.mount!==o.mount)throw new s.ErrnoError(75);var y,C=s.lookupNode(n,h),R=Le.relative(e,u);if(R.charAt(0)!==".")throw new s.ErrnoError(28);if((R=Le.relative(t,a)).charAt(0)!==".")throw new s.ErrnoError(55);try{y=s.lookupNode(o,p)}catch{}if(C!==y){var L=s.isDir(C.mode),A=s.mayDelete(n,h,L);if(A)throw new s.ErrnoError(A);if(A=y?s.mayDelete(o,p,L):s.mayCreate(o,p))throw new s.ErrnoError(A);if(!n.node_ops.rename)throw new s.ErrnoError(63);if(s.isMountpoint(C)||y&&s.isMountpoint(y))throw new s.ErrnoError(10);if(o!==n&&(A=s.nodePermissions(n,"w")))throw new s.ErrnoError(A);s.hashRemoveNode(C);try{n.node_ops.rename(C,o,p)}catch(z){throw z}finally{s.hashAddNode(C)}}},rmdir:function(e){var t=s.lookupPath(e,{parent:!0}).node,n=ge.basename(e),o=s.lookupNode(t,n),a=s.mayDelete(t,n,!0);if(a)throw new s.ErrnoError(a);if(!t.node_ops.rmdir)throw new s.ErrnoError(63);if(s.isMountpoint(o))throw new s.ErrnoError(10);t.node_ops.rmdir(t,n),s.destroyNode(o)},readdir:function(e){var t=s.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new s.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=s.lookupPath(e,{parent:!0}).node,n=ge.basename(e),o=s.lookupNode(t,n),a=s.mayDelete(t,n,!1);if(a)throw new s.ErrnoError(a);if(!t.node_ops.unlink)throw new s.ErrnoError(63);if(s.isMountpoint(o))throw new s.ErrnoError(10);t.node_ops.unlink(t,n),s.destroyNode(o)},readlink:function(e){var t=s.lookupPath(e).node;if(!t)throw new s.ErrnoError(44);if(!t.node_ops.readlink)throw new s.ErrnoError(28);return Le.resolve(s.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=s.lookupPath(e,{follow:!t}).node;if(!n)throw new s.ErrnoError(44);if(!n.node_ops.getattr)throw new s.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return s.stat(e,!0)},chmod:function(e,t,n){var o;if(!(o=typeof e=="string"?s.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new s.ErrnoError(63);o.node_ops.setattr(o,{mode:4095&t|-4096&o.mode,timestamp:Date.now()})},lchmod:function(e,t){s.chmod(e,t,!0)},fchmod:function(e,t){var n=s.getStream(e);if(!n)throw new s.ErrnoError(8);s.chmod(n.node,t)},chown:function(e,t,n,o){var a;if(!(a=typeof e=="string"?s.lookupPath(e,{follow:!o}).node:e).node_ops.setattr)throw new s.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,t,n){s.chown(e,t,n,!0)},fchown:function(e,t,n){var o=s.getStream(e);if(!o)throw new s.ErrnoError(8);s.chown(o.node,t,n)},truncate:function(e,t){if(t<0)throw new s.ErrnoError(28);var n;if(!(n=typeof e=="string"?s.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new s.ErrnoError(63);if(s.isDir(n.mode))throw new s.ErrnoError(31);if(!s.isFile(n.mode))throw new s.ErrnoError(28);var o=s.nodePermissions(n,"w");if(o)throw new s.ErrnoError(o);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=s.getStream(e);if(!n)throw new s.ErrnoError(8);if((2097155&n.flags)==0)throw new s.ErrnoError(28);s.truncate(n.node,t)},utime:function(e,t,n){var o=s.lookupPath(e,{follow:!0}).node;o.node_ops.setattr(o,{timestamp:Math.max(t,n)})},open:function(e,t,n,o,a){if(e==="")throw new s.ErrnoError(44);var u;if(n=n===void 0?438:n,n=64&(t=typeof t=="string"?s.modeStringToFlags(t):t)?4095&n|32768:0,typeof e=="object")u=e;else{e=ge.normalize(e);try{u=s.lookupPath(e,{follow:!(131072&t)}).node}catch{}}var h=!1;if(64&t)if(u){if(128&t)throw new s.ErrnoError(20)}else u=s.mknod(e,n,0),h=!0;if(!u)throw new s.ErrnoError(44);if(s.isChrdev(u.mode)&&(t&=-513),65536&t&&!s.isDir(u.mode))throw new s.ErrnoError(54);if(!h){var p=s.mayOpen(u,t);if(p)throw new s.ErrnoError(p)}512&t&&s.truncate(u,0),t&=-131713;var y=s.createStream({node:u,path:s.getPath(u),id:u.id,flags:t,mode:u.mode,seekable:!0,position:0,stream_ops:u.stream_ops,node_ops:u.node_ops,ungotten:[],error:!1},o,a);return y.stream_ops.open&&y.stream_ops.open(y),!r.logReadFiles||1&t||(s.readFiles||(s.readFiles={}),e in s.readFiles||(s.readFiles[e]=1)),y},close:function(e){if(s.isClosed(e))throw new s.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{s.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,t,n){if(s.isClosed(e))throw new s.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new s.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new s.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,o,a){if(o<0||a<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if((2097155&e.flags)==1)throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.read)throw new s.ErrnoError(28);var u=a!==void 0;if(u){if(!e.seekable)throw new s.ErrnoError(70)}else a=e.position;var h=e.stream_ops.read(e,t,n,o,a);return u||(e.position+=h),h},write:function(e,t,n,o,a,u){if(o<0||a<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if((2097155&e.flags)==0)throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.write)throw new s.ErrnoError(28);e.seekable&&1024&e.flags&&s.llseek(e,0,2);var h=a!==void 0;if(h){if(!e.seekable)throw new s.ErrnoError(70)}else a=e.position;var p=e.stream_ops.write(e,t,n,o,a,u);return h||(e.position+=p),p},allocate:function(e,t,n){if(s.isClosed(e))throw new s.ErrnoError(8);if(t<0||n<=0)throw new s.ErrnoError(28);if((2097155&e.flags)==0)throw new s.ErrnoError(8);if(!s.isFile(e.node.mode)&&!s.isDir(e.node.mode))throw new s.ErrnoError(43);if(!e.stream_ops.allocate)throw new s.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,o,a,u){if((2&a)!=0&&(2&u)==0&&(2097155&e.flags)!=2)throw new s.ErrnoError(2);if((2097155&e.flags)==1)throw new s.ErrnoError(2);if(!e.stream_ops.mmap)throw new s.ErrnoError(43);return e.stream_ops.mmap(e,t,n,o,a,u)},msync:function(e,t,n,o,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,o,a):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new s.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error('Invalid encoding type "'+t.encoding+'"');var n,o=s.open(e,t.flags),a=s.stat(e).size,u=new Uint8Array(a);return s.read(o,u,0,a,0),t.encoding==="utf8"?n=l(u,0):t.encoding==="binary"&&(n=u),s.close(o),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||577;var o=s.open(e,n.flags,n.mode);if(typeof t=="string"){var a=new Uint8Array(F(t)+1),u=w(t,a,0,a.length);s.write(o,a,0,u,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");s.write(o,t,0,t.byteLength,void 0,n.canOwn)}s.close(o)},cwd:function(){return s.currentPath},chdir:function(e){var t=s.lookupPath(e,{follow:!0});if(t.node===null)throw new s.ErrnoError(44);if(!s.isDir(t.node.mode))throw new s.ErrnoError(54);var n=s.nodePermissions(t.node,"x");if(n)throw new s.ErrnoError(n);s.currentPath=t.path},createDefaultDirectories:function(){s.mkdir("/tmp"),s.mkdir("/home"),s.mkdir("/home/web_user")},createDefaultDevices:function(){s.mkdir("/dev"),s.registerDevice(s.makedev(1,3),{read:function(){return 0},write:function(t,n,o,a,u){return a}}),s.mkdev("/dev/null",s.makedev(1,3)),Ke.register(s.makedev(5,0),Ke.default_tty_ops),Ke.register(s.makedev(6,0),Ke.default_tty1_ops),s.mkdev("/dev/tty",s.makedev(5,0)),s.mkdev("/dev/tty1",s.makedev(6,0));var e=an();s.createDevice("/dev","random",e),s.createDevice("/dev","urandom",e),s.mkdir("/dev/shm"),s.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){s.mkdir("/proc");var e=s.mkdir("/proc/self");s.mkdir("/proc/self/fd"),s.mount({mount:function(){var t=s.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(n,o){var a=+o,u=s.getStream(a);if(!u)throw new s.ErrnoError(8);var h={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return u.path}}};return h.parent=h,h}},t}},{},"/proc/self/fd")},createStandardStreams:function(){r.stdin?s.createDevice("/dev","stdin",r.stdin):s.symlink("/dev/tty","/dev/stdin"),r.stdout?s.createDevice("/dev","stdout",null,r.stdout):s.symlink("/dev/tty","/dev/stdout"),r.stderr?s.createDevice("/dev","stderr",null,r.stderr):s.symlink("/dev/tty1","/dev/stderr");var e=s.open("/dev/stdin",0),t=s.open("/dev/stdout",1),n=s.open("/dev/stderr",1);m(e.fd===0,"invalid handle for stdin ("+e.fd+")"),m(t.fd===1,"invalid handle for stdout ("+t.fd+")"),m(n.fd===2,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){s.ErrnoError||(s.ErrnoError=function(e,t){this.node=t,this.setErrno=function(n){for(var o in this.errno=n,Wt)if(Wt[o]===n){this.code=o;break}},this.setErrno(e),this.message=ln[e],this.stack&&(Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0}),this.stack=Kr(this.stack))},s.ErrnoError.prototype=new Error,s.ErrnoError.prototype.constructor=s.ErrnoError,[44].forEach(function(e){s.genericErrors[e]=new s.ErrnoError(e),s.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){s.ensureErrnoError(),s.nameTable=new Array(4096),s.mount(se,{},"/"),s.createDefaultDirectories(),s.createDefaultDevices(),s.createSpecialDirectories(),s.filesystems={MEMFS:se}},init:function(e,t,n){m(!s.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),s.init.initialized=!0,s.ensureErrnoError(),r.stdin=e||r.stdin,r.stdout=t||r.stdout,r.stderr=n||r.stderr,s.createStandardStreams()},quit:function(){s.init.initialized=!1;var e=r._fflush;e&&e(0);for(var t=0;t<s.streams.length;t++){var n=s.streams[t];n&&s.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:function(e,t){var n=s.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(o=s.lookupPath(e,{follow:!t})).path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=s.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=o.path,n.parentObject=o.node,n.name=ge.basename(e),o=s.lookupPath(e,{follow:!t}),n.exists=!0,n.path=o.path,n.object=o.node,n.name=o.node.name,n.isRoot=o.path==="/"}catch(a){n.error=a.errno}return n},createPath:function(e,t,n,o){e=typeof e=="string"?e:s.getPath(e);for(var a=t.split("/").reverse();a.length;){var u=a.pop();if(u){var h=ge.join2(e,u);try{s.mkdir(h)}catch{}e=h}}return h},createFile:function(e,t,n,o,a){var u=ge.join2(typeof e=="string"?e:s.getPath(e),t),h=s.getMode(o,a);return s.create(u,h)},createDataFile:function(e,t,n,o,a,u){var h=t?ge.join2(typeof e=="string"?e:s.getPath(e),t):e,p=s.getMode(o,a),y=s.create(h,p);if(n){if(typeof n=="string"){for(var C=new Array(n.length),R=0,L=n.length;R<L;++R)C[R]=n.charCodeAt(R);n=C}s.chmod(y,146|p);var A=s.open(y,577);s.write(A,n,0,n.length,0,u),s.close(A),s.chmod(y,p)}return y},createDevice:function(e,t,n,o){var a=ge.join2(typeof e=="string"?e:s.getPath(e),t),u=s.getMode(!!n,!!o);s.createDevice.major||(s.createDevice.major=64);var h=s.makedev(s.createDevice.major++,0);return s.registerDevice(h,{open:function(p){p.seekable=!1},close:function(p){o&&o.buffer&&o.buffer.length&&o(10)},read:function(p,y,C,R,L){for(var A=0,z=0;z<R;z++){var Z;try{Z=n()}catch{throw new s.ErrnoError(29)}if(Z===void 0&&A===0)throw new s.ErrnoError(6);if(Z==null)break;A++,y[C+z]=Z}return A&&(p.node.timestamp=Date.now()),A},write:function(p,y,C,R,L){for(var A=0;A<R;A++)try{o(y[C+A])}catch{throw new s.ErrnoError(29)}return R&&(p.node.timestamp=Date.now()),A}}),s.mkdev(a,u,h)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!ve)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=mt(ve(e.url),!0),e.usedBytes=e.contents.length}catch{throw new s.ErrnoError(29)}},createLazyFile:function(e,t,n,o,a){function u(){this.lengthKnown=!1,this.chunks=[]}if(u.prototype.get=function(R){if(!(R>this.length-1||R<0)){var L=R%this.chunkSize,A=R/this.chunkSize|0;return this.getter(A)[L]}},u.prototype.setDataGetter=function(R){this.getter=R},u.prototype.cacheLength=function(){var R=new XMLHttpRequest;if(R.open("HEAD",n,!1),R.send(null),!(R.status>=200&&R.status<300||R.status===304))throw new Error("Couldn't load "+n+". Status: "+R.status);var L,A=Number(R.getResponseHeader("Content-length")),z=(L=R.getResponseHeader("Accept-Ranges"))&&L==="bytes",Z=(L=R.getResponseHeader("Content-Encoding"))&&L==="gzip",ne=1048576;z||(ne=A);var Ee=this;Ee.setDataGetter(function(_e){var $=_e*ne,q=(_e+1)*ne-1;if(q=Math.min(q,A-1),Ee.chunks[_e]===void 0&&(Ee.chunks[_e]=function(ye,ie){if(ye>ie)throw new Error("invalid range ("+ye+", "+ie+") or no bytes requested!");if(ie>A-1)throw new Error("only "+A+" bytes available! programmer error!");var ae=new XMLHttpRequest;if(ae.open("GET",n,!1),A!==ne&&ae.setRequestHeader("Range","bytes="+ye+"-"+ie),typeof Uint8Array!="undefined"&&(ae.responseType="arraybuffer"),ae.overrideMimeType&&ae.overrideMimeType("text/plain; charset=x-user-defined"),ae.send(null),!(ae.status>=200&&ae.status<300||ae.status===304))throw new Error("Couldn't load "+n+". Status: "+ae.status);return ae.response!==void 0?new Uint8Array(ae.response||[]):mt(ae.responseText||"",!0)}($,q)),Ee.chunks[_e]===void 0)throw new Error("doXHR failed!");return Ee.chunks[_e]}),!Z&&A||(ne=A=1,A=this.getter(0).length,ne=A,je("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=A,this._chunkSize=ne,this.lengthKnown=!0},typeof XMLHttpRequest!="undefined"){if(!we)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var h=new u;Object.defineProperties(h,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var p={isDevice:!1,contents:h}}else p={isDevice:!1,url:n};var y=s.createFile(e,t,p,o,a);p.contents?y.contents=p.contents:p.url&&(y.contents=null,y.url=p.url),Object.defineProperties(y,{usedBytes:{get:function(){return this.contents.length}}});var C={};return Object.keys(y.stream_ops).forEach(function(R){var L=y.stream_ops[R];C[R]=function(){return s.forceLoadFile(y),L.apply(null,arguments)}}),C.read=function(R,L,A,z,Z){s.forceLoadFile(y);var ne=R.node.contents;if(Z>=ne.length)return 0;var Ee=Math.min(ne.length-Z,z);if(m(Ee>=0),ne.slice)for(var _e=0;_e<Ee;_e++)L[A+_e]=ne[Z+_e];else for(_e=0;_e<Ee;_e++)L[A+_e]=ne.get(Z+_e);return Ee},y.stream_ops=C,y},createPreloadedFile:function(e,t,n,o,a,u,h,p,y,C){Browser.init();var R=t?Le.resolve(ge.join2(e,t)):e,L=mr("cp "+R);function A(z){function Z(Ee){C&&C(),p||s.createDataFile(e,t,Ee,o,a,y),u&&u(),at(L)}var ne=!1;r.preloadPlugins.forEach(function(Ee){ne||Ee.canHandle(R)&&(Ee.handle(z,R,Z,function(){h&&h(),at(L)}),ne=!0)}),ne||Z(z)}yt(L),typeof n=="string"?un(n,function(z){A(z)},h):A(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var o=s.indexedDB();try{var a=o.open(s.DB_NAME(),s.DB_VERSION)}catch(u){return n(u)}a.onupgradeneeded=function(){je("creating db"),a.result.createObjectStore(s.DB_STORE_NAME)},a.onsuccess=function(){var u=a.result.transaction([s.DB_STORE_NAME],"readwrite"),h=u.objectStore(s.DB_STORE_NAME),p=0,y=0,C=e.length;function R(){y==0?t():n()}e.forEach(function(L){var A=h.put(s.analyzePath(L).object.contents,L);A.onsuccess=function(){++p+y==C&&R()},A.onerror=function(){y++,p+y==C&&R()}}),u.onerror=n},a.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var o=s.indexedDB();try{var a=o.open(s.DB_NAME(),s.DB_VERSION)}catch(u){return n(u)}a.onupgradeneeded=n,a.onsuccess=function(){var u=a.result;try{var h=u.transaction([s.DB_STORE_NAME],"readonly")}catch(A){return void n(A)}var p=h.objectStore(s.DB_STORE_NAME),y=0,C=0,R=e.length;function L(){C==0?t():n()}e.forEach(function(A){var z=p.get(A);z.onsuccess=function(){s.analyzePath(A).exists&&s.unlink(A),s.createDataFile(ge.dirname(A),ge.basename(A),z.result,!0,!0,!0),++y+C==R&&L()},z.onerror=function(){C++,y+C==R&&L()}}),h.onerror=n},a.onerror=n},absolutePath:function(){c("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){c("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){c("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){c("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){c("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){c("FS.standardizePath has been removed; use PATH.normalize instead")}},fe={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(t[0]==="/")return t;var o;if(e===-100)o=s.cwd();else{var a=s.getStream(e);if(!a)throw new s.ErrnoError(8);o=a.path}if(t.length==0){if(!n)throw new s.ErrnoError(44);return o}return ge.join2(o,t)},doStat:function(e,t,n){try{var o=e(t)}catch(a){if(a&&a.node&&ge.normalize(t)!==ge.normalize(s.getPath(a.node)))return-54;throw a}return S[n>>2]=o.dev,S[n+4>>2]=0,S[n+8>>2]=o.ino,S[n+12>>2]=o.mode,S[n+16>>2]=o.nlink,S[n+20>>2]=o.uid,S[n+24>>2]=o.gid,S[n+28>>2]=o.rdev,S[n+32>>2]=0,$e=[o.size>>>0,(Pe=o.size,+Math.abs(Pe)>=1?Pe>0?(0|Math.min(+Math.floor(Pe/4294967296),4294967295))>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],S[n+40>>2]=$e[0],S[n+44>>2]=$e[1],S[n+48>>2]=4096,S[n+52>>2]=o.blocks,S[n+56>>2]=o.atime.getTime()/1e3|0,S[n+60>>2]=0,S[n+64>>2]=o.mtime.getTime()/1e3|0,S[n+68>>2]=0,S[n+72>>2]=o.ctime.getTime()/1e3|0,S[n+76>>2]=0,$e=[o.ino>>>0,(Pe=o.ino,+Math.abs(Pe)>=1?Pe>0?(0|Math.min(+Math.floor(Pe/4294967296),4294967295))>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],S[n+80>>2]=$e[0],S[n+84>>2]=$e[1],0},doMsync:function(e,t,n,o,a){var u=i.slice(e,e+n);s.msync(t,u,a,n,o)},doMkdir:function(e,t){return(e=ge.normalize(e))[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),s.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return s.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-28;var o=s.readlink(e),a=Math.min(n,F(o)),u=Q[t+a];return D(o,t,n+1),Q[t+a]=u,a},doAccess:function(e,t){if(-8&t)return-28;var n;if(!(n=s.lookupPath(e,{follow:!0}).node))return-44;var o="";return 4&t&&(o+="r"),2&t&&(o+="w"),1&t&&(o+="x"),o&&s.nodePermissions(n,o)?-2:0},doDup:function(e,t,n){var o=s.getStream(n);return o&&s.close(o),s.open(e,t,0,n,n).fd},doReadv:function(e,t,n,o){for(var a=0,u=0;u<n;u++){var h=S[t+8*u>>2],p=S[t+(8*u+4)>>2],y=s.read(e,Q,h,p,o);if(y<0)return-1;if(a+=y,y<p)break}return a},doWritev:function(e,t,n,o){for(var a=0,u=0;u<n;u++){var h=S[t+8*u>>2],p=S[t+(8*u+4)>>2],y=s.write(e,Q,h,p,o);if(y<0)return-1;a+=y}return a},varargs:void 0,get:function(){return m(fe.varargs!=null),fe.varargs+=4,S[fe.varargs-4>>2]},getStr:function(e){return _(e)},getStreamFromFD:function(e){var t=s.getStream(e);if(!t)throw new s.ErrnoError(8);return t},get64:function(e,t){return m(e>=0?t===0:t===-1),e}};function dn(e,t,n,o,a){try{m(e<=64,"nfds must be less than or equal to 64"),m(!o,"exceptfds not supported");for(var u=0,h=t?S[t>>2]:0,p=t?S[t+4>>2]:0,y=n?S[n>>2]:0,C=n?S[n+4>>2]:0,R=o?S[o>>2]:0,L=o?S[o+4>>2]:0,A=0,z=0,Z=0,ne=0,Ee=0,_e=0,$=(t?S[t>>2]:0)|(n?S[n>>2]:0)|(o?S[o>>2]:0),q=(t?S[t+4>>2]:0)|(n?S[n+4>>2]:0)|(o?S[o+4>>2]:0),ye=function(Et,oi,ii,Hr){return Et<32?oi&Hr:ii&Hr},ie=0;ie<e;ie++){var ae=1<<ie%32;if(ye(ie,$,q,ae)){var Re=s.getStream(ie);if(!Re)throw new s.ErrnoError(8);var et=fe.DEFAULT_POLLMASK;Re.stream_ops.poll&&(et=Re.stream_ops.poll(Re)),1&et&&ye(ie,h,p,ae)&&(ie<32?A|=ae:z|=ae,u++),4&et&&ye(ie,y,C,ae)&&(ie<32?Z|=ae:ne|=ae,u++),2&et&&ye(ie,R,L,ae)&&(ie<32?Ee|=ae:_e|=ae,u++)}}return t&&(S[t>>2]=A,S[t+4>>2]=z),n&&(S[n>>2]=Z,S[n+4>>2]=ne),o&&(S[o>>2]=Ee,S[o+4>>2]=_e),u}catch(Et){return s!==void 0&&Et instanceof s.ErrnoError||c(Et),-Et.errno}}function pn(e){try{return e=fe.getStr(e),s.chdir(e),0}catch(t){return s!==void 0&&t instanceof s.ErrnoError||c(t),-t.errno}}var Oe={mount:function(e){return r.websocket=r.websocket&&typeof r.websocket=="object"?r.websocket:{},r.websocket._callbacks={},r.websocket.on=function(t,n){return typeof n=="function"&&(this._callbacks[t]=n),this},r.websocket.emit=function(t,n){typeof this._callbacks[t]=="function"&&this._callbacks[t].call(this,n)},s.createNode(null,"/",16895,0)},createSocket:function(e,t,n){t&=-526337,n&&m(t==1==(n==6));var o={family:e,type:t,protocol:n,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Oe.websocket_sock_ops},a=Oe.nextname(),u=s.createNode(Oe.root,a,49152,0);u.sock=o;var h=s.createStream({path:a,node:u,flags:2,seekable:!1,stream_ops:Oe.stream_ops});return o.stream=h,o},getSocket:function(e){var t=s.getStream(e);return t&&s.isSocket(t.node.mode)?t.node.sock:null},stream_ops:{poll:function(e){var t=e.node.sock;return t.sock_ops.poll(t)},ioctl:function(e,t,n){var o=e.node.sock;return o.sock_ops.ioctl(o,t,n)},read:function(e,t,n,o,a){var u=e.node.sock,h=u.sock_ops.recvmsg(u,o);return h?(t.set(h.buffer,n),h.buffer.length):0},write:function(e,t,n,o,a){var u=e.node.sock;return u.sock_ops.sendmsg(u,t,n,o)},close:function(e){var t=e.node.sock;t.sock_ops.close(t)}},nextname:function(){return Oe.nextname.current||(Oe.nextname.current=0),"socket["+Oe.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(e,t,n){var o;if(typeof t=="object"&&(o=t,t=null,n=null),o)if(o._socket)t=o._socket.remoteAddress,n=o._socket.remotePort;else{var a=/ws[s]?:\/\/([^:]+):(\d+)/.exec(o.url);if(!a)throw new Error("WebSocket URL must be in the format ws(s)://address:port");t=a[1],n=parseInt(a[2],10)}else try{var u=r.websocket&&typeof r.websocket=="object",h="ws:#".replace("#","//");if(u&&typeof r.websocket.url=="string"&&(h=r.websocket.url),h==="ws://"||h==="wss://"){var p=t.split("/");h=h+p[0]+":"+n+"/"+p.slice(1).join("/")}var y="binary";u&&typeof r.websocket.subprotocol=="string"&&(y=r.websocket.subprotocol);var C=void 0;y!=="null"&&(y=y.replace(/^ +| +$/g,"").split(/ *, */),C=pe?{protocol:y.toString()}:y),u&&r.websocket.subprotocol===null&&(y="null",C=void 0),(o=new(pe?b(891):WebSocket)(h,C)).binaryType="arraybuffer"}catch{throw new s.ErrnoError(23)}var R={addr:t,port:n,socket:o,dgram_send_queue:[]};return Oe.websocket_sock_ops.addPeer(e,R),Oe.websocket_sock_ops.handlePeerEvents(e,R),e.type===2&&e.sport!==void 0&&R.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(65280&e.sport)>>8,255&e.sport])),R},getPeer:function(e,t,n){return e.peers[t+":"+n]},addPeer:function(e,t){e.peers[t.addr+":"+t.port]=t},removePeer:function(e,t){delete e.peers[t.addr+":"+t.port]},handlePeerEvents:function(e,t){var n=!0,o=function(){r.websocket.emit("open",e.stream.fd);try{for(var u=t.dgram_send_queue.shift();u;)t.socket.send(u),u=t.dgram_send_queue.shift()}catch{t.socket.close()}};function a(u){if(typeof u=="string")u=new TextEncoder().encode(u);else{if(m(u.byteLength!==void 0),u.byteLength==0)return;u=new Uint8Array(u)}var h=n;if(n=!1,h&&u.length===10&&u[0]===255&&u[1]===255&&u[2]===255&&u[3]===255&&u[4]==="p".charCodeAt(0)&&u[5]==="o".charCodeAt(0)&&u[6]==="r".charCodeAt(0)&&u[7]==="t".charCodeAt(0)){var p=u[8]<<8|u[9];return Oe.websocket_sock_ops.removePeer(e,t),t.port=p,void Oe.websocket_sock_ops.addPeer(e,t)}e.recv_queue.push({addr:t.addr,port:t.port,data:u}),r.websocket.emit("message",e.stream.fd)}pe?(t.socket.on("open",o),t.socket.on("message",function(u,h){h.binary&&a(new Uint8Array(u).buffer)}),t.socket.on("close",function(){r.websocket.emit("close",e.stream.fd)}),t.socket.on("error",function(u){e.error=14,r.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])})):(t.socket.onopen=o,t.socket.onclose=function(){r.websocket.emit("close",e.stream.fd)},t.socket.onmessage=function(u){a(u.data)},t.socket.onerror=function(u){e.error=14,r.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])})},poll:function(e){if(e.type===1&&e.server)return e.pending.length?65:0;var t=0,n=e.type===1?Oe.websocket_sock_ops.getPeer(e,e.daddr,e.dport):null;return(e.recv_queue.length||!n||n&&n.socket.readyState===n.socket.CLOSING||n&&n.socket.readyState===n.socket.CLOSED)&&(t|=65),(!n||n&&n.socket.readyState===n.socket.OPEN)&&(t|=4),(n&&n.socket.readyState===n.socket.CLOSING||n&&n.socket.readyState===n.socket.CLOSED)&&(t|=16),t},ioctl:function(e,t,n){if(t===21531){var o=0;return e.recv_queue.length&&(o=e.recv_queue[0].data.length),S[n>>2]=o,0}return 28},close:function(e){if(e.server){try{e.server.close()}catch{}e.server=null}for(var t=Object.keys(e.peers),n=0;n<t.length;n++){var o=e.peers[t[n]];try{o.socket.close()}catch{}Oe.websocket_sock_ops.removePeer(e,o)}return 0},bind:function(e,t,n){if(e.saddr!==void 0||e.sport!==void 0)throw new s.ErrnoError(28);if(e.saddr=t,e.sport=n,e.type===2){e.server&&(e.server.close(),e.server=null);try{e.sock_ops.listen(e,0)}catch(o){if(!(o instanceof s.ErrnoError)||o.errno!==138)throw o}}},connect:function(e,t,n){if(e.server)throw new s.ErrnoError(138);if(e.daddr!==void 0&&e.dport!==void 0){var o=Oe.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(o)throw o.socket.readyState===o.socket.CONNECTING?new s.ErrnoError(7):new s.ErrnoError(30)}var a=Oe.websocket_sock_ops.createPeer(e,t,n);throw e.daddr=a.addr,e.dport=a.port,new s.ErrnoError(26)},listen:function(e,t){if(!pe)throw new s.ErrnoError(138);if(e.server)throw new s.ErrnoError(28);var n=b(891).Server,o=e.saddr;e.server=new n({host:o,port:e.sport}),r.websocket.emit("listen",e.stream.fd),e.server.on("connection",function(a){if(e.type===1){var u=Oe.createSocket(e.family,e.type,e.protocol),h=Oe.websocket_sock_ops.createPeer(u,a);u.daddr=h.addr,u.dport=h.port,e.pending.push(u),r.websocket.emit("connection",u.stream.fd)}else Oe.websocket_sock_ops.createPeer(e,a),r.websocket.emit("connection",e.stream.fd)}),e.server.on("closed",function(){r.websocket.emit("close",e.stream.fd),e.server=null}),e.server.on("error",function(a){e.error=23,r.websocket.emit("error",[e.stream.fd,e.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(e){if(!e.server)throw new s.ErrnoError(28);var t=e.pending.shift();return t.stream.flags=e.stream.flags,t},getname:function(e,t){var n,o;if(t){if(e.daddr===void 0||e.dport===void 0)throw new s.ErrnoError(53);n=e.daddr,o=e.dport}else n=e.saddr||0,o=e.sport||0;return{addr:n,port:o}},sendmsg:function(e,t,n,o,a,u){if(e.type===2){if(a!==void 0&&u!==void 0||(a=e.daddr,u=e.dport),a===void 0||u===void 0)throw new s.ErrnoError(17)}else a=e.daddr,u=e.dport;var h,p=Oe.websocket_sock_ops.getPeer(e,a,u);if(e.type===1){if(!p||p.socket.readyState===p.socket.CLOSING||p.socket.readyState===p.socket.CLOSED)throw new s.ErrnoError(53);if(p.socket.readyState===p.socket.CONNECTING)throw new s.ErrnoError(6)}if(ArrayBuffer.isView(t)&&(n+=t.byteOffset,t=t.buffer),h=t.slice(n,n+o),e.type===2&&(!p||p.socket.readyState!==p.socket.OPEN))return p&&p.socket.readyState!==p.socket.CLOSING&&p.socket.readyState!==p.socket.CLOSED||(p=Oe.websocket_sock_ops.createPeer(e,a,u)),p.dgram_send_queue.push(h),o;try{return p.socket.send(h),o}catch{throw new s.ErrnoError(28)}},recvmsg:function(e,t){if(e.type===1&&e.server)throw new s.ErrnoError(53);var n=e.recv_queue.shift();if(!n){if(e.type===1){var o=Oe.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(o){if(o.socket.readyState===o.socket.CLOSING||o.socket.readyState===o.socket.CLOSED)return null;throw new s.ErrnoError(6)}throw new s.ErrnoError(53)}throw new s.ErrnoError(6)}var a=n.data.byteLength||n.data.length,u=n.data.byteOffset||0,h=n.data.buffer||n.data,p=Math.min(t,a),y={buffer:new Uint8Array(h,u,p),addr:n.addr,port:n.port};if(e.type===1&&p<a){var C=a-p;n.data=new Uint8Array(h,u+p,C),e.recv_queue.unshift(n)}return y}}};function hn(e){var t=Oe.getSocket(e);if(!t)throw new s.ErrnoError(8);return t}function fn(e){return S[Go()>>2]=e,e}function yr(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function mn(e){var t="",n=0,o=0,a=0,u=0,h=0,p=0,y=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],C=!0,R="";for(p=0;p<5;p++)if(y[p]!==0){C=!1;break}if(C){if(R=yr(y[6]|y[7]<<16),y[5]===-1)return(t="::ffff:")+R;if(y[5]===0)return R==="0.0.0.0"&&(R=""),R==="0.0.0.1"&&(R="1"),(t="::")+R}for(n=0;n<8;n++)y[n]===0&&(n-a>1&&(h=0),a=n,h++),h>o&&(u=n-(o=h)+1);for(n=0;n<8;n++)o>1&&y[n]===0&&n>=u&&n<u+o?n===u&&(t+=":",u===0&&(t+=":")):(t+=Number(Nr(65535&y[n])).toString(16),t+=n<7?":":"");return t}function gn(e,t){var n,o=B[e>>1],a=Nr(oe[e+2>>1]);switch(o){case 2:if(t!==16)return{errno:28};n=yr(n=S[e+4>>2]);break;case 10:if(t!==28)return{errno:28};n=mn(n=[S[e+8>>2],S[e+12>>2],S[e+16>>2],S[e+20>>2]]);break;default:return{errno:5}}return{family:o,addr:n,port:a}}function br(e){for(var t=e.split("."),n=0;n<4;n++){var o=Number(t[n]);if(isNaN(o))return null;t[n]=o}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function wt(e){return parseInt(e)}function En(e){var t,n,o,a,u=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if(e==="::")return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=wt(t[t.length-4])+256*wt(t[t.length-3]),t[t.length-3]=wt(t[t.length-2])+256*wt(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),o=0,a=0,n=0;n<t.length;n++)if(typeof t[n]=="string")if(t[n]==="Z"){for(a=0;a<8-t.length+1;a++)u[n+a]=0;o=a-1}else u[n+o]=Yo(parseInt(t[n],16));else u[n+o]=t[n];return[u[1]<<16|u[0],u[3]<<16|u[2],u[5]<<16|u[4],u[7]<<16|u[6]]}var Xe={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t,n=br(e);if(n!==null||(n=En(e))!==null)return e;if(Xe.address_map.addrs[e])t=Xe.address_map.addrs[e];else{var o=Xe.address_map.id++;m(o<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&o)+"."+(65280&o),Xe.address_map.names[t]=e,Xe.address_map.addrs[e]=t}return t},lookup_addr:function(e){return Xe.address_map.names[e]?Xe.address_map.names[e]:null}};function _n(e,t,n){if(n&&e===0)return null;var o=gn(e,t);if(o.errno)throw new s.ErrnoError(o.errno);return o.addr=Xe.lookup_addr(o.addr)||o.addr,o}function yn(e,t,n){try{var o=hn(e),a=_n(t,n);return o.sock_ops.connect(o,a.addr,a.port),0}catch(u){return s!==void 0&&u instanceof s.ErrnoError||c(u),-u.errno}}function bn(e,t,n){fe.varargs=n;try{var o=fe.getStreamFromFD(e);switch(t){case 0:return(a=fe.get())<0?-28:s.open(o.path,o.flags,0,a).fd;case 1:case 2:case 13:case 14:return 0;case 3:return o.flags;case 4:var a=fe.get();return o.flags|=a,0;case 12:return a=fe.get(),B[a+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return fn(28),-1}}catch(u){return s!==void 0&&u instanceof s.ErrnoError||c(u),-u.errno}}function wn(e,t){try{var n=fe.getStreamFromFD(e);return fe.doStat(s.stat,n.path,t)}catch(o){return s!==void 0&&o instanceof s.ErrnoError||c(o),-o.errno}}function On(e,t){try{if(t===0)return-28;var n=s.cwd();return t<F(n)+1?-68:(D(n,e,t),e)}catch(o){return s!==void 0&&o instanceof s.ErrnoError||c(o),-o.errno}}function Tn(e,t,n){fe.varargs=n;try{var o=fe.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return o.tty?0:-59;case 21519:if(!o.tty)return-59;var a=fe.get();return S[a>>2]=0,0;case 21520:return o.tty?-28:-59;case 21531:return a=fe.get(),s.ioctl(o,t,a);default:c("bad ioctl syscall "+t)}}catch(u){return s!==void 0&&u instanceof s.ErrnoError||c(u),-u.errno}}function vn(e,t){try{return e=fe.getStr(e),fe.doMkdir(e,t)}catch(n){return s!==void 0&&n instanceof s.ErrnoError||c(n),-n.errno}}function Dn(e,t,n){fe.varargs=n;try{var o=fe.getStr(e),a=n?fe.get():0;return s.open(o,t,a).fd}catch(u){return s!==void 0&&u instanceof s.ErrnoError||c(u),-u.errno}}function Pn(e,t,n){try{return e=fe.getStr(e),fe.doReadlink(e,t,n)}catch(o){return s!==void 0&&o instanceof s.ErrnoError||c(o),-o.errno}}function Mn(e,t,n){try{var o=Oe.createSocket(e,t,n);return m(o.stream.fd<64),o.stream.fd}catch(a){return s!==void 0&&a instanceof s.ErrnoError||c(a),-a.errno}}function Sn(e,t){try{return e=fe.getStr(e),fe.doStat(s.stat,e,t)}catch(n){return s!==void 0&&n instanceof s.ErrnoError||c(n),-n.errno}}function An(e,t,n,o,a){}function Bt(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Rn(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);wr=e}var wr=void 0;function Fe(e){for(var t="",n=e;i[n];)t+=wr[i[n++]];return t}var nt={},Je={},Ot={},Fn=48,In=57;function qt(e){if(e===void 0)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Fn&&t<=In?"_"+e:e}function Gt(e,t){return e=qt(e),new Function("body","return function "+e+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(t)}function Yt(e,t){var n=Gt(t,function(o){this.name=t,this.message=o;var a=new Error(o).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},n}var ot=void 0;function me(e){throw new ot(e)}var Or=void 0;function Tt(e){throw new Or(e)}function We(e,t,n){function o(p){var y=n(p);y.length!==e.length&&Tt("Mismatched type converter count");for(var C=0;C<e.length;++C)Qe(e[C],y[C])}e.forEach(function(p){Ot[p]=t});var a=new Array(t.length),u=[],h=0;t.forEach(function(p,y){Je.hasOwnProperty(p)?a[y]=Je[p]:(u.push(p),nt.hasOwnProperty(p)||(nt[p]=[]),nt[p].push(function(){a[y]=Je[p],++h===u.length&&o(a)}))}),u.length===0&&o(a)}function Qe(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var o=t.name;if(e||me('type "'+o+'" must have a positive integer typeid pointer'),Je.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;me("Cannot register type '"+o+"' twice")}if(Je[e]=t,delete Ot[e],nt.hasOwnProperty(e)){var a=nt[e];delete nt[e],a.forEach(function(u){u()})}}function Cn(e,t,n,o,a){var u=Bt(n);Qe(e,{name:t=Fe(t),fromWireType:function(h){return!!h},toWireType:function(h,p){return p?o:a},argPackAdvance:8,readValueFromPointer:function(h){var p;if(n===1)p=Q;else if(n===2)p=B;else{if(n!==4)throw new TypeError("Unknown boolean type size: "+t);p=S}return this.fromWireType(p[h>>u])},destructorFunction:null})}function kn(e){if(!(this instanceof Be)||!(e instanceof Be))return!1;for(var t=this.$$.ptrType.registeredClass,n=this.$$.ptr,o=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;o.baseClass;)a=o.upcast(a),o=o.baseClass;return t===o&&n===a}function Nn(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function Zt(e){me(e.$$.ptrType.registeredClass.name+" instance already deleted")}var Kt=!1;function Tr(e){}function xn(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function vr(e){e.count.value-=1,e.count.value===0&&xn(e)}function ut(e){return typeof FinalizationRegistry=="undefined"?(ut=function(t){return t},e):(Kt=new FinalizationRegistry(function(t){console.warn(t.leakWarning.stack.replace(/^Error: /,"")),vr(t.$$)}),ut=function(t){var n=t.$$,o={$$:n},a=n.ptrType.registeredClass;return o.leakWarning=new Error("Embind found a leaked C++ instance "+a.name+" <0x"+n.ptr.toString(16)+`>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(o.leakWarning,a.constructor),Kt.register(t,o,t),t},Tr=function(t){Kt.unregister(t)},ut(e))}function Hn(){if(this.$$.ptr||Zt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=ut(Object.create(Object.getPrototypeOf(this),{$$:{value:Nn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function Un(){this.$$.ptr||Zt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&me("Object already scheduled for deletion"),Tr(this),vr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function jn(){return!this.$$.ptr}var lt=void 0,dt=[];function Jt(){for(;dt.length;){var e=dt.pop();e.$$.deleteScheduled=!1,e.delete()}}function $n(){return this.$$.ptr||Zt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&me("Object already scheduled for deletion"),dt.push(this),dt.length===1&&lt&&lt(Jt),this.$$.deleteScheduled=!0,this}function Ln(){Be.prototype.isAliasOf=kn,Be.prototype.clone=Hn,Be.prototype.delete=Un,Be.prototype.isDeleted=jn,Be.prototype.deleteLater=$n}function Be(){}var Dr={};function er(e,t,n){if(e[t].overloadTable===void 0){var o=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||me("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[o.argCount]=o}}function Pr(e,t,n){r.hasOwnProperty(e)?((n===void 0||r[e].overloadTable!==void 0&&r[e].overloadTable[n]!==void 0)&&me("Cannot register public name '"+e+"' twice"),er(r,e,e),r.hasOwnProperty(n)&&me("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),r[e].overloadTable[n]=t):(r[e]=t,n!==void 0&&(r[e].numArguments=n))}function Xn(e,t,n,o,a,u,h,p){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=o,this.baseClass=a,this.getActualType=u,this.upcast=h,this.downcast=p,this.pureVirtualFunctions=[]}function tr(e,t,n){for(;t!==n;)t.upcast||me("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function Qn(e,t){if(t===null)return this.isReference&&me("null is not a valid "+this.name),0;t.$$||me('Cannot pass "'+it(t)+'" as a '+this.name),t.$$.ptr||me("Cannot pass deleted object as a pointer of type "+this.name);var n=t.$$.ptrType.registeredClass;return tr(t.$$.ptr,n,this.registeredClass)}function Vn(e,t){var n;if(t===null)return this.isReference&&me("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;t.$$||me('Cannot pass "'+it(t)+'" as a '+this.name),t.$$.ptr||me("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&me("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var o=t.$$.ptrType.registeredClass;if(n=tr(t.$$.ptr,o,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&me("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:me("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var a=t.clone();n=this.rawShare(n,St.toHandle(function(){a.delete()})),e!==null&&e.push(this.rawDestructor,n)}break;default:me("Unsupporting sharing policy")}return n}function zn(e,t){if(t===null)return this.isReference&&me("null is not a valid "+this.name),0;t.$$||me('Cannot pass "'+it(t)+'" as a '+this.name),t.$$.ptr||me("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&me("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;return tr(t.$$.ptr,n,this.registeredClass)}function vt(e){return this.fromWireType(ue[e>>2])}function Wn(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Bn(e){this.rawDestructor&&this.rawDestructor(e)}function qn(e){e!==null&&e.delete()}function Mr(e,t,n){if(t===n)return e;if(n.baseClass===void 0)return null;var o=Mr(e,t,n.baseClass);return o===null?null:n.downcast(o)}function Gn(){return Object.keys(pt).length}function Yn(){var e=[];for(var t in pt)pt.hasOwnProperty(t)&&e.push(pt[t]);return e}function Zn(e){lt=e,dt.length&&lt&&lt(Jt)}function Kn(){r.getInheritedInstanceCount=Gn,r.getLiveInheritedInstances=Yn,r.flushPendingDeletes=Jt,r.setDelayFunction=Zn}var pt={};function Jn(e,t){for(t===void 0&&me("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function eo(e,t){return t=Jn(e,t),pt[t]}function Dt(e,t){return t.ptrType&&t.ptr||Tt("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Tt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},ut(Object.create(e,{$$:{value:t}}))}function to(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=eo(this.registeredClass,t);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var o=n.clone();return this.destructor(e),o}function a(){return this.isSmartPointer?Dt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Dt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u,h=this.registeredClass.getActualType(t),p=Dr[h];if(!p)return a.call(this);u=this.isConst?p.constPointerType:p.pointerType;var y=Mr(t,this.registeredClass,u.registeredClass);return y===null?a.call(this):this.isSmartPointer?Dt(u.registeredClass.instancePrototype,{ptrType:u,ptr:y,smartPtrType:this,smartPtr:e}):Dt(u.registeredClass.instancePrototype,{ptrType:u,ptr:y})}function ro(){Ve.prototype.getPointee=Wn,Ve.prototype.destructor=Bn,Ve.prototype.argPackAdvance=8,Ve.prototype.readValueFromPointer=vt,Ve.prototype.deleteObject=qn,Ve.prototype.fromWireType=to}function Ve(e,t,n,o,a,u,h,p,y,C,R){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=o,this.isSmartPointer=a,this.pointeeType=u,this.sharingPolicy=h,this.rawGetPointee=p,this.rawConstructor=y,this.rawShare=C,this.rawDestructor=R,a||t.baseClass!==void 0?this.toWireType=Vn:o?(this.toWireType=Qn,this.destructorFunction=null):(this.toWireType=zn,this.destructorFunction=null)}function Sr(e,t,n){r.hasOwnProperty(e)||Tt("Replacing nonexistant public symbol"),r[e].overloadTable!==void 0&&n!==void 0?r[e].overloadTable[n]=t:(r[e]=t,r[e].argCount=n)}function no(e,t,n){m("dynCall_"+e in r,"bad function pointer type - no table for sig '"+e+"'"),n&&n.length?m(n.length===e.substring(1).replace(/j/g,"--").length):m(e.length==1);var o=r["dynCall_"+e];return n&&n.length?o.apply(null,[t].concat(n)):o.call(null,t)}function oo(e,t,n){return e.includes("j")?no(e,t,n):(m(ct(t),"missing table entry in dynCall: "+t),ct(t).apply(null,n))}function io(e,t){m(e.includes("j"),"getDynCaller should only be called with i64 sigs");var n=[];return function(){n.length=arguments.length;for(var o=0;o<arguments.length;o++)n[o]=arguments[o];return oo(e,t,n)}}function qe(e,t){var n=(e=Fe(e)).includes("j")?io(e,t):ct(t);return typeof n!="function"&&me("unknown function pointer with signature "+e+": "+t),n}var Ar=void 0;function Rr(e){var t=Zo(e),n=Fe(t);return Ge(t),n}function ht(e,t){var n=[],o={};throw t.forEach(function a(u){o[u]||Je[u]||(Ot[u]?Ot[u].forEach(a):(n.push(u),o[u]=!0))}),new Ar(e+": "+n.map(Rr).join([", "]))}function so(e,t,n,o,a,u,h,p,y,C,R,L,A){R=Fe(R),u=qe(a,u),p&&(p=qe(h,p)),C&&(C=qe(y,C)),A=qe(L,A);var z=qt(R);Pr(z,function(){ht("Cannot construct "+R+" due to unbound types",[o])}),We([e,t,n],o?[o]:[],function(Z){var ne,Ee;Z=Z[0],Ee=o?(ne=Z.registeredClass).instancePrototype:Be.prototype;var _e=Gt(z,function(){if(Object.getPrototypeOf(this)!==$)throw new ot("Use 'new' to construct "+R);if(q.constructor_body===void 0)throw new ot(R+" has no accessible constructor");var Re=q.constructor_body[arguments.length];if(Re===void 0)throw new ot("Tried to invoke ctor of "+R+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(q.constructor_body).toString()+") parameters instead!");return Re.apply(this,arguments)}),$=Object.create(Ee,{constructor:{value:_e}});_e.prototype=$;var q=new Xn(R,_e,$,A,ne,u,p,C),ye=new Ve(R,q,!0,!1,!1),ie=new Ve(R+"*",q,!1,!1,!1),ae=new Ve(R+" const*",q,!1,!0,!1);return Dr[e]={pointerType:ie,constPointerType:ae},Sr(z,_e),[ye,ie,ae]})}function ao(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=Gt(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var o=new n,a=e.apply(o,t);return a instanceof Object?a:o}function co(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Pt(e,t,n,o,a){var u=t.length;u<2&&me("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var h=t[1]!==null&&n!==null,p=!1,y=1;y<t.length;++y)if(t[y]!==null&&t[y].destructorFunction===void 0){p=!0;break}var C=t[0].name!=="void",R="",L="";for(y=0;y<u-2;++y)R+=(y!==0?", ":"")+"arg"+y,L+=(y!==0?", ":"")+"arg"+y+"Wired";var A="return function "+qt(e)+"("+R+`) {
if (arguments.length !== `+(u-2)+`) {
throwBindingError('function `+e+" called with ' + arguments.length + ' arguments, expected "+(u-2)+` args!');
}
`;p&&(A+=`var destructors = [];
`);var z=p?"destructors":"null",Z=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],ne=[me,o,a,co,t[0],t[1]];for(h&&(A+="var thisWired = classParam.toWireType("+z+`, this);
`),y=0;y<u-2;++y)A+="var arg"+y+"Wired = argType"+y+".toWireType("+z+", arg"+y+"); // "+t[y+2].name+`
`,Z.push("argType"+y),ne.push(t[y+2]);if(h&&(L="thisWired"+(L.length>0?", ":"")+L),A+=(C?"var rv = ":"")+"invoker(fn"+(L.length>0?", ":"")+L+`);
`,p)A+=`runDestructors(destructors);
`;else for(y=h?1:2;y<t.length;++y){var Ee=y===1?"thisWired":"arg"+(y-2)+"Wired";t[y].destructorFunction!==null&&(A+=Ee+"_dtor("+Ee+"); // "+t[y].name+`
`,Z.push(Ee+"_dtor"),ne.push(t[y].destructorFunction))}return C&&(A+=`var ret = retType.fromWireType(rv);
return ret;
`),A+=`}
`,Z.push(A),ao(Function,Z).apply(null,ne)}function Mt(e,t){for(var n=[],o=0;o<e;o++)n.push(S[(t>>2)+o]);return n}function uo(e,t,n,o,a,u,h){var p=Mt(n,o);t=Fe(t),u=qe(a,u),We([],[e],function(y){var C=(y=y[0]).name+"."+t;function R(){ht("Cannot call "+C+" due to unbound types",p)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var L=y.registeredClass.constructor;return L[t]===void 0?(R.argCount=n-1,L[t]=R):(er(L,t,C),L[t].overloadTable[n-1]=R),We([],p,function(A){var z=[A[0],null].concat(A.slice(1)),Z=Pt(C,z,null,u,h);return L[t].overloadTable===void 0?(Z.argCount=n-1,L[t]=Z):L[t].overloadTable[n-1]=Z,[]}),[]})}function lo(e,t,n,o,a,u){m(t>0);var h=Mt(t,n);a=qe(o,a),We([],[e],function(p){var y="constructor "+(p=p[0]).name;if(p.registeredClass.constructor_body===void 0&&(p.registeredClass.constructor_body=[]),p.registeredClass.constructor_body[t-1]!==void 0)throw new ot("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+p.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return p.registeredClass.constructor_body[t-1]=function(){ht("Cannot construct "+p.name+" due to unbound types",h)},We([],h,function(C){return C.splice(1,0,null),p.registeredClass.constructor_body[t-1]=Pt(y,C,null,a,u),[]}),[]})}function po(e,t,n,o,a,u,h,p){var y=Mt(n,o);t=Fe(t),u=qe(a,u),We([],[e],function(C){var R=(C=C[0]).name+"."+t;function L(){ht("Cannot call "+R+" due to unbound types",y)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),p&&C.registeredClass.pureVirtualFunctions.push(t);var A=C.registeredClass.instancePrototype,z=A[t];return z===void 0||z.overloadTable===void 0&&z.className!==C.name&&z.argCount===n-2?(L.argCount=n-2,L.className=C.name,A[t]=L):(er(A,t,R),A[t].overloadTable[n-2]=L),We([],y,function(Z){var ne=Pt(R,Z,C,u,h);return A[t].overloadTable===void 0?(ne.argCount=n-2,A[t]=ne):A[t].overloadTable[n-2]=ne,[]}),[]})}var rr=[],xe=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Fr(e){e>4&&--xe[e].refcount==0&&(xe[e]=void 0,rr.push(e))}function ho(){for(var e=0,t=5;t<xe.length;++t)xe[t]!==void 0&&++e;return e}function fo(){for(var e=5;e<xe.length;++e)if(xe[e]!==void 0)return xe[e];return null}function mo(){r.count_emval_handles=ho,r.get_first_emval=fo}var St={toValue:function(e){return e||me("Cannot use deleted val. handle = "+e),xe[e].value},toHandle:function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=rr.length?rr.pop():xe.length;return xe[t]={refcount:1,value:e},t}}};function go(e,t){Qe(e,{name:t=Fe(t),fromWireType:function(n){var o=St.toValue(n);return Fr(n),o},toWireType:function(n,o){return St.toHandle(o)},argPackAdvance:8,readValueFromPointer:vt,destructorFunction:null})}function it(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Eo(e,t){switch(t){case 2:return function(n){return this.fromWireType(v[n>>2])};case 3:return function(n){return this.fromWireType(U[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function _o(e,t,n){var o=Bt(n);Qe(e,{name:t=Fe(t),fromWireType:function(a){return a},toWireType:function(a,u){if(typeof u!="number"&&typeof u!="boolean")throw new TypeError('Cannot convert "'+it(u)+'" to '+this.name);return u},argPackAdvance:8,readValueFromPointer:Eo(t,o),destructorFunction:null})}function yo(e,t,n,o,a,u){var h=Mt(t,n);e=Fe(e),a=qe(o,a),Pr(e,function(){ht("Cannot call "+e+" due to unbound types",h)},t-1),We([],h,function(p){var y=[p[0],null].concat(p.slice(1));return Sr(e,Pt(e,y,null,a,u),t-1),[]})}function bo(e,t,n){switch(t){case 0:return n?function(o){return Q[o]}:function(o){return i[o]};case 1:return n?function(o){return B[o>>1]}:function(o){return oe[o>>1]};case 2:return n?function(o){return S[o>>2]}:function(o){return ue[o>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function wo(e,t,n,o,a){t=Fe(t),a===-1&&(a=4294967295);var u=Bt(n),h=function(C){return C};if(o===0){var p=32-8*n;h=function(C){return C<<p>>>p}}var y=t.includes("unsigned");Qe(e,{name:t,fromWireType:h,toWireType:function(C,R){if(typeof R!="number"&&typeof R!="boolean")throw new TypeError('Cannot convert "'+it(R)+'" to '+this.name);if(R<o||R>a)throw new TypeError('Passing a number "'+it(R)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+o+", "+a+"]!");return y?R>>>0:0|R},argPackAdvance:8,readValueFromPointer:bo(t,u,o!==0),destructorFunction:null})}function Oo(e,t,n){var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function a(u){var h=ue,p=h[u>>=2],y=h[u+1];return new o(X,y,p)}Qe(e,{name:n=Fe(n),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function To(e,t){var n=(t=Fe(t))==="std::string";Qe(e,{name:t,fromWireType:function(o){var a,u=ue[o>>2];if(n)for(var h=o+4,p=0;p<=u;++p){var y=o+4+p;if(p==u||i[y]==0){var C=_(h,y-h);a===void 0?a=C:(a+=String.fromCharCode(0),a+=C),h=y+1}}else{var R=new Array(u);for(p=0;p<u;++p)R[p]=String.fromCharCode(i[o+4+p]);a=R.join("")}return Ge(o),a},toWireType:function(o,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||me("Cannot pass non-string to std::string");var h=(n&&u?function(){return F(a)}:function(){return a.length})(),p=ze(4+h+1);if(ue[p>>2]=h,n&&u)D(a,p+4,h+1);else if(u)for(var y=0;y<h;++y){var C=a.charCodeAt(y);C>255&&(Ge(p),me("String has UTF-16 code units that do not fit in 8 bits")),i[p+4+y]=C}else for(y=0;y<h;++y)i[p+4+y]=a[y];return o!==null&&o.push(Ge,p),p},argPackAdvance:8,readValueFromPointer:vt,destructorFunction:function(o){Ge(o)}})}function vo(e,t,n){var o,a,u,h,p;n=Fe(n),t===2?(o=re,a=Y,h=Ne,u=function(){return oe},p=1):t===4&&(o=Ht,a=Ut,h=Ue,u=function(){return ue},p=2),Qe(e,{name:n,fromWireType:function(y){for(var C,R=ue[y>>2],L=u(),A=y+4,z=0;z<=R;++z){var Z=y+4+z*t;if(z==R||L[Z>>p]==0){var ne=o(A,Z-A);C===void 0?C=ne:(C+=String.fromCharCode(0),C+=ne),A=Z+t}}return Ge(y),C},toWireType:function(y,C){typeof C!="string"&&me("Cannot pass non-string to C++ string type "+n);var R=h(C),L=ze(4+R+t);return ue[L>>2]=R>>p,a(C,L+4,R+t),y!==null&&y.push(Ge,L),L},argPackAdvance:8,readValueFromPointer:vt,destructorFunction:function(y){Ge(y)}})}function Do(e,t){Qe(e,{isVoid:!0,name:t=Fe(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(n,o){}})}function Po(e){e>4&&(xe[e].refcount+=1)}function Mo(e,t){var n=Je[e];return n===void 0&&me(t+" has unknown type "+Rr(e)),n}function So(e,t){var n=(e=Mo(e,"_emval_take_value")).readValueFromPointer(t);return St.toHandle(n)}function Ao(){c("native code called abort()")}var At=[];function Ro(e,t){var n;for(m(Array.isArray(At)),m(t%16==0),At.length=0,t>>=2;n=i[e++];){m(n===100||n===102||n===105);var o=n<105;o&&1&t&&t++,At.push(o?U[t++>>1]:S[t]),++t}return At}function Fo(e,t,n){var o=Ro(t,n);return _r.hasOwnProperty(e)||c("No EM_ASM constant found at address "+e),_r[e].apply(null,o)}function Io(e,t,n){i.copyWithin(e,t,t+n)}function Co(e){try{return E.grow(e-X.byteLength+65535>>>16),lr(E.buffer),1}catch(t){be("emscripten_realloc_buffer: Attempted to grow heap from "+X.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}function ko(e){var t=i.length;m((e>>>=0)>t);var n=2147483648;if(e>n)return be("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is 2147483648 bytes!"),!1;for(var o=1;o<=4;o*=2){var a=t*(1+.2/o);a=Math.min(a,e+100663296);var u=Math.min(n,jr(Math.max(e,a),65536));if(Co(u))return!0}return be("Failed to grow the heap from "+t+" bytes to "+u+" bytes, not enough memory!"),!1}var nr={};function No(){return de||"./this.program"}function ft(){if(!ft.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:No()};for(var t in nr)nr[t]===void 0?delete e[t]:e[t]=nr[t];var n=[];for(var t in e)n.push(t+"="+e[t]);ft.strings=n}return ft.strings}function xo(e,t){var n=0;return ft().forEach(function(o,a){var u=t+n;S[e+4*a>>2]=u,Ur(o,u),n+=o.length+1}),0}function Ho(e,t){var n=ft();S[e>>2]=n.length;var o=0;return n.forEach(function(a){o+=a.length+1}),S[t>>2]=o,0}function Uo(e){try{var t=fe.getStreamFromFD(e);return s.close(t),0}catch(n){return s!==void 0&&n instanceof s.ErrnoError||c(n),n.errno}}function jo(e,t){try{var n=fe.getStreamFromFD(e),o=n.tty?2:s.isDir(n.mode)?3:s.isLink(n.mode)?7:4;return Q[t>>0]=o,0}catch(a){return s!==void 0&&a instanceof s.ErrnoError||c(a),a.errno}}function $o(e,t,n,o){try{var a=fe.getStreamFromFD(e),u=fe.doReadv(a,t,n);return S[o>>2]=u,0}catch(h){return s!==void 0&&h instanceof s.ErrnoError||c(h),h.errno}}function Lo(e,t,n,o,a){try{var u=fe.getStreamFromFD(e),h=4294967296*n+(t>>>0),p=9007199254740992;return h<=-p||h>=p?-61:(s.llseek(u,h,o),$e=[u.position>>>0,(Pe=u.position,+Math.abs(Pe)>=1?Pe>0?(0|Math.min(+Math.floor(Pe/4294967296),4294967295))>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],S[a>>2]=$e[0],S[a+4>>2]=$e[1],u.getdents&&h===0&&o===0&&(u.getdents=null),0)}catch(y){return s!==void 0&&y instanceof s.ErrnoError||c(y),y.errno}}function Xo(e,t,n,o){try{var a=fe.getStreamFromFD(e),u=fe.doWritev(a,t,n);return S[o>>2]=u,0}catch(h){return s!==void 0&&h instanceof s.ErrnoError||c(h),h.errno}}function Qo(e){var t=ze(20),n=ze(e.length+1);D(e,n,e.length+1),S[t>>2]=n;var o=ze(4);S[o>>2]=0,S[t+4>>2]=o,S[t+8>>2]=2,S[t+12>>2]=4;var a=ze(12);return S[a>>2]=a+8,S[a+4>>2]=0,S[a+8>>2]=br(Xe.lookup_name(e)),S[t+16>>2]=a,t}function Vo(e){return Qo(_(e))}function zo(e){var t=Date.now();return S[e>>2]=t/1e3|0,S[e+4>>2]=t%1e3*1e3|0,0}function Wo(e){}function Rt(e){return e%4==0&&(e%100!=0||e%400==0)}function or(e,t){for(var n=0,o=0;o<=t;n+=e[o++]);return n}var Ft=[31,29,31,30,31,30,31,31,30,31,30,31],It=[31,28,31,30,31,30,31,31,30,31,30,31];function Ct(e,t){for(var n=new Date(e.getTime());t>0;){var o=Rt(n.getFullYear()),a=n.getMonth(),u=(o?Ft:It)[a];if(!(t>u-n.getDate()))return n.setDate(n.getDate()+t),n;t-=u-n.getDate()+1,n.setDate(1),a<11?n.setMonth(a+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Ir(e,t,n,o){var a=S[o+40>>2],u={tm_sec:S[o>>2],tm_min:S[o+4>>2],tm_hour:S[o+8>>2],tm_mday:S[o+12>>2],tm_mon:S[o+16>>2],tm_year:S[o+20>>2],tm_wday:S[o+24>>2],tm_yday:S[o+28>>2],tm_isdst:S[o+32>>2],tm_gmtoff:S[o+36>>2],tm_zone:a?_(a):""},h=_(n),p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var y in p)h=h.replace(new RegExp(y,"g"),p[y]);var C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["January","February","March","April","May","June","July","August","September","October","November","December"];function L($,q,ye){for(var ie=typeof $=="number"?$.toString():$||"";ie.length<q;)ie=ye[0]+ie;return ie}function A($,q){return L($,q,"0")}function z($,q){function ye(ae){return ae<0?-1:ae>0?1:0}var ie;return(ie=ye($.getFullYear()-q.getFullYear()))===0&&(ie=ye($.getMonth()-q.getMonth()))===0&&(ie=ye($.getDate()-q.getDate())),ie}function Z($){switch($.getDay()){case 0:return new Date($.getFullYear()-1,11,29);case 1:return $;case 2:return new Date($.getFullYear(),0,3);case 3:return new Date($.getFullYear(),0,2);case 4:return new Date($.getFullYear(),0,1);case 5:return new Date($.getFullYear()-1,11,31);case 6:return new Date($.getFullYear()-1,11,30)}}function ne($){var q=Ct(new Date($.tm_year+1900,0,1),$.tm_yday),ye=new Date(q.getFullYear(),0,4),ie=new Date(q.getFullYear()+1,0,4),ae=Z(ye),Re=Z(ie);return z(ae,q)<=0?z(Re,q)<=0?q.getFullYear()+1:q.getFullYear():q.getFullYear()-1}var Ee={"%a":function($){return C[$.tm_wday].substring(0,3)},"%A":function($){return C[$.tm_wday]},"%b":function($){return R[$.tm_mon].substring(0,3)},"%B":function($){return R[$.tm_mon]},"%C":function($){return A(($.tm_year+1900)/100|0,2)},"%d":function($){return A($.tm_mday,2)},"%e":function($){return L($.tm_mday,2," ")},"%g":function($){return ne($).toString().substring(2)},"%G":function($){return ne($)},"%H":function($){return A($.tm_hour,2)},"%I":function($){var q=$.tm_hour;return q==0?q=12:q>12&&(q-=12),A(q,2)},"%j":function($){return A($.tm_mday+or(Rt($.tm_year+1900)?Ft:It,$.tm_mon-1),3)},"%m":function($){return A($.tm_mon+1,2)},"%M":function($){return A($.tm_min,2)},"%n":function(){return`
`},"%p":function($){return $.tm_hour>=0&&$.tm_hour<12?"AM":"PM"},"%S":function($){return A($.tm_sec,2)},"%t":function(){return"	"},"%u":function($){return $.tm_wday||7},"%U":function($){var q=new Date($.tm_year+1900,0,1),ye=q.getDay()===0?q:Ct(q,7-q.getDay()),ie=new Date($.tm_year+1900,$.tm_mon,$.tm_mday);if(z(ye,ie)<0){var ae=or(Rt(ie.getFullYear())?Ft:It,ie.getMonth()-1)-31,Re=31-ye.getDate()+ae+ie.getDate();return A(Math.ceil(Re/7),2)}return z(ye,q)===0?"01":"00"},"%V":function($){var q,ye=new Date($.tm_year+1900,0,4),ie=new Date($.tm_year+1901,0,4),ae=Z(ye),Re=Z(ie),et=Ct(new Date($.tm_year+1900,0,1),$.tm_yday);return z(et,ae)<0?"53":z(Re,et)<=0?"01":(q=ae.getFullYear()<$.tm_year+1900?$.tm_yday+32-ae.getDate():$.tm_yday+1-ae.getDate(),A(Math.ceil(q/7),2))},"%w":function($){return $.tm_wday},"%W":function($){var q=new Date($.tm_year,0,1),ye=q.getDay()===1?q:Ct(q,q.getDay()===0?1:7-q.getDay()+1),ie=new Date($.tm_year+1900,$.tm_mon,$.tm_mday);if(z(ye,ie)<0){var ae=or(Rt(ie.getFullYear())?Ft:It,ie.getMonth()-1)-31,Re=31-ye.getDate()+ae+ie.getDate();return A(Math.ceil(Re/7),2)}return z(ye,q)===0?"01":"00"},"%y":function($){return($.tm_year+1900).toString().substring(2)},"%Y":function($){return $.tm_year+1900},"%z":function($){var q=$.tm_gmtoff,ye=q>=0;return q=(q=Math.abs(q)/60)/60*100+q%60,(ye?"+":"-")+String("0000"+q).slice(-4)},"%Z":function($){return $.tm_zone},"%%":function(){return"%"}};for(var y in Ee)h.includes(y)&&(h=h.replace(new RegExp(y,"g"),Ee[y](u)));var _e=mt(h,!1);return _e.length>t?0:(ur(_e,e),_e.length-1)}function Bo(e,t,n,o){return Ir(e,t,n,o)}function qo(e){var t=Date.now()/1e3|0;return e&&(S[e>>2]=t),t}var Cr=function(e,t,n,o){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=s.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=o},kt=365,Nt=146;function mt(e,t,n){var o=n>0?n:F(e)+1,a=new Array(o),u=w(e,a,0,a.length);return t&&(a.length=u),a}Object.defineProperties(Cr.prototype,{read:{get:function(){return(this.mode&kt)===kt},set:function(e){e?this.mode|=kt:this.mode&=~kt}},write:{get:function(){return(this.mode&Nt)===Nt},set:function(e){e?this.mode|=Nt:this.mode&=~Nt}},isFolder:{get:function(){return s.isDir(this.mode)}},isDevice:{get:function(){return s.isChrdev(this.mode)}}}),s.FSNode=Cr,s.staticInit(),r.FS_createPath=s.createPath,r.FS_createDataFile=s.createDataFile,r.FS_createPreloadedFile=s.createPreloadedFile,r.FS_createLazyFile=s.createLazyFile,r.FS_createDevice=s.createDevice,r.FS_unlink=s.unlink,Wt={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Rn(),ot=r.BindingError=Yt(Error,"BindingError"),Or=r.InternalError=Yt(Error,"InternalError"),Ln(),ro(),Kn(),Ar=r.UnboundTypeError=Yt(Error,"UnboundTypeError"),mo();var xt,kr={__cxa_allocate_exception:Jr,__cxa_atexit:en,__cxa_throw:rn,__localtime_r:sn,__syscall__newselect:dn,__syscall_chdir:pn,__syscall_connect:yn,__syscall_fcntl64:bn,__syscall_fstat64:wn,__syscall_getcwd:On,__syscall_ioctl:Tn,__syscall_mkdir:vn,__syscall_open:Dn,__syscall_readlink:Pn,__syscall_socket:Mn,__syscall_stat64:Sn,_embind_register_bigint:An,_embind_register_bool:Cn,_embind_register_class:so,_embind_register_class_class_function:uo,_embind_register_class_constructor:lo,_embind_register_class_function:po,_embind_register_emval:go,_embind_register_float:_o,_embind_register_function:yo,_embind_register_integer:wo,_embind_register_memory_view:Oo,_embind_register_std_string:To,_embind_register_std_wstring:vo,_embind_register_void:Do,_emval_decref:Fr,_emval_incref:Po,_emval_take_value:So,abort:Ao,connectMemory:Yr,emscripten_asm_const_int:Fo,emscripten_memcpy_big:Io,emscripten_resize_heap:ko,environ_get:xo,environ_sizes_get:Ho,fd_close:Uo,fd_fdstat_get:jo,fd_read:$o,fd_seek:Lo,fd_write:Xo,gethostbyname:Vo,gettimeofday:zo,setTempRet0:Wo,strftime:Ir,strftime_l:Bo,time:qo},Ge=(Gr(),r.___wasm_call_ctors=he("__wasm_call_ctors"),r._expandCDSPFromString=he("expandCDSPFromString"),r._generateCAuxFilesFromString=he("generateCAuxFilesFromString"),r._freeCMemory=he("freeCMemory"),r._free=he("free")),ze=(r._getCLibFaustVersion=he("getCLibFaustVersion"),r._getErrorAfterException=he("getErrorAfterException"),r._cleanupAfterException=he("cleanupAfterException"),r._malloc=he("malloc")),Go=r.___errno_location=he("__errno_location"),Yo=r._htons=he("htons"),Zo=(r._deleteAllWasmCDSPFactories=he("deleteAllWasmCDSPFactories"),r._createWasmCDSPFactoryFromString=he("createWasmCDSPFactoryFromString"),r._getWasmCModule=he("getWasmCModule"),r._getWasmCModuleSize=he("getWasmCModuleSize"),r._getWasmCHelpers=he("getWasmCHelpers"),r._freeWasmCModule=he("freeWasmCModule"),r.___getTypeName=he("__getTypeName")),Nr=(r.___embind_register_native_and_builtin_types=he("__embind_register_native_and_builtin_types"),r._ntohs=he("ntohs")),gt=(r._fflush=he("fflush"),r.__get_tzname=he("_get_tzname")),Ko=r.__get_daylight=he("_get_daylight"),Jo=r.__get_timezone=he("_get_timezone"),ei=r.stackSave=he("stackSave"),ti=r.stackRestore=he("stackRestore"),ir=r.stackAlloc=he("stackAlloc"),xr=r._emscripten_stack_init=function(){return(xr=r._emscripten_stack_init=r.asm.emscripten_stack_init).apply(null,arguments)},sr=(r._emscripten_stack_get_free=function(){return(r._emscripten_stack_get_free=r.asm.emscripten_stack_get_free).apply(null,arguments)},r._emscripten_stack_get_end=function(){return(sr=r._emscripten_stack_get_end=r.asm.emscripten_stack_get_end).apply(null,arguments)});function ri(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ni(){xr(),dr()}function ar(e){function t(){xt||(xt=!0,r.calledRun=!0,I||(Xr(),W(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),m(!r._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Qr()))}Ye>0||(ni(),Lr(),Ye>0||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),t()},1)):t(),_t()))}if(r.dynCall_jiji=he("dynCall_jiji"),r.dynCall_iiiiij=he("dynCall_iiiiij"),r.dynCall_iiiiijj=he("dynCall_iiiiijj"),r.dynCall_iiiiiijj=he("dynCall_iiiiiijj"),r.dynCall_viijii=he("dynCall_viijii"),Object.getOwnPropertyDescriptor(r,"intArrayFromString")||(r.intArrayFromString=function(){c("'intArrayFromString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"intArrayToString")||(r.intArrayToString=function(){c("'intArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ccall")||(r.ccall=function(){c("'ccall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.cwrap=te,Object.getOwnPropertyDescriptor(r,"setValue")||(r.setValue=function(){c("'setValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getValue")||(r.getValue=function(){c("'getValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"allocate")||(r.allocate=function(){c("'allocate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"UTF8ArrayToString")||(r.UTF8ArrayToString=function(){c("'UTF8ArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.UTF8ToString=_,Object.getOwnPropertyDescriptor(r,"stringToUTF8Array")||(r.stringToUTF8Array=function(){c("'stringToUTF8Array' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.stringToUTF8=D,r.lengthBytesUTF8=F,Object.getOwnPropertyDescriptor(r,"stackTrace")||(r.stackTrace=function(){c("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"addOnPreRun")||(r.addOnPreRun=function(){c("'addOnPreRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"addOnInit")||(r.addOnInit=function(){c("'addOnInit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"addOnPreMain")||(r.addOnPreMain=function(){c("'addOnPreMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"addOnExit")||(r.addOnExit=function(){c("'addOnExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"addOnPostRun")||(r.addOnPostRun=function(){c("'addOnPostRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeStringToMemory")||(r.writeStringToMemory=function(){c("'writeStringToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeArrayToMemory")||(r.writeArrayToMemory=function(){c("'writeArrayToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeAsciiToMemory")||(r.writeAsciiToMemory=function(){c("'writeAsciiToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.addRunDependency=yt,r.removeRunDependency=at,Object.getOwnPropertyDescriptor(r,"FS_createFolder")||(r.FS_createFolder=function(){c("'FS_createFolder' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.FS_createPath=s.createPath,r.FS_createDataFile=s.createDataFile,r.FS_createPreloadedFile=s.createPreloadedFile,r.FS_createLazyFile=s.createLazyFile,Object.getOwnPropertyDescriptor(r,"FS_createLink")||(r.FS_createLink=function(){c("'FS_createLink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.FS_createDevice=s.createDevice,r.FS_unlink=s.unlink,Object.getOwnPropertyDescriptor(r,"getLEB")||(r.getLEB=function(){c("'getLEB' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getFunctionTables")||(r.getFunctionTables=function(){c("'getFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"alignFunctionTables")||(r.alignFunctionTables=function(){c("'alignFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerFunctions")||(r.registerFunctions=function(){c("'registerFunctions' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"addFunction")||(r.addFunction=function(){c("'addFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"removeFunction")||(r.removeFunction=function(){c("'removeFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getFuncWrapper")||(r.getFuncWrapper=function(){c("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"prettyPrint")||(r.prettyPrint=function(){c("'prettyPrint' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"dynCall")||(r.dynCall=function(){c("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getCompilerSetting")||(r.getCompilerSetting=function(){c("'getCompilerSetting' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"print")||(r.print=function(){c("'print' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"printErr")||(r.printErr=function(){c("'printErr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getTempRet0")||(r.getTempRet0=function(){c("'getTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setTempRet0")||(r.setTempRet0=function(){c("'setTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"callMain")||(r.callMain=function(){c("'callMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"abort")||(r.abort=function(){c("'abort' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"keepRuntimeAlive")||(r.keepRuntimeAlive=function(){c("'keepRuntimeAlive' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"zeroMemory")||(r.zeroMemory=function(){c("'zeroMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stringToNewUTF8")||(r.stringToNewUTF8=function(){c("'stringToNewUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setFileTime")||(r.setFileTime=function(){c("'setFileTime' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emscripten_realloc_buffer")||(r.emscripten_realloc_buffer=function(){c("'emscripten_realloc_buffer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ENV")||(r.ENV=function(){c("'ENV' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"withStackSave")||(r.withStackSave=function(){c("'withStackSave' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ERRNO_CODES")||(r.ERRNO_CODES=function(){c("'ERRNO_CODES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ERRNO_MESSAGES")||(r.ERRNO_MESSAGES=function(){c("'ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setErrNo")||(r.setErrNo=function(){c("'setErrNo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"inetPton4")||(r.inetPton4=function(){c("'inetPton4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"inetNtop4")||(r.inetNtop4=function(){c("'inetNtop4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"inetPton6")||(r.inetPton6=function(){c("'inetPton6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"inetNtop6")||(r.inetNtop6=function(){c("'inetNtop6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"readSockaddr")||(r.readSockaddr=function(){c("'readSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeSockaddr")||(r.writeSockaddr=function(){c("'writeSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"DNS")||(r.DNS=function(){c("'DNS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getHostByName")||(r.getHostByName=function(){c("'getHostByName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"GAI_ERRNO_MESSAGES")||(r.GAI_ERRNO_MESSAGES=function(){c("'GAI_ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"Protocols")||(r.Protocols=function(){c("'Protocols' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"Sockets")||(r.Sockets=function(){c("'Sockets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getRandomDevice")||(r.getRandomDevice=function(){c("'getRandomDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"traverseStack")||(r.traverseStack=function(){c("'traverseStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"UNWIND_CACHE")||(r.UNWIND_CACHE=function(){c("'UNWIND_CACHE' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"readAsmConstArgsArray")||(r.readAsmConstArgsArray=function(){c("'readAsmConstArgsArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"readAsmConstArgs")||(r.readAsmConstArgs=function(){c("'readAsmConstArgs' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"mainThreadEM_ASM")||(r.mainThreadEM_ASM=function(){c("'mainThreadEM_ASM' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"jstoi_q")||(r.jstoi_q=function(){c("'jstoi_q' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"jstoi_s")||(r.jstoi_s=function(){c("'jstoi_s' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getExecutableName")||(r.getExecutableName=function(){c("'getExecutableName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"listenOnce")||(r.listenOnce=function(){c("'listenOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"autoResumeAudioContext")||(r.autoResumeAudioContext=function(){c("'autoResumeAudioContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"dynCallLegacy")||(r.dynCallLegacy=function(){c("'dynCallLegacy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getDynCaller")||(r.getDynCaller=function(){c("'getDynCaller' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"dynCall")||(r.dynCall=function(){c("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"callRuntimeCallbacks")||(r.callRuntimeCallbacks=function(){c("'callRuntimeCallbacks' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"wasmTableMirror")||(r.wasmTableMirror=function(){c("'wasmTableMirror' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setWasmTableEntry")||(r.setWasmTableEntry=function(){c("'setWasmTableEntry' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getWasmTableEntry")||(r.getWasmTableEntry=function(){c("'getWasmTableEntry' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"handleException")||(r.handleException=function(){c("'handleException' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"runtimeKeepalivePush")||(r.runtimeKeepalivePush=function(){c("'runtimeKeepalivePush' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"runtimeKeepalivePop")||(r.runtimeKeepalivePop=function(){c("'runtimeKeepalivePop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"callUserCallback")||(r.callUserCallback=function(){c("'callUserCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"maybeExit")||(r.maybeExit=function(){c("'maybeExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"safeSetTimeout")||(r.safeSetTimeout=function(){c("'safeSetTimeout' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"asmjsMangle")||(r.asmjsMangle=function(){c("'asmjsMangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"asyncLoad")||(r.asyncLoad=function(){c("'asyncLoad' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"alignMemory")||(r.alignMemory=function(){c("'alignMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"mmapAlloc")||(r.mmapAlloc=function(){c("'mmapAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"reallyNegative")||(r.reallyNegative=function(){c("'reallyNegative' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"unSign")||(r.unSign=function(){c("'unSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"reSign")||(r.reSign=function(){c("'reSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"formatString")||(r.formatString=function(){c("'formatString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"PATH")||(r.PATH=function(){c("'PATH' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"PATH_FS")||(r.PATH_FS=function(){c("'PATH_FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"SYSCALLS")||(r.SYSCALLS=function(){c("'SYSCALLS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"syscallMmap2")||(r.syscallMmap2=function(){c("'syscallMmap2' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"syscallMunmap")||(r.syscallMunmap=function(){c("'syscallMunmap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getSocketFromFD")||(r.getSocketFromFD=function(){c("'getSocketFromFD' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getSocketAddress")||(r.getSocketAddress=function(){c("'getSocketAddress' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"JSEvents")||(r.JSEvents=function(){c("'JSEvents' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerKeyEventCallback")||(r.registerKeyEventCallback=function(){c("'registerKeyEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"specialHTMLTargets")||(r.specialHTMLTargets=function(){c("'specialHTMLTargets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"maybeCStringToJsString")||(r.maybeCStringToJsString=function(){c("'maybeCStringToJsString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"findEventTarget")||(r.findEventTarget=function(){c("'findEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"findCanvasEventTarget")||(r.findCanvasEventTarget=function(){c("'findCanvasEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getBoundingClientRect")||(r.getBoundingClientRect=function(){c("'getBoundingClientRect' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillMouseEventData")||(r.fillMouseEventData=function(){c("'fillMouseEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerMouseEventCallback")||(r.registerMouseEventCallback=function(){c("'registerMouseEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerWheelEventCallback")||(r.registerWheelEventCallback=function(){c("'registerWheelEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerUiEventCallback")||(r.registerUiEventCallback=function(){c("'registerUiEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerFocusEventCallback")||(r.registerFocusEventCallback=function(){c("'registerFocusEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillDeviceOrientationEventData")||(r.fillDeviceOrientationEventData=function(){c("'fillDeviceOrientationEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerDeviceOrientationEventCallback")||(r.registerDeviceOrientationEventCallback=function(){c("'registerDeviceOrientationEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillDeviceMotionEventData")||(r.fillDeviceMotionEventData=function(){c("'fillDeviceMotionEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerDeviceMotionEventCallback")||(r.registerDeviceMotionEventCallback=function(){c("'registerDeviceMotionEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"screenOrientation")||(r.screenOrientation=function(){c("'screenOrientation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillOrientationChangeEventData")||(r.fillOrientationChangeEventData=function(){c("'fillOrientationChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerOrientationChangeEventCallback")||(r.registerOrientationChangeEventCallback=function(){c("'registerOrientationChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillFullscreenChangeEventData")||(r.fillFullscreenChangeEventData=function(){c("'fillFullscreenChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerFullscreenChangeEventCallback")||(r.registerFullscreenChangeEventCallback=function(){c("'registerFullscreenChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerRestoreOldStyle")||(r.registerRestoreOldStyle=function(){c("'registerRestoreOldStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"hideEverythingExceptGivenElement")||(r.hideEverythingExceptGivenElement=function(){c("'hideEverythingExceptGivenElement' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"restoreHiddenElements")||(r.restoreHiddenElements=function(){c("'restoreHiddenElements' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setLetterbox")||(r.setLetterbox=function(){c("'setLetterbox' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"currentFullscreenStrategy")||(r.currentFullscreenStrategy=function(){c("'currentFullscreenStrategy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"restoreOldWindowedStyle")||(r.restoreOldWindowedStyle=function(){c("'restoreOldWindowedStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"softFullscreenResizeWebGLRenderTarget")||(r.softFullscreenResizeWebGLRenderTarget=function(){c("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"doRequestFullscreen")||(r.doRequestFullscreen=function(){c("'doRequestFullscreen' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillPointerlockChangeEventData")||(r.fillPointerlockChangeEventData=function(){c("'fillPointerlockChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerPointerlockChangeEventCallback")||(r.registerPointerlockChangeEventCallback=function(){c("'registerPointerlockChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerPointerlockErrorEventCallback")||(r.registerPointerlockErrorEventCallback=function(){c("'registerPointerlockErrorEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"requestPointerLock")||(r.requestPointerLock=function(){c("'requestPointerLock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillVisibilityChangeEventData")||(r.fillVisibilityChangeEventData=function(){c("'fillVisibilityChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerVisibilityChangeEventCallback")||(r.registerVisibilityChangeEventCallback=function(){c("'registerVisibilityChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerTouchEventCallback")||(r.registerTouchEventCallback=function(){c("'registerTouchEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillGamepadEventData")||(r.fillGamepadEventData=function(){c("'fillGamepadEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerGamepadEventCallback")||(r.registerGamepadEventCallback=function(){c("'registerGamepadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerBeforeUnloadEventCallback")||(r.registerBeforeUnloadEventCallback=function(){c("'registerBeforeUnloadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"fillBatteryEventData")||(r.fillBatteryEventData=function(){c("'fillBatteryEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"battery")||(r.battery=function(){c("'battery' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerBatteryEventCallback")||(r.registerBatteryEventCallback=function(){c("'registerBatteryEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setCanvasElementSize")||(r.setCanvasElementSize=function(){c("'setCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getCanvasElementSize")||(r.getCanvasElementSize=function(){c("'getCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"demangle")||(r.demangle=function(){c("'demangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"demangleAll")||(r.demangleAll=function(){c("'demangleAll' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"jsStackTrace")||(r.jsStackTrace=function(){c("'jsStackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stackTrace")||(r.stackTrace=function(){c("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getEnvStrings")||(r.getEnvStrings=function(){c("'getEnvStrings' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"checkWasiClock")||(r.checkWasiClock=function(){c("'checkWasiClock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeI53ToI64")||(r.writeI53ToI64=function(){c("'writeI53ToI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeI53ToI64Clamped")||(r.writeI53ToI64Clamped=function(){c("'writeI53ToI64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeI53ToI64Signaling")||(r.writeI53ToI64Signaling=function(){c("'writeI53ToI64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeI53ToU64Clamped")||(r.writeI53ToU64Clamped=function(){c("'writeI53ToU64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeI53ToU64Signaling")||(r.writeI53ToU64Signaling=function(){c("'writeI53ToU64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"readI53FromI64")||(r.readI53FromI64=function(){c("'readI53FromI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"readI53FromU64")||(r.readI53FromU64=function(){c("'readI53FromU64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"convertI32PairToI53")||(r.convertI32PairToI53=function(){c("'convertI32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"convertU32PairToI53")||(r.convertU32PairToI53=function(){c("'convertU32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setImmediateWrapped")||(r.setImmediateWrapped=function(){c("'setImmediateWrapped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"clearImmediateWrapped")||(r.clearImmediateWrapped=function(){c("'clearImmediateWrapped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"polyfillSetImmediate")||(r.polyfillSetImmediate=function(){c("'polyfillSetImmediate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"uncaughtExceptionCount")||(r.uncaughtExceptionCount=function(){c("'uncaughtExceptionCount' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"exceptionLast")||(r.exceptionLast=function(){c("'exceptionLast' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"exceptionCaught")||(r.exceptionCaught=function(){c("'exceptionCaught' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ExceptionInfo")||(r.ExceptionInfo=function(){c("'ExceptionInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"CatchInfo")||(r.CatchInfo=function(){c("'CatchInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"exception_addRef")||(r.exception_addRef=function(){c("'exception_addRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"exception_decRef")||(r.exception_decRef=function(){c("'exception_decRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"Browser")||(r.Browser=function(){c("'Browser' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"funcWrappers")||(r.funcWrappers=function(){c("'funcWrappers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getFuncWrapper")||(r.getFuncWrapper=function(){c("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setMainLoop")||(r.setMainLoop=function(){c("'setMainLoop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"wget")||(r.wget=function(){c("'wget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.FS=s,Object.getOwnPropertyDescriptor(r,"MEMFS")||(r.MEMFS=function(){c("'MEMFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"TTY")||(r.TTY=function(){c("'TTY' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"PIPEFS")||(r.PIPEFS=function(){c("'PIPEFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"SOCKFS")||(r.SOCKFS=function(){c("'SOCKFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"_setNetworkCallback")||(r._setNetworkCallback=function(){c("'_setNetworkCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"tempFixedLengthArray")||(r.tempFixedLengthArray=function(){c("'tempFixedLengthArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"miniTempWebGLFloatBuffers")||(r.miniTempWebGLFloatBuffers=function(){c("'miniTempWebGLFloatBuffers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"heapObjectForWebGLType")||(r.heapObjectForWebGLType=function(){c("'heapObjectForWebGLType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"heapAccessShiftForWebGLHeap")||(r.heapAccessShiftForWebGLHeap=function(){c("'heapAccessShiftForWebGLHeap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"GL")||(r.GL=function(){c("'GL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emscriptenWebGLGet")||(r.emscriptenWebGLGet=function(){c("'emscriptenWebGLGet' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"computeUnpackAlignedImageSize")||(r.computeUnpackAlignedImageSize=function(){c("'computeUnpackAlignedImageSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emscriptenWebGLGetTexPixelData")||(r.emscriptenWebGLGetTexPixelData=function(){c("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emscriptenWebGLGetUniform")||(r.emscriptenWebGLGetUniform=function(){c("'emscriptenWebGLGetUniform' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"webglGetUniformLocation")||(r.webglGetUniformLocation=function(){c("'webglGetUniformLocation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"webglPrepareUniformLocationsBeforeFirstUse")||(r.webglPrepareUniformLocationsBeforeFirstUse=function(){c("'webglPrepareUniformLocationsBeforeFirstUse' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"webglGetLeftBracePos")||(r.webglGetLeftBracePos=function(){c("'webglGetLeftBracePos' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emscriptenWebGLGetVertexAttrib")||(r.emscriptenWebGLGetVertexAttrib=function(){c("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"writeGLArray")||(r.writeGLArray=function(){c("'writeGLArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"AL")||(r.AL=function(){c("'AL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"SDL_unicode")||(r.SDL_unicode=function(){c("'SDL_unicode' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"SDL_ttfContext")||(r.SDL_ttfContext=function(){c("'SDL_ttfContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"SDL_audio")||(r.SDL_audio=function(){c("'SDL_audio' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"SDL")||(r.SDL=function(){c("'SDL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"SDL_gfx")||(r.SDL_gfx=function(){c("'SDL_gfx' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"GLUT")||(r.GLUT=function(){c("'GLUT' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"EGL")||(r.EGL=function(){c("'EGL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"GLFW_Window")||(r.GLFW_Window=function(){c("'GLFW_Window' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"GLFW")||(r.GLFW=function(){c("'GLFW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"GLEW")||(r.GLEW=function(){c("'GLEW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"IDBStore")||(r.IDBStore=function(){c("'IDBStore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"runAndAbortIfError")||(r.runAndAbortIfError=function(){c("'runAndAbortIfError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emval_handle_array")||(r.emval_handle_array=function(){c("'emval_handle_array' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emval_free_list")||(r.emval_free_list=function(){c("'emval_free_list' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emval_symbols")||(r.emval_symbols=function(){c("'emval_symbols' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"init_emval")||(r.init_emval=function(){c("'init_emval' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"count_emval_handles")||(r.count_emval_handles=function(){c("'count_emval_handles' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"get_first_emval")||(r.get_first_emval=function(){c("'get_first_emval' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getStringOrSymbol")||(r.getStringOrSymbol=function(){c("'getStringOrSymbol' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"Emval")||(r.Emval=function(){c("'Emval' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emval_newers")||(r.emval_newers=function(){c("'emval_newers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"craftEmvalAllocator")||(r.craftEmvalAllocator=function(){c("'craftEmvalAllocator' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emval_get_global")||(r.emval_get_global=function(){c("'emval_get_global' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"emval_methodCallers")||(r.emval_methodCallers=function(){c("'emval_methodCallers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"InternalError")||(r.InternalError=function(){c("'InternalError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"BindingError")||(r.BindingError=function(){c("'BindingError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"UnboundTypeError")||(r.UnboundTypeError=function(){c("'UnboundTypeError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"PureVirtualError")||(r.PureVirtualError=function(){c("'PureVirtualError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"init_embind")||(r.init_embind=function(){c("'init_embind' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"throwInternalError")||(r.throwInternalError=function(){c("'throwInternalError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"throwBindingError")||(r.throwBindingError=function(){c("'throwBindingError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"throwUnboundTypeError")||(r.throwUnboundTypeError=function(){c("'throwUnboundTypeError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ensureOverloadTable")||(r.ensureOverloadTable=function(){c("'ensureOverloadTable' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"exposePublicSymbol")||(r.exposePublicSymbol=function(){c("'exposePublicSymbol' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"replacePublicSymbol")||(r.replacePublicSymbol=function(){c("'replacePublicSymbol' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"extendError")||(r.extendError=function(){c("'extendError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"createNamedFunction")||(r.createNamedFunction=function(){c("'createNamedFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registeredInstances")||(r.registeredInstances=function(){c("'registeredInstances' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getBasestPointer")||(r.getBasestPointer=function(){c("'getBasestPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerInheritedInstance")||(r.registerInheritedInstance=function(){c("'registerInheritedInstance' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"unregisterInheritedInstance")||(r.unregisterInheritedInstance=function(){c("'unregisterInheritedInstance' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getInheritedInstance")||(r.getInheritedInstance=function(){c("'getInheritedInstance' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getInheritedInstanceCount")||(r.getInheritedInstanceCount=function(){c("'getInheritedInstanceCount' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getLiveInheritedInstances")||(r.getLiveInheritedInstances=function(){c("'getLiveInheritedInstances' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registeredTypes")||(r.registeredTypes=function(){c("'registeredTypes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"awaitingDependencies")||(r.awaitingDependencies=function(){c("'awaitingDependencies' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"typeDependencies")||(r.typeDependencies=function(){c("'typeDependencies' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registeredPointers")||(r.registeredPointers=function(){c("'registeredPointers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"registerType")||(r.registerType=function(){c("'registerType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"whenDependentTypesAreResolved")||(r.whenDependentTypesAreResolved=function(){c("'whenDependentTypesAreResolved' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"embind_charCodes")||(r.embind_charCodes=function(){c("'embind_charCodes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"embind_init_charCodes")||(r.embind_init_charCodes=function(){c("'embind_init_charCodes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"readLatin1String")||(r.readLatin1String=function(){c("'readLatin1String' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getTypeName")||(r.getTypeName=function(){c("'getTypeName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"heap32VectorToArray")||(r.heap32VectorToArray=function(){c("'heap32VectorToArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"requireRegisteredType")||(r.requireRegisteredType=function(){c("'requireRegisteredType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"getShiftFromSize")||(r.getShiftFromSize=function(){c("'getShiftFromSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"integerReadValueFromPointer")||(r.integerReadValueFromPointer=function(){c("'integerReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"enumReadValueFromPointer")||(r.enumReadValueFromPointer=function(){c("'enumReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"floatReadValueFromPointer")||(r.floatReadValueFromPointer=function(){c("'floatReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"simpleReadValueFromPointer")||(r.simpleReadValueFromPointer=function(){c("'simpleReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"runDestructors")||(r.runDestructors=function(){c("'runDestructors' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"new_")||(r.new_=function(){c("'new_' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"craftInvokerFunction")||(r.craftInvokerFunction=function(){c("'craftInvokerFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"embind__requireFunction")||(r.embind__requireFunction=function(){c("'embind__requireFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"tupleRegistrations")||(r.tupleRegistrations=function(){c("'tupleRegistrations' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"structRegistrations")||(r.structRegistrations=function(){c("'structRegistrations' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"genericPointerToWireType")||(r.genericPointerToWireType=function(){c("'genericPointerToWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"constNoSmartPtrRawPointerToWireType")||(r.constNoSmartPtrRawPointerToWireType=function(){c("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"nonConstNoSmartPtrRawPointerToWireType")||(r.nonConstNoSmartPtrRawPointerToWireType=function(){c("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"init_RegisteredPointer")||(r.init_RegisteredPointer=function(){c("'init_RegisteredPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"RegisteredPointer")||(r.RegisteredPointer=function(){c("'RegisteredPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"RegisteredPointer_getPointee")||(r.RegisteredPointer_getPointee=function(){c("'RegisteredPointer_getPointee' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"RegisteredPointer_destructor")||(r.RegisteredPointer_destructor=function(){c("'RegisteredPointer_destructor' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"RegisteredPointer_deleteObject")||(r.RegisteredPointer_deleteObject=function(){c("'RegisteredPointer_deleteObject' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"RegisteredPointer_fromWireType")||(r.RegisteredPointer_fromWireType=function(){c("'RegisteredPointer_fromWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"runDestructor")||(r.runDestructor=function(){c("'runDestructor' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"releaseClassHandle")||(r.releaseClassHandle=function(){c("'releaseClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"finalizationRegistry")||(r.finalizationRegistry=function(){c("'finalizationRegistry' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"detachFinalizer_deps")||(r.detachFinalizer_deps=function(){c("'detachFinalizer_deps' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"detachFinalizer")||(r.detachFinalizer=function(){c("'detachFinalizer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"attachFinalizer")||(r.attachFinalizer=function(){c("'attachFinalizer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"makeClassHandle")||(r.makeClassHandle=function(){c("'makeClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"init_ClassHandle")||(r.init_ClassHandle=function(){c("'init_ClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ClassHandle")||(r.ClassHandle=function(){c("'ClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ClassHandle_isAliasOf")||(r.ClassHandle_isAliasOf=function(){c("'ClassHandle_isAliasOf' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"throwInstanceAlreadyDeleted")||(r.throwInstanceAlreadyDeleted=function(){c("'throwInstanceAlreadyDeleted' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ClassHandle_clone")||(r.ClassHandle_clone=function(){c("'ClassHandle_clone' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ClassHandle_delete")||(r.ClassHandle_delete=function(){c("'ClassHandle_delete' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"deletionQueue")||(r.deletionQueue=function(){c("'deletionQueue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ClassHandle_isDeleted")||(r.ClassHandle_isDeleted=function(){c("'ClassHandle_isDeleted' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"ClassHandle_deleteLater")||(r.ClassHandle_deleteLater=function(){c("'ClassHandle_deleteLater' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"flushPendingDeletes")||(r.flushPendingDeletes=function(){c("'flushPendingDeletes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"delayFunction")||(r.delayFunction=function(){c("'delayFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"setDelayFunction")||(r.setDelayFunction=function(){c("'setDelayFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"RegisteredClass")||(r.RegisteredClass=function(){c("'RegisteredClass' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"shallowCopyInternalPointer")||(r.shallowCopyInternalPointer=function(){c("'shallowCopyInternalPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"downcastPointer")||(r.downcastPointer=function(){c("'downcastPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"upcastPointer")||(r.upcastPointer=function(){c("'upcastPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"validateThis")||(r.validateThis=function(){c("'validateThis' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"char_0")||(r.char_0=function(){c("'char_0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"char_9")||(r.char_9=function(){c("'char_9' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"makeLegalFunctionName")||(r.makeLegalFunctionName=function(){c("'makeLegalFunctionName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"warnOnce")||(r.warnOnce=function(){c("'warnOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stackSave")||(r.stackSave=function(){c("'stackSave' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stackRestore")||(r.stackRestore=function(){c("'stackRestore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stackAlloc")||(r.stackAlloc=function(){c("'stackAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"AsciiToString")||(r.AsciiToString=function(){c("'AsciiToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stringToAscii")||(r.stringToAscii=function(){c("'stringToAscii' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"UTF16ToString")||(r.UTF16ToString=function(){c("'UTF16ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stringToUTF16")||(r.stringToUTF16=function(){c("'stringToUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"lengthBytesUTF16")||(r.lengthBytesUTF16=function(){c("'lengthBytesUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"UTF32ToString")||(r.UTF32ToString=function(){c("'UTF32ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"stringToUTF32")||(r.stringToUTF32=function(){c("'stringToUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"lengthBytesUTF32")||(r.lengthBytesUTF32=function(){c("'lengthBytesUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"allocateUTF8")||(r.allocateUTF8=function(){c("'allocateUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(r,"allocateUTF8OnStack")||(r.allocateUTF8OnStack=function(){c("'allocateUTF8OnStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),r.writeStackCookie=dr,r.checkStackCookie=_t,Object.getOwnPropertyDescriptor(r,"ALLOC_NORMAL")||Object.defineProperty(r,"ALLOC_NORMAL",{configurable:!0,get:function(){c("'ALLOC_NORMAL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(r,"ALLOC_STACK")||Object.defineProperty(r,"ALLOC_STACK",{configurable:!0,get:function(){c("'ALLOC_STACK' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),st=function e(){xt||ar(),xt||(st=e)},r.run=ar,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return ar(),k.ready});g.exports=M},85:()=>{},351:()=>{},606:()=>{},891:()=>{}},__webpack_module_cache__={};function __webpack_require__(g){var O=__webpack_module_cache__[g];if(O!==void 0)return O.exports;var b=__webpack_module_cache__[g]={exports:{}};return __webpack_modules__[g](b,b.exports,__webpack_require__),b.exports}__webpack_require__.amdO={},__webpack_require__.d=(g,O)=>{for(var b in O)__webpack_require__.o(O,b)&&!__webpack_require__.o(g,b)&&Object.defineProperty(g,b,{enumerable:!0,get:O[b]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(g,O)=>Object.prototype.hasOwnProperty.call(g,O),__webpack_require__.r=g=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Faust:()=>te,FaustAudioWorkletNode:()=>tt});var g=__webpack_require__(23),O=__webpack_require__(416);const b=j=>j?String.fromCharCode.apply(null,new Uint8Array(j)):null,P=j=>{if(!j)return null;const d=new ArrayBuffer(j.length),f=new Uint8Array(d);for(let l=0,_=j.length;l<_;l++)f[l]=j.charCodeAt(l);return d},M=new WebAssembly.Module(((j,d)=>{if(typeof window.atob=="function")return P(atob(j));const f=j.replace(/[^A-Za-z0-9+/]/g,""),l=f.length,_=3*l+1>>2,w=new Uint8Array(_);for(let F,X,Q=0,i=0,B=0;B<l;B++)if(X=3&B,Q|=((D=f.charCodeAt(B))>64&&D<91?D-65:D>96&&D<123?D-71:D>47&&D<58?D+4:D===43?62:D===47?63:0)<<18-6*X,X===3||l-B==1){for(F=0;F<3&&i<_;F++,i++)w[i]=Q>>>(16>>>F&24)&255;Q=0}var D;return w.buffer})("data:application/wasm;base64,AGFzbQEAAAABj4CAgAACYAN/f38AYAR/f39/AX0CkoCAgAABBm1lbW9yeQZtZW1vcnkCAAIDg4CAgAACAAEHmoCAgAACC2NsZWFyT3V0cHV0AAAIbWl4Vm9pY2UAAQqKgoCAAALigICAAAEDfwJAQQAhBQNAAkAgAiAFQQJ0aigCACEDQQAhBANAAkAgAyAEQQJ0akMAAAAAOAIAIARBAWohBCAEIABIBEAMAgUMAQsACwsgBUEBaiEFIAUgAUgEQAwCBQwBCwALCwsLnYGAgAACBH8DfQJ9QQAhB0MAAAAAIQgDQAJAQQAhBiACIAdBAnRqKAIAIQQgAyAHQQJ0aigCACEFA0ACQCAEIAZBAnRqKgIAIQkgCCAJi5chCCAFIAZBAnRqKgIAIQogBSAGQQJ0aiAKIAmSOAIAIAZBAWohBiAGIABIBEAMAgUMAQsACwsgB0EBaiEHIAcgAUgEQAwCBQwBCwALCyAIDwsL".split(",")[1])),k=j=>440*2**((j-69)/12),W=(j,d,f,l,_)=>(j-d)/(f-d)*(_-l)+l,H=()=>{const j=(d,f)=>{if(typeof d!="object")return!1;if(d.address)return d.address===f;for(const l in d)if(j(d[l],f))return!0;return!1};return j},r=(j,d)=>({env:{memory:j?d:void 0,memoryBase:0,tableBase:0,_abs:Math.abs,_acosf:Math.acos,_asinf:Math.asin,_atanf:Math.atan,_atan2f:Math.atan2,_ceilf:Math.ceil,_cosf:Math.cos,_expf:Math.exp,_floorf:Math.floor,_fmodf:(f,l)=>f%l,_logf:Math.log,_log10f:Math.log10,_max_f:Math.max,_min_f:Math.min,_remainderf:(f,l)=>f-Math.round(f/l)*l,_powf:Math.pow,_roundf:Math.fround,_sinf:Math.sin,_sqrtf:Math.sqrt,_tanf:Math.tan,_acoshf:Math.acosh,_asinhf:Math.asinh,_atanhf:Math.atanh,_coshf:Math.cosh,_sinhf:Math.sinh,_tanhf:Math.tanh,_isnanf:Number.isNaN,_isinff:f=>!isFinite(f),_copysignf:(f,l)=>Math.sign(f)===Math.sign(l)?f:-f,_acos:Math.acos,_asin:Math.asin,_atan:Math.atan,_atan2:Math.atan2,_ceil:Math.ceil,_cos:Math.cos,_exp:Math.exp,_floor:Math.floor,_fmod:(f,l)=>f%l,_log:Math.log,_log10:Math.log10,_max_:Math.max,_min_:Math.min,_remainder:(f,l)=>f-Math.round(f/l)*l,_pow:Math.pow,_round:Math.fround,_sin:Math.sin,_sqrt:Math.sqrt,_tan:Math.tan,_acosh:Math.acosh,_asinh:Math.asinh,_atanh:Math.atanh,_cosh:Math.cosh,_sinh:Math.sinh,_tanh:Math.tanh,_isnan:Number.isNaN,_isinf:f=>!isFinite(f),_copysign:(f,l)=>Math.sign(f)===Math.sign(l)?f:-f,table:new WebAssembly.Table({initial:0,element:"anyfunc"})}}),le=(j,d,f,l)=>{const _=Math.max(4,j);let w=(D=>{let F=65536;for(;F<D;)F*=2;return F})((f?f.size:0)+d.size*_+(d.inputs+2*d.outputs)*(4+4*l))/65536;return w=Math.max(2,w),new WebAssembly.Memory({initial:w,maximum:w})},ee=j=>{const d=[];for(const f in j){const l=j[f];Array.isArray(l)?l.forEach(_=>d.push(f,_)):typeof l=="number"?d.push(f,l.toString()):d.push(f,l)}return d};var ce=Object.defineProperty,de=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,pe=(j,d,f)=>d in j?ce(j,d,{enumerable:!0,configurable:!0,writable:!0,value:f}):j[d]=f;class De{constructor(d){this.faust=d}initNode(d,f,l,_,w,D,F,X,Q){let i;const B=d.dspMeta,oe=B.inputs,S=B.outputs;try{i=w.createScriptProcessor(D,oe,S)}catch(v){throw this.faust.error("Error in createScriptProcessor: "+v.message),v}if(i.destroyed=!1,i.voices=X,i.dspMeta=B,i.outputHandler=null,i.computeHandler=null,i.$ins=null,i.$outs=null,i.dspInChannnels=[],i.dspOutChannnels=[],i.fPitchwheelLabel=[],i.fCtrlLabel=new Array(128).fill(null).map(()=>[]),i.numIn=oe,i.numOut=S,this.faust.log(i.numIn),this.faust.log(i.numOut),i.ptrSize=4,i.sampleSize=4,i.factory=f.exports,i.HEAP=i.voices?F.buffer:i.factory.memory.buffer,i.HEAP32=new Int32Array(i.HEAP),i.HEAPF32=new Float32Array(i.HEAP),this.faust.log(i.HEAP),this.faust.log(i.HEAP32),this.faust.log(i.HEAPF32),i.outputsTimer=5,i.outputsItems=[],i.inputsItems=[],i.$audioHeap=i.voices?0:i.dspMeta.size,i.$$audioHeapInputs=i.$audioHeap,i.$$audioHeapOutputs=i.$$audioHeapInputs+i.numIn*i.ptrSize,i.voices?(i.$$audioHeapMixing=i.$$audioHeapOutputs+i.numOut*i.ptrSize,i.$audioHeapInputs=i.$$audioHeapMixing+i.numOut*i.ptrSize,i.$audioHeapOutputs=i.$audioHeapInputs+i.numIn*i.bufferSize*i.sampleSize,i.$audioHeapMixing=i.$audioHeapOutputs+i.numOut*i.bufferSize*i.sampleSize,i.$dsp=i.$audioHeapMixing+i.numOut*i.bufferSize*i.sampleSize):(i.$audioHeapInputs=i.$$audioHeapOutputs+i.numOut*i.ptrSize,i.$audioHeapOutputs=i.$audioHeapInputs+i.numIn*i.bufferSize*i.sampleSize,i.$dsp=0),i.voices){i.effectMeta=d.effectMeta,i.$mixing=null,i.fFreqLabel$=[],i.fKeyLabel$=[],i.fGateLabel$=[],i.fGainLabel$=[],i.fVelLabel$=[],i.fDate=0,i.mixer=_.exports,i.effect=l?l.exports:null,this.faust.log(i.mixer),this.faust.log(i.factory),this.faust.log(i.effect),i.dspVoices$=[],i.dspVoicesState=[],i.dspVoicesLevel=[],i.dspVoicesDate=[],i.kActiveVoice=0,i.kFreeVoice=-1,i.kReleaseVoice=-2,i.kNoVoice=-3;for(let v=0;v<i.voices;v++)i.dspVoices$[v]=i.$dsp+v*i.dspMeta.size,i.dspVoicesState[v]=i.kFreeVoice,i.dspVoicesLevel[v]=0,i.dspVoicesDate[v]=0;i.$effect=i.dspVoices$[i.voices-1]+i.dspMeta.size}i.pathTable$={},i.$buffer=0,i.cachedEvents=[],i.plotHandler=Q,i.updateOutputs=()=>{i.outputsItems.length>0&&i.outputHandler&&i.outputsTimer--==0&&(i.outputsTimer=5,i.outputsItems.forEach(v=>i.outputHandler(v,i.factory.getParamValue(i.$dsp,i.pathTable$[v]))))},i.parseUI=v=>v.forEach(U=>i.parseGroup(U)),i.parseGroup=v=>v.items?i.parseItems(v.items):null,i.parseItems=v=>v.forEach(U=>i.parseItem(U)),i.parseItem=v=>{if(v.type==="vgroup"||v.type==="hgroup"||v.type==="tgroup")i.parseItems(v.items);else if(v.type==="hbargraph"||v.type==="vbargraph")i.outputsItems.push(v.address),i.pathTable$[v.address]=v.index;else if(v.type==="vslider"||v.type==="hslider"||v.type==="button"||v.type==="checkbox"||v.type==="nentry"){if(i.inputsItems.push(v.address),i.pathTable$[v.address]=v.index,!v.meta)return;v.meta.forEach(U=>{const{midi:G}=U;if(!G)return;const re=G.trim();if(re==="pitchwheel")i.fPitchwheelLabel.push({path:v.address,min:v.min,max:v.max});else{const Y=re.match(/^ctrl\s(\d+)/);if(!Y)return;i.fCtrlLabel[parseInt(Y[1])].push({path:v.address,min:v.min,max:v.max})}})}},i.voices&&(i.getPlayingVoice=v=>{let U=i.kNoVoice,G=Number.MAX_VALUE;for(let re=0;re<i.voices;re++)i.dspVoicesState[re]===v&&i.dspVoicesDate[re]<G&&(G=i.dspVoicesDate[re],U=re);return U},i.allocVoice=v=>(i.factory.instanceClear(i.dspVoices$[v]),i.dspVoicesDate[v]=i.fDate++,i.dspVoicesState[v]=i.kActiveVoice,v),i.getFreeVoice=()=>{for(let Y=0;Y<i.voices;Y++)if(i.dspVoicesState[Y]===i.kFreeVoice)return i.allocVoice(Y);let v=i.kNoVoice,U=i.kNoVoice,G=Number.MAX_VALUE,re=Number.MAX_VALUE;for(let Y=0;Y<i.voices;Y++)i.dspVoicesState[Y]===i.kReleaseVoice?i.dspVoicesDate[Y]<G&&(G=i.dspVoicesDate[Y],v=Y):i.dspVoicesDate[Y]<re&&(re=i.dspVoicesDate[Y],U=Y);return G!==Number.MAX_VALUE?(this.faust.log(`Steal release voice : voice_date = ${i.dspVoicesDate[v]} cur_date = ${i.fDate} voice = ${v}`),i.allocVoice(v)):re!==Number.MAX_VALUE?(this.faust.log(`Steal playing voice : voice_date = ${i.dspVoicesDate[U]} cur_date = ${i.fDate} voice = ${U}`),i.allocVoice(U)):i.kNoVoice},i.keyOn=(v,U,G)=>{i.cachedEvents.push({type:"keyOn",data:[v,U,G]});const re=i.getFreeVoice();this.faust.log("keyOn voice "+re),i.fFreqLabel$.forEach(Y=>i.factory.setParamValue(i.dspVoices$[re],Y,k(U))),i.fKeyLabel$.forEach(Y=>i.factory.setParamValue(i.dspVoices$[re],Y,U)),i.fGateLabel$.forEach(Y=>i.factory.setParamValue(i.dspVoices$[re],Y,1)),i.fGainLabel$.forEach(Y=>i.factory.setParamValue(i.dspVoices$[re],Y,G/127)),i.fVelLabel$.forEach(Y=>i.factory.setParamValue(i.dspVoices$[re],Y,G)),i.dspVoicesState[re]=U},i.keyOff=(v,U,G)=>{i.cachedEvents.push({type:"keyOff",data:[v,U,G]});const re=i.getPlayingVoice(U);return re===i.kNoVoice?this.faust.log("Playing voice not found..."):(i.fGateLabel$.forEach(Y=>i.factory.setParamValue(i.dspVoices$[re],Y,0)),i.dspVoicesState[re]=i.kReleaseVoice,this.faust.log("keyOff voice "+re))},i.allNotesOff=()=>{i.cachedEvents.push({type:"ctrlChange",data:[0,123,0]});for(let v=0;v<i.voices;v++)i.fGateLabel$.forEach(U=>i.factory.setParamValue(i.dspVoices$[v],U,0)),i.dspVoicesState[v]=i.kReleaseVoice}),i.midiMessage=v=>{i.cachedEvents.push({data:v,type:"midi"});const U=v[0]>>4,G=15&v[0],re=v[1],Y=v[2];if(G!==9){if(i.voices){if(U===8||U===9&&Y===0)return i.keyOff(G,re,Y);if(U===9)return i.keyOn(G,re,Y)}return U===11?i.ctrlChange(G,re,Y):U===14?i.pitchWheel(G,128*Y+re):void 0}},i.ctrlChange=(v,U,G)=>{i.cachedEvents.push({type:"ctrlChange",data:[v,U,G]}),U!==123&&U!==120||i.allNotesOff(),i.fCtrlLabel[U].length&&i.fCtrlLabel[U].forEach(re=>{const{path:Y}=re;i.setParamValue(Y,W(G,0,127,re.min,re.max)),i.outputHandler&&i.outputHandler(Y,i.getParamValue(Y))})},i.pitchWheel=(v,U)=>{i.cachedEvents.push({type:"pitchWheel",data:[v,U]}),i.fPitchwheelLabel.forEach(G=>{i.setParamValue(G.path,W(U,0,16383,G.min,G.max)),i.outputHandler&&i.outputHandler(G.path,i.getParamValue(G.path))})},i.compute=v=>{if(i.destroyed)return!1;for(let G=0;G<i.numIn;G++){const re=v.inputBuffer.getChannelData(G);i.dspInChannnels[G].set(re)}if(i.computeHandler&&i.computeHandler(i.bufferSize),i.voices){i.mixer.clearOutput(i.bufferSize,i.numOut,i.$outs);for(let G=0;G<i.voices;G++)i.factory.compute(i.dspVoices$[G],i.bufferSize,i.$ins,i.$mixing),i.mixer.mixVoice(i.bufferSize,i.numOut,i.$mixing,i.$outs);i.effect&&i.effect.compute(i.$effect,i.bufferSize,i.$outs,i.$outs)}else i.factory.compute(i.$dsp,i.bufferSize,i.$ins,i.$outs);i.updateOutputs();const U=new Array(i.numOut).fill(null).map(()=>new Float32Array(i.bufferSize));for(let G=0;G<i.numOut;G++){const re=v.outputBuffer.getChannelData(G),Y=i.dspOutChannnels[G];re.set(Y),U[G].set(Y)}return i.plotHandler&&i.plotHandler(U,i.$buffer++,i.cachedEvents.length?i.cachedEvents:void 0),i.cachedEvents=[],!0},i.setup=()=>{if(this.faust.log("buffer_size "+i.bufferSize),i.onaudioprocess=i.compute,i.numIn>0){i.$ins=i.$$audioHeapInputs;for(let U=0;U<i.numIn;U++)i.HEAP32[(i.$ins>>2)+U]=i.$audioHeapInputs+i.bufferSize*i.sampleSize*U;const v=i.HEAP32.subarray(i.$ins>>2,i.$ins+i.numIn*i.ptrSize>>2);for(let U=0;U<i.numIn;U++)i.dspInChannnels[U]=i.HEAPF32.subarray(v[U]>>2,v[U]+i.bufferSize*i.sampleSize>>2)}if(i.numOut>0){i.$outs=i.$$audioHeapOutputs,i.voices&&(i.$mixing=i.$$audioHeapMixing);for(let U=0;U<i.numOut;U++)i.HEAP32[(i.$outs>>2)+U]=i.$audioHeapOutputs+i.bufferSize*i.sampleSize*U,i.voices&&(i.HEAP32[(i.$mixing>>2)+U]=i.$audioHeapMixing+i.bufferSize*i.sampleSize*U);const v=i.HEAP32.subarray(i.$outs>>2,i.$outs+i.numOut*i.ptrSize>>2);for(let U=0;U<i.numOut;U++)i.dspOutChannnels[U]=i.HEAPF32.subarray(v[U]>>2,v[U]+i.bufferSize*i.sampleSize>>2)}i.parseUI(i.dspMeta.ui),i.effect&&i.parseUI(i.effectMeta.ui),i.voices?(i.inputsItems.forEach(v=>{v.endsWith("/gate")?i.fGateLabel$.push(i.pathTable$[v]):v.endsWith("/freq")?i.fFreqLabel$.push(i.pathTable$[v]):v.endsWith("/key")?i.fKeyLabel$.push(i.pathTable$[v]):v.endsWith("/gain")?i.fGainLabel$.push(i.pathTable$[v]):(v.endsWith("/vel")||v.endsWith("/velocity"))&&i.fVelLabel$.push(i.pathTable$[v])}),i.dspVoices$.forEach(v=>i.factory.init(v,w.sampleRate)),i.effect&&i.effect.init(i.$effect,w.sampleRate)):i.factory.init(i.$dsp,w.sampleRate)},i.getSampleRate=()=>w.sampleRate,i.getNumInputs=()=>i.numIn,i.getNumOutputs=()=>i.numOut,i.init=v=>{i.voices?i.dspVoices$.forEach(U=>i.factory.init(U,v)):i.factory.init(i.$dsp,v)},i.instanceInit=v=>{i.voices?i.dspVoices$.forEach(U=>i.factory.instanceInit(U,v)):i.factory.instanceInit(i.$dsp,v)},i.instanceConstants=v=>{i.voices?i.dspVoices$.forEach(U=>i.factory.instanceConstants(U,v)):i.factory.instanceConstants(i.$dsp,v)},i.instanceResetUserInterface=()=>{i.voices?i.dspVoices$.forEach(v=>i.factory.instanceResetUserInterface(v)):i.factory.instanceResetUserInterface(i.$dsp)},i.instanceClear=()=>{i.voices?i.dspVoices$.forEach(v=>i.factory.instanceClear(v)):i.factory.instanceClear(i.$dsp)},i.metadata=v=>i.dspMeta.meta?i.dspMeta.meta.forEach(U=>v.declare(Object.keys(U)[0],U[Object.keys(U)[0]])):void 0,i.setOutputParamHandler=v=>i.outputHandler=v,i.getOutputParamHandler=()=>i.outputHandler,i.setComputeHandler=v=>i.computeHandler=v,i.getComputeHandler=()=>i.computeHandler;const ue=(v,U)=>{if(typeof v!="object")return!1;if(v.address)return v.address===U;for(const G in v)if(ue(v[G],U))return!0;return!1};return i.setParamValue=(v,U)=>{i.cachedEvents.push({type:"param",data:{path:v,value:U}}),i.voices?i.effect&&ue(i.effectMeta.ui,v)?i.effect.setParamValue(i.$effect,i.pathTable$[v],U):i.dspVoices$.forEach(G=>i.factory.setParamValue(G,i.pathTable$[v],U)):i.factory.setParamValue(i.$dsp,i.pathTable$[v],U)},i.getParamValue=v=>i.voices?i.effect&&ue(i.effectMeta.ui,v)?i.effect.getParamValue(i.$effect,i.pathTable$[v]):i.factory.getParamValue(i.dspVoices$[0],i.pathTable$[v]):i.factory.getParamValue(i.$dsp,i.pathTable$[v]),i.getParams=()=>i.inputsItems,i.getJSON=()=>{if(i.voices){const v=i.dspMeta,U=i.effectMeta,G=((re,Y)=>{for(var Ne in Y||(Y={}))Te.call(Y,Ne)&&pe(re,Ne,Y[Ne]);if(de)for(var Ne of de(Y))we.call(Y,Ne)&&pe(re,Ne,Y[Ne]);return re})({},v);return G.ui=U?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:v.ui},{type:"vgroup",label:"Effect",items:U.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:v.ui}]}],JSON.stringify(G)}return JSON.stringify(i.dspMeta)},i.getUI=()=>{if(i.voices){const v=i.dspMeta,U=i.effectMeta;return U?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:v.ui},{type:"vgroup",label:"Effect",items:U.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:v.ui}]}]}return i.dspMeta.ui},i.destroy=()=>{i.destroyed=!0,delete i.outputHandler,delete i.computeHandler,delete i.plotHandler},i.setup(),i}getNode(d){return f=this,l=function*(){const{compiledDsp:_,audioCtx:w,bufferSize:D,voices:F,plotHandler:X}=d,Q=D||512;let i;try{let B,oe;const S=le(F,_.dspMeta,_.effectMeta,Q),ue=r(F,S);if(F){const U={imports:{print:console.log},memory:{memory:S}};oe=new WebAssembly.Instance(M,U);try{B=yield WebAssembly.instantiate(_.effectModule,ue)}catch{}}const v=yield WebAssembly.instantiate(_.dspModule,ue);i=this.initNode(_,v,B,oe,w,Q,S,F,X)}catch(B){throw this.faust.error("Faust "+_.shaKey+" cannot be loaded or compiled"),B}return i},new Promise((_,w)=>{var D=Q=>{try{X(l.next(Q))}catch(i){w(i)}},F=Q=>{try{X(l.throw(Q))}catch(i){w(i)}},X=Q=>Q.done?_(Q.value):Promise.resolve(Q.value).then(D,F);X((l=l.apply(f,null)).next())});var f,l}}const ve=()=>{class j{}j.id=faustData.id,j.dspMeta=faustData.dspMeta,j.effectMeta=faustData.effectMeta;const d=class extends AudioWorkletProcessor{constructor(l){super(l),this.handleMessage=w=>{const D=w.data;switch(this.cachedEvents.push({type:w.data.type,data:w.data.data}),D.type){case"midi":this.midiMessage(D.data);break;case"keyOn":this.keyOn(D.data[0],D.data[1],D.data[2]);break;case"keyOff":this.keyOff(D.data[0],D.data[1],D.data[2]);break;case"ctrlChange":this.ctrlChange(D.data[0],D.data[1],D.data[2]);break;case"pitchWheel":this.pitchWheel(D.data[0],D.data[1]);break;case"param":this.setParamValue(D.data.path,D.data.value);break;case"destroy":this.port.close(),this.destroyed=!0,delete this.outputHandler,delete this.computeHandler}};const _=l.processorOptions;if(this.instantiateWasm(_),this.port.onmessage=this.handleMessage,this.destroyed=!1,this.bufferSize=128,this.voices=_.voices,this.dspMeta=_.compiledDsp.dspMeta,this.outputHandler=(w,D)=>this.port.postMessage({path:w,value:D,type:"param"}),this.computeHandler=null,this.$ins=null,this.$outs=null,this.dspInChannnels=[],this.dspOutChannnels=[],this.fPitchwheelLabel=[],this.fCtrlLabel=new Array(128).fill(null).map(()=>[]),this.numIn=this.dspMeta.inputs,this.numOut=this.dspMeta.outputs,this.ptrSize=4,this.sampleSize=4,this.factory=this.dspInstance.exports,this.HEAP=this.voices?this.memory.buffer:this.factory.memory.buffer,this.HEAP32=new Int32Array(this.HEAP),this.HEAPF32=new Float32Array(this.HEAP),this.outputsTimer=5,this.outputsItems=[],this.inputsItems=[],this.$audioHeap=this.voices?0:this.dspMeta.size,this.$$audioHeapInputs=this.$audioHeap,this.$$audioHeapOutputs=this.$$audioHeapInputs+this.numIn*this.ptrSize,this.$audioHeapInputs=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.voices?(this.$$audioHeapMixing=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapInputs=this.$$audioHeapMixing+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.$audioHeapMixing=this.$audioHeapOutputs+this.numOut*this.bufferSize*this.sampleSize,this.$dsp=this.$audioHeapMixing+this.numOut*this.bufferSize*this.sampleSize):(this.$audioHeapInputs=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.$dsp=0),this.voices){this.effectMeta=j.effectMeta,this.$mixing=null,this.fFreqLabel$=[],this.fKeyLabel$=[],this.fGateLabel$=[],this.fGainLabel$=[],this.fVelLabel$=[],this.fDate=0,this.mixer=this.mixerInstance.exports,this.effect=this.effectInstance?this.effectInstance.exports:null,this.dspVoices$=[],this.dspVoicesState=[],this.dspVoicesLevel=[],this.dspVoicesDate=[],this.kActiveVoice=0,this.kFreeVoice=-1,this.kReleaseVoice=-2,this.kNoVoice=-3;for(let w=0;w<this.voices;w++)this.dspVoices$[w]=this.$dsp+w*this.dspMeta.size,this.dspVoicesState[w]=this.kFreeVoice,this.dspVoicesLevel[w]=0,this.dspVoicesDate[w]=0;this.$effect=this.dspVoices$[this.voices-1]+this.dspMeta.size}this.pathTable$={},this.$buffer=0,this.cachedEvents=[],this.setup()}static parseUI(l,_,w){for(let D=0;D<l.length;D++)this.parseGroup(l[D],_,w)}static parseGroup(l,_,w){l.items&&this.parseItems(l.items,_,w)}static parseItems(l,_,w){for(let D=0;D<l.length;D++)w(l[D],_,w)}static parseItem(l,_,w){l.type==="vgroup"||l.type==="hgroup"||l.type==="tgroup"?d.parseItems(l.items,_,w):l.type==="hbargraph"||l.type==="vbargraph"||(l.type==="vslider"||l.type==="hslider"||l.type==="nentry"?faustData.voices&&(l.address.endsWith("/gate")||l.address.endsWith("/freq")||l.address.endsWith("/key")||l.address.endsWith("/vel")||l.address.endsWith("/velocity")||l.address.endsWith("/gain"))||_.push({name:l.address,defaultValue:l.init||0,minValue:l.min||0,maxValue:l.max||0}):l.type!=="button"&&l.type!=="checkbox"||faustData.voices&&(l.address.endsWith("/gate")||l.address.endsWith("/freq")||l.address.endsWith("/key")||l.address.endsWith("/vel")||l.address.endsWith("/velocity")||l.address.endsWith("/gain"))||_.push({name:l.address,defaultValue:l.init||0,minValue:0,maxValue:1}))}static parseItem2(l,_,w){if(l.type==="vgroup"||l.type==="hgroup"||l.type==="tgroup")d.parseItems(l.items,_,w);else if(l.type==="hbargraph"||l.type==="vbargraph")_.outputsItems.push(l.address),_.pathTable$[l.address]=l.index;else if(l.type==="vslider"||l.type==="hslider"||l.type==="button"||l.type==="checkbox"||l.type==="nentry"){if(_.inputsItems.push(l.address),_.pathTable$[l.address]=l.index,!l.meta)return;l.meta.forEach(D=>{const{midi:F}=D;if(!F)return;const X=F.trim();if(X==="pitchwheel")_.fPitchwheelLabel.push({path:l.address,min:l.min,max:l.max});else{const Q=X.match(/^ctrl\s(\d+)/);if(!Q)return;_.fCtrlLabel[parseInt(Q[1])].push({path:l.address,min:l.min,max:l.max})}})}}static get parameterDescriptors(){const l=[];return this.parseUI(j.dspMeta.ui,l,this.parseItem),j.effectMeta&&this.parseUI(j.effectMeta.ui,l,this.parseItem),l}instantiateWasm(l){const _=createWasmMemory(l.voices,l.compiledDsp.dspMeta,l.compiledDsp.effectMeta,128);this.memory=_;const w=createWasmImport(l.voices,_);if(this.dspInstance=new WebAssembly.Instance(l.compiledDsp.dspModule,w),l.compiledDsp.effectModule&&(this.effectInstance=new WebAssembly.Instance(l.compiledDsp.effectModule,w)),l.voices){const D={imports:{print:console.log},memory:{memory:_}};this.mixerInstance=new WebAssembly.Instance(l.mixer32Module,D)}}updateOutputs(){this.outputsItems.length>0&&this.outputHandler&&this.outputsTimer--==0&&(this.outputsTimer=5,this.outputsItems.forEach(l=>this.outputHandler(l,this.factory.getParamValue(this.$dsp,this.pathTable$[l]))))}parseUI(l){return d.parseUI(l,this,d.parseItem2)}parseGroup(l){return d.parseGroup(l,this,d.parseItem2)}parseItems(l){return d.parseItems(l,this,d.parseItem2)}parseItem(l){return d.parseItem2(l,this,d.parseItem2)}setParamValue(l,_){this.voices?this.effect&&findPath(this.effectMeta.ui,l)?this.effect.setParamValue(this.$effect,this.pathTable$[l],_):this.dspVoices$.forEach(w=>this.factory.setParamValue(w,this.pathTable$[l],_)):this.factory.setParamValue(this.$dsp,this.pathTable$[l],_)}getParamValue(l){return this.voices?this.effect&&findPath(this.effectMeta.ui,l)?this.effect.getParamValue(this.$effect,this.pathTable$[l]):this.factory.getParamValue(this.dspVoices$[0],this.pathTable$[l]):this.factory.getParamValue(this.$dsp,this.pathTable$[l])}setup(){if(this.numIn>0){this.$ins=this.$$audioHeapInputs;for(let _=0;_<this.numIn;_++)this.HEAP32[(this.$ins>>2)+_]=this.$audioHeapInputs+this.bufferSize*this.sampleSize*_;const l=this.HEAP32.subarray(this.$ins>>2,this.$ins+this.numIn*this.ptrSize>>2);for(let _=0;_<this.numIn;_++)this.dspInChannnels[_]=this.HEAPF32.subarray(l[_]>>2,l[_]+this.bufferSize*this.sampleSize>>2)}if(this.numOut>0){this.$outs=this.$$audioHeapOutputs,this.voices&&(this.$mixing=this.$$audioHeapMixing);for(let _=0;_<this.numOut;_++)this.HEAP32[(this.$outs>>2)+_]=this.$audioHeapOutputs+this.bufferSize*this.sampleSize*_,this.voices&&(this.HEAP32[(this.$mixing>>2)+_]=this.$audioHeapMixing+this.bufferSize*this.sampleSize*_);const l=this.HEAP32.subarray(this.$outs>>2,this.$outs+this.numOut*this.ptrSize>>2);for(let _=0;_<this.numOut;_++)this.dspOutChannnels[_]=this.HEAPF32.subarray(l[_]>>2,l[_]+this.bufferSize*this.sampleSize>>2)}this.parseUI(this.dspMeta.ui),this.effect&&this.parseUI(this.effectMeta.ui),this.voices?(this.inputsItems.forEach(l=>{l.endsWith("/gate")?this.fGateLabel$.push(this.pathTable$[l]):l.endsWith("/freq")?this.fFreqLabel$.push(this.pathTable$[l]):l.endsWith("/key")?this.fKeyLabel$.push(this.pathTable$[l]):l.endsWith("/gain")?this.fGainLabel$.push(this.pathTable$[l]):(l.endsWith("/vel")||l.endsWith("/velocity"))&&this.fVelLabel$.push(this.pathTable$[l])}),this.dspVoices$.forEach(l=>this.factory.init(l,sampleRate)),this.effect&&this.effect.init(this.$effect,sampleRate)):this.factory.init(this.$dsp,sampleRate)}getPlayingVoice(l){if(!this.voices)return null;let _=this.kNoVoice,w=Number.MAX_VALUE;for(let D=0;D<this.voices;D++)this.dspVoicesState[D]===l&&this.dspVoicesDate[D]<w&&(w=this.dspVoicesDate[D],_=D);return _}allocVoice(l){return this.voices?(this.factory.instanceClear(this.dspVoices$[l]),this.dspVoicesDate[l]=this.fDate++,this.dspVoicesState[l]=this.kActiveVoice,l):null}getFreeVoice(){if(!this.voices)return null;for(let F=0;F<this.voices;F++)if(this.dspVoicesState[F]===this.kFreeVoice)return this.allocVoice(F);let l=this.kNoVoice,_=this.kNoVoice,w=Number.MAX_VALUE,D=Number.MAX_VALUE;for(let F=0;F<this.voices;F++)this.dspVoicesState[F]===this.kReleaseVoice?this.dspVoicesDate[F]<w&&(w=this.dspVoicesDate[F],l=F):this.dspVoicesDate[F]<D&&(D=this.dspVoicesDate[F],_=F);return w!==Number.MAX_VALUE?this.allocVoice(l):D!==Number.MAX_VALUE?this.allocVoice(_):this.kNoVoice}keyOn(l,_,w){if(!this.voices)return;const D=this.getFreeVoice();this.fFreqLabel$.forEach(F=>this.factory.setParamValue(this.dspVoices$[D],F,midiToFreq(_))),this.fKeyLabel$.forEach(F=>this.factory.setParamValue(this.dspVoices$[D],F,_)),this.fGateLabel$.forEach(F=>this.factory.setParamValue(this.dspVoices$[D],F,1)),this.fGainLabel$.forEach(F=>this.factory.setParamValue(this.dspVoices$[D],F,w/127)),this.fVelLabel$.forEach(F=>this.factory.setParamValue(this.dspVoices$[D],F,w)),this.dspVoicesState[D]=_}keyOff(l,_,w){if(!this.voices)return;const D=this.getPlayingVoice(_);D!==this.kNoVoice&&(this.fGateLabel$.forEach(F=>this.factory.setParamValue(this.dspVoices$[D],F,0)),this.dspVoicesState[D]=this.kReleaseVoice)}allNotesOff(){if(this.voices)for(let l=0;l<this.voices;l++)this.fGateLabel$.forEach(_=>this.factory.setParamValue(this.dspVoices$[l],_,0)),this.dspVoicesState[l]=this.kReleaseVoice}midiMessage(l){const _=l[0]>>4,w=15&l[0],D=l[1],F=l[2];w!==9&&(_===8||_===9&&F===0?this.keyOff(w,D,F):_===9?this.keyOn(w,D,F):_===11?this.ctrlChange(w,D,F):_===14&&this.pitchWheel(w,128*F+D))}ctrlChange(l,_,w){_!==123&&_!==120||this.allNotesOff(),this.fCtrlLabel[_].length&&this.fCtrlLabel[_].forEach(D=>{const{path:F}=D;this.setParamValue(F,remap(w,0,127,D.min,D.max)),this.outputHandler&&this.outputHandler(F,this.getParamValue(F))})}pitchWheel(l,_){this.fPitchwheelLabel.forEach(w=>{this.setParamValue(w.path,remap(_,0,16383,w.min,w.max)),this.outputHandler&&this.outputHandler(w.path,this.getParamValue(w.path))})}process(l,_,w){if(this.destroyed)return!1;const D=l[0],F=_[0];if(this.numIn>0&&(!D||!D[0]||D[0].length===0)||this.numOut>0&&(!F||!F[0]||F[0].length===0))return!0;if(D!==void 0)for(let X=0;X<Math.min(this.numIn,D.length);++X)this.dspInChannnels[X].set(D[X]);for(const X in w){const Q=w[X];this.setParamValue(X,Q[0])}if(this.computeHandler&&this.computeHandler(this.bufferSize),this.voices){this.mixer.clearOutput(this.bufferSize,this.numOut,this.$outs);for(let X=0;X<this.voices;X++)this.factory.compute(this.dspVoices$[X],this.bufferSize,this.$ins,this.$mixing),this.mixer.mixVoice(this.bufferSize,this.numOut,this.$mixing,this.$outs);this.effect&&this.effect.compute(this.$effect,this.bufferSize,this.$outs,this.$outs)}else this.factory.compute(this.$dsp,this.bufferSize,this.$ins,this.$outs);if(this.updateOutputs(),F!==void 0){for(let X=0;X<Math.min(this.numOut,F.length);X++){const Q=this.dspOutChannnels[X];F[X].set(Q)}this.port.postMessage({type:"plot",value:F,index:this.$buffer++,events:this.cachedEvents}),this.cachedEvents=[]}return!0}printMemory(){console.log("============== Memory layout =============="),console.log("dspMeta.size: "+this.dspMeta.size),console.log("$audioHeap: "+this.$audioHeap),console.log("$$audioHeapInputs: "+this.$$audioHeapInputs),console.log("$$audioHeapOutputs: "+this.$$audioHeapOutputs),console.log("$$audioHeapMixing: "+this.$$audioHeapMixing),console.log("$audioHeapInputs: "+this.$audioHeapInputs),console.log("$audioHeapOutputs: "+this.$audioHeapOutputs),console.log("$audioHeapMixing: "+this.$audioHeapMixing),console.log("$dsp: "+this.$dsp),this.dspVoices$&&this.dspVoices$.forEach((l,_)=>console.log("dspVoices$["+_+"]: "+l)),console.log("$effect: "+this.$effect),console.log("$mixing: "+this.$mixing)}};let f=d;f.bufferSize=128,registerProcessor(j.id||"mydsp",f)};var He=Object.defineProperty,Ie=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,Me=(j,d,f)=>d in j?He(j,d,{enumerable:!0,configurable:!0,writable:!0,value:f}):j[d]=f;class tt extends(window.AudioWorkletNode?AudioWorkletNode:null){constructor(d){super(d.audioCtx,d.id,{numberOfInputs:d.compiledDsp.dspMeta.inputs>0?1:0,numberOfOutputs:d.compiledDsp.dspMeta.outputs>0?1:0,channelCount:Math.max(1,d.compiledDsp.dspMeta.inputs),outputChannelCount:[d.compiledDsp.dspMeta.outputs],channelCountMode:"explicit",channelInterpretation:"speakers",processorOptions:{id:d.id,voices:d.voices,compiledDsp:d.compiledDsp,mixer32Module:d.mixer32Module}}),this.onprocessorerror=f=>{throw console.error("Error from "+this.dspMeta.name+" AudioWorkletNode: "),f.error},this.port.onmessage=f=>{f.data.type==="param"&&this.outputHandler?this.outputHandler(f.data.path,f.data.value):f.data.type==="plot"&&this.plotHandler&&this.plotHandler(f.data.value,f.data.index,f.data.events)},this.voices=d.voices,this.dspMeta=d.compiledDsp.dspMeta,this.effectMeta=d.compiledDsp.effectMeta,this.outputHandler=null,this.inputsItems=[],this.outputsItems=[],this.fPitchwheelLabel=[],this.fCtrlLabel=new Array(128).fill(null).map(()=>[]),this.plotHandler=d.plotHandler,this.parseUI(this.dspMeta.ui),this.effectMeta&&this.parseUI(this.effectMeta.ui);try{this.parameters&&this.parameters.forEach(f=>f.automationRate="k-rate")}catch{}}parseUI(d){d.forEach(f=>this.parseGroup(f))}parseGroup(d){d.items&&this.parseItems(d.items)}parseItems(d){d.forEach(f=>this.parseItem(f))}parseItem(d){if(d.type==="vgroup"||d.type==="hgroup"||d.type==="tgroup")this.parseItems(d.items);else if(d.type==="hbargraph"||d.type==="vbargraph")this.outputsItems.push(d.address);else if(d.type==="vslider"||d.type==="hslider"||d.type==="button"||d.type==="checkbox"||d.type==="nentry"){if(this.inputsItems.push(d.address),!d.meta)return;d.meta.forEach(f=>{const{midi:l}=f;if(!l)return;const _=l.trim();if(_==="pitchwheel")this.fPitchwheelLabel.push({path:d.address,min:d.min,max:d.max});else{const w=_.match(/^ctrl\s(\d+)/);if(!w)return;this.fCtrlLabel[parseInt(w[1])].push({path:d.address,min:d.min,max:d.max})}})}}keyOn(d,f,l){const _={type:"keyOn",data:[d,f,l]};this.port.postMessage(_)}keyOff(d,f,l){const _={type:"keyOff",data:[d,f,l]};this.port.postMessage(_)}allNotesOff(){this.port.postMessage({type:"ctrlChange",data:[0,123,0]})}ctrlChange(d,f,l){const _={type:"ctrlChange",data:[d,f,l]};this.port.postMessage(_),this.fCtrlLabel[f].length&&this.fCtrlLabel[f].forEach(w=>{const{path:D}=w,F=W(l,0,127,w.min,w.max),X=this.parameters.get(D);X&&X.setValueAtTime(F,this.context.currentTime)})}pitchWheel(d,f){const l={type:"pitchWheel",data:[d,f]};this.port.postMessage(l),this.fPitchwheelLabel.forEach(_=>{const{path:w}=_,D=W(f,0,16383,_.min,_.max),F=this.parameters.get(w);F&&F.setValueAtTime(D,this.context.currentTime)})}midiMessage(d){const f=d[0]>>4,l=15&d[0],_=d[1],w=d[2];l!==9&&(f===8||f===9&&w===0?this.keyOff(l,_,w):f===9?this.keyOn(l,_,w):f===11?this.ctrlChange(l,_,w):f===14?this.pitchWheel(l,128*w+_):this.port.postMessage({data:d,type:"midi"}))}metadata(){}setParamValue(d,f){const l={type:"param",data:{path:d,value:f}};this.port.postMessage(l);const _=this.parameters.get(d);_&&_.setValueAtTime(f,this.context.currentTime)}getParamValue(d){const f=this.parameters.get(d);return f?f.value:null}setOutputParamHandler(d){this.outputHandler=d}getOutputParamHandler(){return this.outputHandler}getNumInputs(){return this.dspMeta.inputs}getNumOutputs(){return this.dspMeta.outputs}getParams(){return this.inputsItems}getJSON(){if(this.voices){const d=this.dspMeta,f=this.effectMeta,l=((_,w)=>{for(var D in w||(w={}))Ce.call(w,D)&&Me(_,D,w[D]);if(Ie)for(var D of Ie(w))Se.call(w,D)&&Me(_,D,w[D]);return _})({},d);return l.ui=f?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:d.ui},{type:"vgroup",label:"Effect",items:f.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:d.ui}]}],JSON.stringify(l)}return JSON.stringify(this.dspMeta)}getUI(){if(this.voices){const d=this.dspMeta,f=this.effectMeta;return f?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:d.ui},{type:"vgroup",label:"Effect",items:f.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:d.ui}]}]}return this.dspMeta.ui}destroy(){this.port.postMessage({type:"destroy"}),this.port.close(),delete this.plotHandler,delete this.outputHandler}}var je=(j,d,f)=>new Promise((l,_)=>{var w=X=>{try{F(f.next(X))}catch(Q){_(Q)}},D=X=>{try{F(f.throw(X))}catch(Q){_(Q)}},F=X=>X.done?l(X.value):Promise.resolve(X.value).then(w,D);F((f=f.apply(j,d)).next())});class be{constructor(){this.bufferSize=1024}static get importObject(){return{env:{memory:void 0,memoryBase:0,tableBase:0,_abs:Math.abs,_acosf:Math.acos,_asinf:Math.asin,_atanf:Math.atan,_atan2f:Math.atan2,_ceilf:Math.ceil,_cosf:Math.cos,_expf:Math.exp,_floorf:Math.floor,_fmodf:(d,f)=>d%f,_logf:Math.log,_log10f:Math.log10,_max_f:Math.max,_min_f:Math.min,_remainderf:(d,f)=>d-Math.round(d/f)*f,_powf:Math.pow,_roundf:Math.fround,_sinf:Math.sin,_sqrtf:Math.sqrt,_tanf:Math.tan,_acoshf:Math.acosh,_asinhf:Math.asinh,_atanhf:Math.atanh,_coshf:Math.cosh,_sinhf:Math.sinh,_tanhf:Math.tanh,_isnanf:Number.isNaN,_isinff:d=>!isFinite(d),_copysignf:(d,f)=>Math.sign(d)===Math.sign(f)?d:-d,_acos:Math.acos,_asin:Math.asin,_atan:Math.atan,_atan2:Math.atan2,_ceil:Math.ceil,_cos:Math.cos,_exp:Math.exp,_floor:Math.floor,_fmod:(d,f)=>d%f,_log:Math.log,_log10:Math.log10,_max_:Math.max,_min_:Math.min,_remainder:(d,f)=>d-Math.round(d/f)*f,_pow:Math.pow,_round:Math.fround,_sin:Math.sin,_sqrt:Math.sqrt,_tan:Math.tan,_acosh:Math.acosh,_asinh:Math.asinh,_atanh:Math.atanh,_cosh:Math.cosh,_sinh:Math.sinh,_tanh:Math.tanh,_isnan:Number.isNaN,_isinf:d=>!isFinite(d),_copysign:(d,f)=>Math.sign(d)===Math.sign(f)?d:-d,table:new WebAssembly.Table({initial:0,element:"anyfunc"})}}}init(d){return je(this,null,function*(){const{compiledDsp:f}=d;if(!f)throw new Error("No Dsp input");this.dspMeta=f.dspMeta,this.$ins=null,this.$outs=null,this.dspInChannnels=[],this.dspOutChannnels=[],this.numIn=this.dspMeta.inputs,this.numOut=this.dspMeta.outputs,this.ptrSize=4,this.sampleSize=4;const l=yield WebAssembly.instantiate(f.dspModule,be.importObject);this.factory=l.exports,this.HEAP=this.factory.memory.buffer,this.HEAP32=new Int32Array(this.HEAP),this.HEAPF32=new Float32Array(this.HEAP),this.output=new Array(this.numOut).fill(null).map(()=>new Float32Array(this.bufferSize))})}setup(d){if(!this.dspMeta)throw new Error("No Dsp");if(this.sampleRate=d&&d.sampleRate||48e3,this.$audioHeap=this.dspMeta.size,this.$$audioHeapInputs=this.$audioHeap,this.$$audioHeapOutputs=this.$$audioHeapInputs+this.numIn*this.ptrSize,this.$audioHeapInputs=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.$dsp=0,this.numIn>0){this.$ins=this.$$audioHeapInputs;for(let l=0;l<this.numIn;l++)this.HEAP32[(this.$ins>>2)+l]=this.$audioHeapInputs+this.bufferSize*this.sampleSize*l;const f=this.HEAP32.subarray(this.$ins>>2,this.$ins+this.numIn*this.ptrSize>>2);for(let l=0;l<this.numIn;l++)this.dspInChannnels[l]=this.HEAPF32.subarray(f[l]>>2,f[l]+this.bufferSize*this.sampleSize>>2)}if(this.numOut>0){this.$outs=this.$$audioHeapOutputs;for(let l=0;l<this.numOut;l++)this.HEAP32[(this.$outs>>2)+l]=this.$audioHeapOutputs+this.bufferSize*this.sampleSize*l;const f=this.HEAP32.subarray(this.$outs>>2,this.$outs+this.numOut*this.ptrSize>>2);for(let l=0;l<this.numOut;l++)this.dspOutChannnels[l]=this.HEAPF32.subarray(f[l]>>2,f[l]+this.bufferSize*this.sampleSize>>2)}this.factory.init(this.$dsp,this.sampleRate)}compute(){if(!this.factory)return this.output;for(let d=0;d<this.numIn;d++)this.dspInChannnels[d].fill(0);if(this.factory.compute(this.$dsp,this.bufferSize,this.$ins,this.$outs),this.output!==void 0)for(let d=0;d<this.numOut;d++)this.output[d].set(this.dspOutChannnels[d]);return this.output}plot(d){return je(this,null,function*(){d&&d.compiledDsp&&(yield this.init(d)),this.setup(d);const f=d&&d.size||128,l=new Array(this.numOut).fill(null).map(()=>new Float32Array(f));for(let _=0;_<f;_+=this.bufferSize){const w=this.compute();for(let D=0;D<l.length;D++)l[D].set(f-_>this.bufferSize?w[D]:w[D].subarray(0,f-_),_)}return l})}}var ke=Object.defineProperty,T=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,m=(j,d,f)=>d in j?ke(j,d,{enumerable:!0,configurable:!0,writable:!0,value:f}):j[d]=f,N=(j,d)=>{for(var f in d||(d={}))E.call(d,f)&&m(j,f,d[f]);if(T)for(var f of T(d))I.call(d,f)&&m(j,f,d[f]);return j},V=(j,d,f)=>new Promise((l,_)=>{var w=X=>{try{F(f.next(X))}catch(Q){_(Q)}},D=X=>{try{F(f.throw(X))}catch(Q){_(Q)}},F=X=>X.done?l(X.value):Promise.resolve(X.value).then(w,D);F((f=f.apply(j,d)).next())});class te{constructor(d){this.debug=!1,this.dspTable={},this.workletProcessors=[],this._log=[],this.offlineProcessor=new be,this.debug=!(!d||!d.debug),this.wasmLocation=d.wasmLocation||"http://fr0stbyter.github.io/faust2webaudio/dist/libfaust-wasm.wasm",this.dataLocation=d.dataLocation||"http://fr0stbyter.github.io/faust2webaudio/dist/libfaust-wasm.data"}loadLibFaust(){return V(this,null,function*(){return this.libFaust||(this.libFaust=yield class{static load(d,f){return l=this,_=function*(){return yield O({locateFile:(w,D)=>({"libfaust-wasm.wasm":d,"libfaust-wasm.data":f})[w]||D+w})},new Promise((w,D)=>{var F=i=>{try{Q(_.next(i))}catch(B){D(B)}},X=i=>{try{Q(_.throw(i))}catch(B){D(B)}},Q=i=>i.done?w(i.value):Promise.resolve(i.value).then(F,X);Q((_=_.apply(l,null)).next())});var l,_}}.load(this.wasmLocation,this.dataLocation),this.importLibFaustFunctions()),this})}get ready(){return this.loadLibFaust()}importLibFaustFunctions(){this.libFaust&&(this.createWasmCDSPFactoryFromString=this.libFaust.cwrap("createWasmCDSPFactoryFromString","number",["number","number","number","number","number","number"]),this.deleteAllWasmCDSPFactories=this.libFaust.cwrap("deleteAllWasmCDSPFactories",null,[]),this.expandCDSPFromString=this.libFaust.cwrap("expandCDSPFromString","number",["number","number","number","number","number","number"]),this.getCLibFaustVersion=this.libFaust.cwrap("getCLibFaustVersion","number",[]),this.getWasmCModule=this.libFaust.cwrap("getWasmCModule","number",["number"]),this.getWasmCModuleSize=this.libFaust.cwrap("getWasmCModuleSize","number",["number"]),this.getWasmCHelpers=this.libFaust.cwrap("getWasmCHelpers","number",["number"]),this.freeWasmCModule=this.libFaust.cwrap("freeWasmCModule",null,["number"]),this.freeCMemory=this.libFaust.cwrap("freeCMemory",null,["number"]),this.cleanupAfterException=this.libFaust.cwrap("cleanupAfterException",null,[]),this.getErrorAfterException=this.libFaust.cwrap("getErrorAfterException","number",[]),this.getLibFaustVersion=()=>this.libFaust.UTF8ToString(this.getCLibFaustVersion()),this.generateCAuxFilesFromString=this.libFaust.cwrap("generateCAuxFilesFromString","number",["number","number","number","number","number"]))}getNode(d,f){return V(this,null,function*(){const{audioCtx:l,voices:_,useWorklet:w,bufferSize:D,plotHandler:F,args:X}=f,Q=ee(X),i=yield this.compileCodes(d,Q,!_);if(!i)return null;const B={compiledDsp:i,audioCtx:l,voices:_,plotHandler:F,bufferSize:w?128:D};return w?this.getAudioWorkletNode(B):this.getScriptProcessorNode(B)})}inspect(d,f){return V(this,null,function*(){const{voices:l,args:_}=f,w=ee(_);return this.compileCodes(d,w,!l)})}plot(d){return V(this,null,function*(){let f;const l=ee(d.args);return d.code&&(f=yield this.compileCodes(d.code,l,!0),!f)?null:this.offlineProcessor.plot(N({compiledDsp:f},d))})}compileCode(d,f,l,_){const w=this.libFaust.lengthBytesUTF8(f)+1,D=this.libFaust._malloc(w),F="FaustDSP",X=this.libFaust.lengthBytesUTF8(F)+1,Q=this.libFaust._malloc(X),i=this.libFaust._malloc(4096);this.libFaust.stringToUTF8(F,Q,X),this.libFaust.stringToUTF8(f,D,w);const B=l||[];B.push("-cn",d);const oe=this.libFaust._malloc(4*B.length);let S=new Int32Array(this.libFaust.HEAP32.buffer,oe,B.length);for(let ue=0;ue<B.length;ue++){const v=this.libFaust.lengthBytesUTF8(B[ue])+1,U=this.libFaust._malloc(v);this.libFaust.stringToUTF8(B[ue],U,v),S[ue]=U}try{const ue=performance.now(),v=this.createWasmCDSPFactoryFromString(Q,D,B.length,oe,i,_),U=performance.now();this.log("Faust compilation duration : "+(U-ue));const G=this.libFaust.UTF8ToString(i);if(G)throw new Error(G);if(v===0)return null;const re=this.getWasmCModule(v),Y=this.getWasmCModuleSize(v),Ne=new Uint8Array(Y);for(let Ue=0;Ue<Y;Ue++)Ne[Ue]=this.libFaust.HEAP8[re+Ue];const Ht=this.getWasmCHelpers(v),Ut=this.libFaust.UTF8ToString(Ht);this.libFaust._free(D),this.libFaust._free(Q),this.libFaust._free(i),this.freeWasmCModule(v),S=new Int32Array(this.libFaust.HEAP32.buffer,oe,B.length);for(let Ue=0;Ue<B.length;Ue++)this.libFaust._free(S[Ue]);return this.libFaust._free(oe),{ui8Code:Ne,code:f,helpersCode:Ut}}catch(ue){const v=this.libFaust.UTF8ToString(this.getErrorAfterException());throw this.cleanupAfterException(),v?new Error(v):ue}}compileCodes(d,f,l){return V(this,null,function*(){const _=f.join(""),w=(0,g.sha256)(this.expandCode(d,f)+(l?"internal_memory":"external_memory")+_),D=this.dspTable[w];if(D)return this.log("Existing library : "+w),D;this.log("libfaust.js version : "+this.getLibFaustVersion());const F=`adapt(1,1) = _; adapt(2,2) = _,_; adapt(1,2) = _ <: _,_; adapt(2,1) = _,_ :> _;
adaptor(F,G) = adapt(outputs(F),inputs(G));
dsp_code = environment{${d}};
process = adaptor(dsp_code.process, dsp_code.effect) : dsp_code.effect;`,X=this.compileCode(w,d,f,l);let Q;try{Q=this.compileCode(w+"_",F,f,l)}catch{}const i={dsp:X,effect:Q};return this.compileDsp(i,w)})}expandCode(d,f){this.log("libfaust.js version : "+this.getLibFaustVersion());const l=this.libFaust.lengthBytesUTF8(d)+1,_=this.libFaust._malloc(l),w="FaustDSP",D=this.libFaust.lengthBytesUTF8(w)+1,F=this.libFaust._malloc(D),X=this.libFaust._malloc(64),Q=this.libFaust._malloc(4096);this.libFaust.stringToUTF8(w,F,D),this.libFaust.stringToUTF8(d,_,l);const i=[...f?Array.isArray(f)?f:ee(f):[],"-lang","wasm"],B=this.libFaust._malloc(4*i.length);let oe=new Int32Array(this.libFaust.HEAP32.buffer,B,i.length);for(let S=0;S<i.length;S++){const ue=this.libFaust.lengthBytesUTF8(i[S])+1,v=this.libFaust._malloc(ue);this.libFaust.stringToUTF8(i[S],v,ue),oe[S]=v}try{const S=this.expandCDSPFromString(F,_,i.length,B,X,Q),ue=this.libFaust.UTF8ToString(S),v=this.libFaust.UTF8ToString(Q);v&&this.error(v),this.libFaust._free(_),this.libFaust._free(F),this.libFaust._free(X),this.libFaust._free(Q),this.freeCMemory(S),oe=new Int32Array(this.libFaust.HEAP32.buffer,B,i.length);for(let U=0;U<i.length;U++)this.libFaust._free(oe[U]);return this.libFaust._free(B),ue}catch(S){const ue=this.libFaust.UTF8ToString(this.getErrorAfterException());throw this.cleanupAfterException(),ue?new Error(ue):S}}compileDsp(d,f){return V(this,null,function*(){const l=performance.now(),_=yield WebAssembly.compile(d.dsp.ui8Code);if(!_)throw this.error("Faust DSP factory cannot be compiled"),new Error("Faust DSP factory cannot be compiled");const w=performance.now();this.log("WASM compilation duration : "+(w-l));const D={shaKey:f,codes:d,dspModule:_,dspMeta:void 0};try{const F=d.dsp.helpersCode.match(/getJSON\w+?\(\)[\s\n]*{[\s\n]*return[\s\n]*'(\{.+?)';}/)[1].replace(/\\'/g,"'"),X=JSON.parse(F);D.dspMeta=X}catch(F){throw this.error("Error in JSON.parse: "+F.message),F}if(this.dspTable[f]=D,!d.effect)return D;try{const F=yield WebAssembly.compile(d.effect.ui8Code);D.effectModule=F;try{const X=d.effect.helpersCode.match(/getJSON\w+?\(\)[\s\n]*{[\s\n]*return[\s\n]*'(\{.+?)';}/)[1].replace(/\\'/g,"'"),Q=JSON.parse(X);D.effectMeta=Q}catch(X){throw this.error("Error in JSON.parse: "+X.message),X}}catch{return D}return D})}getScriptProcessorNode(d){return V(this,null,function*(){return new De(this).getNode(d)})}getAudioWorkletNode(d){return V(this,null,function*(){const{compiledDsp:f,audioCtx:l,voices:_,plotHandler:w}=d,D=N({},f);delete D.codes;const F=D.shaKey+"_"+_;if(this.workletProcessors.indexOf(F)===-1){const X=`
const remap = ${W.toString()};
const midiToFreq = ${k.toString()};
const findPath = (${H.toString()})();
const createWasmImport = ${r.toString()};
const createWasmMemory = ${le.toString()};
const faustData = ${JSON.stringify({id:F,voices:_,dspMeta:D.dspMeta,effectMeta:D.effectMeta})};
(${ve.toString()})();
`,Q=window.URL.createObjectURL(new Blob([X],{type:"text/javascript"}));yield l.audioWorklet.addModule(Q),this.workletProcessors.push(F)}return new tt({audioCtx:l,id:F,voices:_,compiledDsp:D,plotHandler:w,mixer32Module:M})})}deleteDsp(d){delete this.dspTable[d.shaKey],this.deleteAllWasmCDSPFactories()}stringifyDspTable(){const d={};for(const f in this.dspTable){const{codes:l}=this.dspTable[f];d[f]={dsp:{strCode:btoa(b(l.dsp.ui8Code)),code:l.dsp.code,helpersCode:l.dsp.helpersCode},effect:l.effect?{strCode:btoa(b(l.effect.ui8Code)),code:l.effect.code,helpersCode:l.effect.helpersCode}:void 0}}return JSON.stringify(d)}parseDspTable(d){const f=JSON.parse(d);for(const l in f){if(this.dspTable[l])continue;const _=f[l],w={dsp:{ui8Code:P(atob(_.dsp.strCode)),code:_.dsp.code,helpersCode:_.dsp.helpersCode},effect:_.effect?{ui8Code:P(atob(_.effect.strCode)),code:_.effect.code,helpersCode:_.effect.helpersCode}:void 0};this.compileDsp(w,l).then(D=>this.dspTable[l]=D)}}getDiagram(d,f){const l=this.libFaust.lengthBytesUTF8(d)+1,_=this.libFaust._malloc(l),w="FaustDSP",D=this.libFaust.lengthBytesUTF8(w)+1,F=this.libFaust._malloc(D),X=this.libFaust._malloc(4096);this.libFaust.stringToUTF8(w,F,D),this.libFaust.stringToUTF8(d,_,l);const Q=[...f?ee(f):[],"-lang","wast","-o","/dev/null","-svg"],i=this.libFaust._malloc(4*Q.length);let B=new Int32Array(this.libFaust.HEAP32.buffer,i,Q.length);for(let oe=0;oe<Q.length;oe++){const S=this.libFaust.lengthBytesUTF8(Q[oe])+1,ue=this.libFaust._malloc(S);this.libFaust.stringToUTF8(Q[oe],ue,S),B[oe]=ue}try{this.generateCAuxFilesFromString(F,_,Q.length,i,X),this.libFaust._free(_),this.libFaust._free(F),this.libFaust._free(X),B=new Int32Array(this.libFaust.HEAP32.buffer,i,Q.length);for(let oe=0;oe<Q.length;oe++)this.libFaust._free(B[oe]);this.libFaust._free(i)}catch(oe){const S=this.libFaust.UTF8ToString(this.getErrorAfterException());throw this.cleanupAfterException(),S?new Error(S):oe}return this.libFaust.FS.readFile("FaustDSP-svg/process.svg",{encoding:"utf8"})}get fs(){return this.libFaust.FS}log(...d){this.debug&&console.log(...d);const f=d.length===1&&typeof d[0]=="string"?d[0]:JSON.stringify(d.length!==1?d:d[0]);this._log.push(f),typeof this.logHandler=="function"&&this.logHandler(f,0)}error(...d){console.error(...d);const f=d.length===1&&typeof d[0]=="string"?d[0]:JSON.stringify(d.length!==1?d:d[0]);this._log.push(f),typeof this.logHandler=="function"&&this.logHandler(f,1)}}})(),__webpack_exports__})())})(index_min);var meyda_min={exports:{}};(function(g,O){(function(b,P){g.exports=P()})(commonjsGlobal,function(){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function b(T,E,I){if(I||arguments.length===2)for(var m,N=0,V=E.length;N<V;N++)!m&&N in E||(m||(m=Array.prototype.slice.call(E,0,N)),m[N]=E[N]);return T.concat(m||Array.prototype.slice.call(E))}var P=Object.freeze({__proto__:null,blackman:function(T){for(var E=new Float32Array(T),I=2*Math.PI/(T-1),m=2*I,N=0;N<T/2;N++)E[N]=.42-.5*Math.cos(N*I)+.08*Math.cos(N*m);for(N=Math.ceil(T/2);N>0;N--)E[T-N]=E[N-1];return E},sine:function(T){for(var E=Math.PI/(T-1),I=new Float32Array(T),m=0;m<T;m++)I[m]=Math.sin(E*m);return I},hanning:function(T){for(var E=new Float32Array(T),I=0;I<T;I++)E[I]=.5-.5*Math.cos(2*Math.PI*I/(T-1));return E},hamming:function(T){for(var E=new Float32Array(T),I=0;I<T;I++)E[I]=.54-.46*Math.cos(2*Math.PI*(I/T-1));return E}}),M={};function k(T){for(;T%2==0&&T>1;)T/=2;return T===1}function W(T,E){if(E!=="rect"){if(E!==""&&E||(E="hanning"),M[E]||(M[E]={}),!M[E][T.length])try{M[E][T.length]=P[E](T.length)}catch{throw new Error("Invalid windowing function")}T=function(I,m){for(var N=[],V=0;V<Math.min(I.length,m.length);V++)N[V]=I[V]*m[V];return N}(T,M[E][T.length])}return T}function H(T,E,I){for(var m=new Float32Array(T),N=0;N<m.length;N++)m[N]=N*E/I,m[N]=13*Math.atan(m[N]/1315.8)+3.5*Math.atan(Math.pow(m[N]/7518,2));return m}function r(T){return Float32Array.from(T)}function le(T){return 1125*Math.log(1+T/700)}function ee(T,E,I){for(var m,N=new Float32Array(T+2),V=new Float32Array(T+2),te=E/2,j=le(0),d=(le(te)-j)/(T+1),f=new Array(T+2),l=0;l<N.length;l++)N[l]=l*d,V[l]=(m=N[l],700*(Math.exp(m/1125)-1)),f[l]=Math.floor((I+1)*V[l]/E);for(var _=new Array(T),w=0;w<_.length;w++){for(_[w]=new Array(I/2+1).fill(0),l=f[w];l<f[w+1];l++)_[w][l]=(l-f[w])/(f[w+1]-f[w]);for(l=f[w+1];l<f[w+2];l++)_[w][l]=(f[w+2]-l)/(f[w+2]-f[w+1])}return _}function ce(T,E,I,m,N,V,te){m===void 0&&(m=5),N===void 0&&(N=2),V===void 0&&(V=!0),te===void 0&&(te=440);var j=Math.floor(I/2)+1,d=new Array(I).fill(0).map(function(i,B){return T*function(oe,S){return Math.log2(16*oe/S)}(E*B/I,te)});d[0]=d[1]-1.5*T;var f,l,_,w=d.slice(1).map(function(i,B){return Math.max(i-d[B])},1).concat([1]),D=Math.round(T/2),F=new Array(T).fill(0).map(function(i,B){return d.map(function(oe){return(10*T+D+oe-B)%T-D})}),X=F.map(function(i,B){return i.map(function(oe,S){return Math.exp(-.5*Math.pow(2*F[B][S]/w[S],2))})});if(l=(f=X)[0].map(function(){return 0}),_=f.reduce(function(i,B){return B.forEach(function(oe,S){i[S]+=Math.pow(oe,2)}),i},l).map(Math.sqrt),X=f.map(function(i,B){return i.map(function(oe,S){return oe/(_[S]||1)})}),N){var Q=d.map(function(i){return Math.exp(-.5*Math.pow((i/T-m)/N,2))});X=X.map(function(i){return i.map(function(B,oe){return B*Q[oe]})})}return V&&(X=b(b([],X.slice(3),!0),X.slice(0,3),!0)),X.map(function(i){return i.slice(0,j)})}function de(T,E){for(var I=0,m=0,N=0;N<E.length;N++)I+=Math.pow(N,T)*Math.abs(E[N]),m+=E[N];return I/m}function Te(T){var E=T.ampSpectrum,I=T.barkScale,m=T.numberOfBarkBands,N=m===void 0?24:m;if(typeof E!="object"||typeof I!="object")throw new TypeError;var V=N,te=new Float32Array(V),j=0,d=E,f=new Int32Array(V+1);f[0]=0;for(var l=I[d.length-1]/V,_=1,w=0;w<d.length;w++)for(;I[w]>l;)f[_++]=w,l=_*I[d.length-1]/V;for(f[V]=d.length-1,w=0;w<V;w++){for(var D=0,F=f[w];F<f[w+1];F++)D+=d[F];te[w]=Math.pow(D,.23)}for(w=0;w<te.length;w++)j+=te[w];return{specific:te,total:j}}function we(T){var E=T.ampSpectrum;if(typeof E!="object")throw new TypeError;for(var I=new Float32Array(E.length),m=0;m<I.length;m++)I[m]=Math.pow(E[m],2);return I}var pe=null,De=function(T,E){var I=T.length;return E=E||2,pe&&pe[I]||function(m){(pe=pe||{})[m]=new Array(m*m);for(var N=Math.PI/m,V=0;V<m;V++)for(var te=0;te<m;te++)pe[m][te+V*m]=Math.cos(N*(te+.5)*V)}(I),T.map(function(){return 0}).map(function(m,N){return E*T.reduce(function(V,te,j,d){return V+te*pe[I][j+N*I]},0)})},ve=Object.freeze({__proto__:null,buffer:function(T){return T.signal},rms:function(T){var E=T.signal;if(typeof E!="object")throw new TypeError;for(var I=0,m=0;m<E.length;m++)I+=Math.pow(E[m],2);return I/=E.length,I=Math.sqrt(I)},energy:function(T){var E=T.signal;if(typeof E!="object")throw new TypeError;for(var I=0,m=0;m<E.length;m++)I+=Math.pow(Math.abs(E[m]),2);return I},complexSpectrum:function(T){return T.complexSpectrum},spectralSlope:function(T){var E=T.ampSpectrum,I=T.sampleRate,m=T.bufferSize;if(typeof E!="object")throw new TypeError;for(var N=0,V=0,te=new Float32Array(E.length),j=0,d=0,f=0;f<E.length;f++){N+=E[f];var l=f*I/m;te[f]=l,j+=l*l,V+=l,d+=l*E[f]}return(E.length*d-V*N)/(N*(j-Math.pow(V,2)))},spectralCentroid:function(T){var E=T.ampSpectrum;if(typeof E!="object")throw new TypeError;return de(1,E)},spectralRolloff:function(T){var E=T.ampSpectrum,I=T.sampleRate;if(typeof E!="object")throw new TypeError;for(var m=E,N=I/(2*(m.length-1)),V=0,te=0;te<m.length;te++)V+=m[te];for(var j=.99*V,d=m.length-1;V>j&&d>=0;)V-=m[d],--d;return(d+1)*N},spectralFlatness:function(T){var E=T.ampSpectrum;if(typeof E!="object")throw new TypeError;for(var I=0,m=0,N=0;N<E.length;N++)I+=Math.log(E[N]),m+=E[N];return Math.exp(I/E.length)*E.length/m},spectralSpread:function(T){var E=T.ampSpectrum;if(typeof E!="object")throw new TypeError;return Math.sqrt(de(2,E)-Math.pow(de(1,E),2))},spectralSkewness:function(T){var E=T.ampSpectrum;if(typeof E!="object")throw new TypeError;var I=de(1,E),m=de(2,E),N=de(3,E);return(2*Math.pow(I,3)-3*I*m+N)/Math.pow(Math.sqrt(m-Math.pow(I,2)),3)},spectralKurtosis:function(T){var E=T.ampSpectrum;if(typeof E!="object")throw new TypeError;var I=E,m=de(1,I),N=de(2,I),V=de(3,I),te=de(4,I);return(-3*Math.pow(m,4)+6*m*N-4*m*V+te)/Math.pow(Math.sqrt(N-Math.pow(m,2)),4)},amplitudeSpectrum:function(T){return T.ampSpectrum},zcr:function(T){var E=T.signal;if(typeof E!="object")throw new TypeError;for(var I=0,m=1;m<E.length;m++)(E[m-1]>=0&&E[m]<0||E[m-1]<0&&E[m]>=0)&&I++;return I},loudness:Te,perceptualSpread:function(T){for(var E=Te({ampSpectrum:T.ampSpectrum,barkScale:T.barkScale}),I=0,m=0;m<E.specific.length;m++)E.specific[m]>I&&(I=E.specific[m]);return Math.pow((E.total-I)/E.total,2)},perceptualSharpness:function(T){for(var E=Te({ampSpectrum:T.ampSpectrum,barkScale:T.barkScale}),I=E.specific,m=0,N=0;N<I.length;N++)m+=N<15?(N+1)*I[N+1]:.066*Math.exp(.171*(N+1));return m*=.11/E.total},powerSpectrum:we,mfcc:function(T){var E=T.ampSpectrum,I=T.melFilterBank,m=T.numberOfMFCCCoefficients,N=T.bufferSize;if(typeof E!="object")throw new TypeError("Valid ampSpectrum is required to generate MFCC");if(typeof I!="object")throw new TypeError("Valid melFilterBank is required to generate MFCC");var V=Math.min(40,Math.max(1,m||13)),te=we({ampSpectrum:E}),j=I.length,d=Array(j);if(j<V)throw new Error("Insufficient filter bank for requested number of coefficients");for(var f=new Float32Array(j),l=0;l<f.length;l++){d[l]=new Float32Array(N/2),f[l]=0;for(var _=0;_<N/2;_++)d[l][_]=I[l][_]*te[_],f[l]+=d[l][_];f[l]=Math.log(f[l]+1)}var w=Array.prototype.slice.call(f);return De(w).slice(0,V)},chroma:function(T){var E=T.ampSpectrum,I=T.chromaFilterBank;if(typeof E!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof I!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var m=I.map(function(V,te){return E.reduce(function(j,d,f){return j+d*V[f]},0)}),N=Math.max.apply(Math,m);return N?m.map(function(V){return V/N}):m},spectralFlux:function(T){var E=T.signal,I=T.previousSignal,m=T.bufferSize;if(typeof E!="object"||typeof I!="object")throw new TypeError;for(var N=0,V=-m/2;V<E.length/2-1;V++)x=Math.abs(E[V])-Math.abs(I[V]),N+=(x+Math.abs(x))/2;return N}});function He(T){if(Array.isArray(T)){for(var E=0,I=Array(T.length);E<T.length;E++)I[E]=T[E];return I}return Array.from(T)}var Ie={},Ce={},Se={bitReverseArray:function(T){if(Ie[T]===void 0){for(var E=(T-1).toString(2).length,I="0".repeat(E),m={},N=0;N<T;N++){var V=N.toString(2);V=I.substr(V.length)+V,V=[].concat(He(V)).reverse().join(""),m[N]=parseInt(V,2)}Ie[T]=m}return Ie[T]},multiply:function(T,E){return{real:T.real*E.real-T.imag*E.imag,imag:T.real*E.imag+T.imag*E.real}},add:function(T,E){return{real:T.real+E.real,imag:T.imag+E.imag}},subtract:function(T,E){return{real:T.real-E.real,imag:T.imag-E.imag}},euler:function(T,E){var I=-2*Math.PI*T/E;return{real:Math.cos(I),imag:Math.sin(I)}},conj:function(T){return T.imag*=-1,T},constructComplexArray:function(T){var E={};E.real=T.real===void 0?T.slice():T.real.slice();var I=E.real.length;return Ce[I]===void 0&&(Ce[I]=Array.apply(null,Array(I)).map(Number.prototype.valueOf,0)),E.imag=Ce[I].slice(),E}},Me=function(T){var E={};T.real===void 0||T.imag===void 0?E=Se.constructComplexArray(T):(E.real=T.real.slice(),E.imag=T.imag.slice());var I=E.real.length,m=Math.log2(I);if(Math.round(m)!=m)throw new Error("Input size must be a power of 2.");if(E.real.length!=E.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var N=Se.bitReverseArray(I),V={real:[],imag:[]},te=0;te<I;te++)V.real[N[te]]=E.real[te],V.imag[N[te]]=E.imag[te];for(var j=0;j<I;j++)E.real[j]=V.real[j],E.imag[j]=V.imag[j];for(var d=1;d<=m;d++)for(var f=Math.pow(2,d),l=0;l<f/2;l++)for(var _=Se.euler(l,f),w=0;w<I/f;w++){var D=f*w+l,F=f*w+l+f/2,X={real:E.real[D],imag:E.imag[D]},Q={real:E.real[F],imag:E.imag[F]},i=Se.multiply(_,Q),B=Se.subtract(X,i);E.real[F]=B.real,E.imag[F]=B.imag;var oe=Se.add(i,X);E.real[D]=oe.real,E.imag[D]=oe.imag}return E},tt=Me,je=function(){function T(E,I){var m=this;if(this._m=I,!E.audioContext)throw this._m.errors.noAC;if(E.bufferSize&&!k(E.bufferSize))throw this._m._errors.notPow2;if(!E.source)throw this._m._errors.noSource;this._m.audioContext=E.audioContext,this._m.bufferSize=E.bufferSize||this._m.bufferSize||256,this._m.hopSize=E.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=E.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=E.callback,this._m.windowingFunction=E.windowingFunction||"hanning",this._m.featureExtractors=ve,this._m.EXTRACTION_STARTED=E.startImmediately||!1,this._m.channel=typeof E.channel=="number"?E.channel:0,this._m.inputs=E.inputs||1,this._m.outputs=E.outputs||1,this._m.numberOfMFCCCoefficients=E.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=E.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=E.featureExtractors||[],this._m.barkScale=H(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=ee(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(E.source),this._m.spn.onaudioprocess=function(N){var V;m._m.inputData!==null&&(m._m.previousInputData=m._m.inputData),m._m.inputData=N.inputBuffer.getChannelData(m._m.channel),m._m.previousInputData?((V=new Float32Array(m._m.previousInputData.length+m._m.inputData.length-m._m.hopSize)).set(m._m.previousInputData.slice(m._m.hopSize)),V.set(m._m.inputData,m._m.previousInputData.length-m._m.hopSize)):V=m._m.inputData,function(te,j,d){if(te.length<j)throw new Error("Buffer is too short for frame length");if(d<1)throw new Error("Hop length cannot be less that 1");if(j<1)throw new Error("Frame length cannot be less that 1");var f=1+Math.floor((te.length-j)/d);return new Array(f).fill(0).map(function(l,_){return te.slice(_*d,_*d+j)})}(V,m._m.bufferSize,m._m.hopSize).forEach(function(te){m._m.frame=te;var j=m._m.extract(m._m._featuresToExtract,m._m.frame,m._m.previousFrame);typeof m._m.callback=="function"&&m._m.EXTRACTION_STARTED&&m._m.callback(j),m._m.previousFrame=m._m.frame})}}return T.prototype.start=function(E){this._m._featuresToExtract=E||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},T.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},T.prototype.setSource=function(E){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=E,this._m.source.connect(this._m.spn)},T.prototype.setChannel=function(E){E<=this._m.inputs?this._m.channel=E:console.error("Channel "+E+" does not exist. Make sure you've provided a value for 'inputs' that is greater than "+E+" when instantiating the MeydaAnalyzer")},T.prototype.get=function(E){return this._m.inputData?this._m.extract(E||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},T}(),be={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:ve,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:W,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(T){return new je(T,Object.assign({},be))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(T,E,I){var m=this;if(!E)throw this._errors.invalidInput;if(typeof E!="object")throw this._errors.invalidInput;if(!T)throw this._errors.featureUndef;if(!k(E.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=H(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=ee(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=ce(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in E&&E.buffer===void 0?this.signal=r(E):this.signal=E;var N=ke(E,this.windowingFunction,this.bufferSize);if(this.signal=N.windowedSignal,this.complexSpectrum=N.complexSpectrum,this.ampSpectrum=N.ampSpectrum,I){var V=ke(I,this.windowingFunction,this.bufferSize);this.previousSignal=V.windowedSignal,this.previousComplexSpectrum=V.complexSpectrum,this.previousAmpSpectrum=V.ampSpectrum}var te=function(j){return m.featureExtractors[j]({ampSpectrum:m.ampSpectrum,chromaFilterBank:m.chromaFilterBank,complexSpectrum:m.complexSpectrum,signal:m.signal,bufferSize:m.bufferSize,sampleRate:m.sampleRate,barkScale:m.barkScale,melFilterBank:m.melFilterBank,previousSignal:m.previousSignal,previousAmpSpectrum:m.previousAmpSpectrum,previousComplexSpectrum:m.previousComplexSpectrum,numberOfMFCCCoefficients:m.numberOfMFCCCoefficients,numberOfBarkBands:m.numberOfBarkBands})};if(typeof T=="object")return T.reduce(function(j,d){var f;return Object.assign({},j,((f={})[d]=te(d),f))},{});if(typeof T=="string")return te(T);throw this._errors.invalidFeatureFmt}},ke=function(T,E,I){var m={};T.buffer===void 0?m.signal=r(T):m.signal=T,m.windowedSignal=W(m.signal,E),m.complexSpectrum=tt(m.windowedSignal),m.ampSpectrum=new Float32Array(I/2);for(var N=0;N<I/2;N++)m.ampSpectrum[N]=Math.sqrt(Math.pow(m.complexSpectrum.real[N],2)+Math.pow(m.complexSpectrum.imag[N],2));return m};return typeof window!="undefined"&&(window.Meyda=be),be})})(meyda_min);var Meyda=meyda_min.exports;class BaseNode{constructor(){J(this,"carriesSound");J(this,"graphSize");this.carriesSound=!1,this.graphSize=1}getNodeStrings(){return{definitions:[],processCode:""}}}class ValueNode extends BaseNode{constructor(){super()}}class MIDIGate extends ValueNode{getNodeStrings(){return{definitions:['midigate = button("gate");'],processCode:"midigate"}}}class MIDIFreq extends ValueNode{getNodeStrings(){return{definitions:[],processCode:"(frequency-20)/19980"}}}class MIDIGain extends ValueNode{getNodeStrings(){return{definitions:['midigain = hslider("gain", 0.5, 0, 1, 0.01);'],processCode:"midigain"}}}class Constant extends ValueNode{constructor(b=void 0){super();J(this,"value");b===void 0&&(b=Math.random()),this.value=b}getNodeStrings(){return{definitions:[],processCode:`${this.value}`}}}let paramCount=10;class Parameter extends ValueNode{constructor(b=void 0,P={min:0,max:1,step:.001},M){super();J(this,"index");J(this,"name");J(this,"varName");J(this,"defaultValue");J(this,"range");J(this,"scale");this.index=paramCount,paramCount+=1,M===void 0?this.name=`parameter${this.index}`:this.name=M,this.varName=`p${this.index}`,b===void 0&&(b=Math.random()),this.defaultValue=b,this.range=P,this.scale=this.range.min<=0?"linear":"log"}getNodeStrings(){const b=this.index<128?`[midi:ctrl ${this.index}]`:"";return{definitions:[`${this.varName} = hslider("[${this.index}]${this.name} (CC${this.index})${b}[scale:${this.scale}]", ${this.defaultValue}, ${this.range.min}, ${this.range.max}, ${this.range.step}) : si.smoo;`],processCode:this.varName}}}let envCount=0;class Envelope extends ValueNode{constructor(b=new Parameter(.01,{min:0,max:10,step:.01},`env${envCount}a`),P=new Parameter(.3,{min:0,max:10,step:.01},`env${envCount}d`),M=new Parameter(.8,{min:0,max:1,step:.01},`env${envCount}s`),k=new Parameter(.1,{min:0,max:10,step:.01},`env${envCount}r`),W=new MIDIGate){super();J(this,"adsr");J(this,"gate");J(this,"name");J(this,"varName");this.adsr={a:b,d:P,s:M,r:k},this.gate=W,this.name=`env${envCount}`,this.varName=`e${envCount}`,this.graphSize=1+b.graphSize+P.graphSize+M.graphSize+k.graphSize+W.graphSize,envCount+=1}getNodeStrings(){let b=this.adsr.a.getNodeStrings(),P=this.adsr.d.getNodeStrings(),M=this.adsr.s.getNodeStrings(),k=this.adsr.r.getNodeStrings(),W=this.gate.getNodeStrings();const H=[...b.definitions,...P.definitions,...M.definitions,...k.definitions,...W.definitions],r=`vgroup("${this.name}", en.adsr(${b.processCode}, ${P.processCode}, ${M.processCode}, ${k.processCode}, ${W.processCode}))`;return{definitions:H,processCode:r}}}class MathsNode extends ValueNode{constructor(b,...P){super();J(this,"operation");J(this,"inputs");this.operation=b,this.inputs=P,this.carriesSound=P.some(M=>M.carriesSound),this.graphSize=1;for(let M of P)this.graphSize+=M.graphSize}getNodeStrings(){const b=this.inputs.map(k=>k.getNodeStrings());let P=[];b.map(k=>P.push(...k.definitions));const M=b.map(k=>k.processCode);return{definitions:P,processCode:`(${M.join(this.operation)})`}}}class SynthNode extends BaseNode{constructor(){super()}}class Oscillator extends SynthNode{constructor(b,P){super();J(this,"waveform");J(this,"frequency");J(this,"waveformMap",{sine:"os.oscsin",saw:"os.sawtooth",square:"os.square",triangle:"os.triangle"});this.waveform=b,this.frequency=P,this.carriesSound=!0,this.graphSize=1+P.graphSize}getNodeStrings(){const b=this.frequency.getNodeStrings();return{definitions:b.definitions,processCode:`${this.waveformMap[this.waveform]}(19980*${b.processCode}+20)`}}}let fmCount=0;class FrequencyModulator extends ValueNode{constructor(b=new Parameter(void 0,void 0,`fm${fmCount}width`),P=new Parameter(void 0,void 0,`fm${fmCount}offset`),M){super();J(this,"width");J(this,"offset");J(this,"input");J(this,"name");this.width=b,this.offset=P,this.input=M,this.name=`fm${fmCount}`,this.graphSize=1+b.graphSize+P.graphSize+M.graphSize,fmCount+=1}getNodeStrings(){const b=[this.width,this.offset,this.input].map(k=>k.getNodeStrings());let P=[];b.map(k=>P.push(...k.definitions));const M=b.map(k=>k.processCode);return{definitions:P,processCode:`((${M[0]}*${M[2]})+${M[1]})`}}}let lpFilterCount=0;class LPFilter extends SynthNode{constructor(b,P=new Parameter(2e4,{min:20,max:2e4,step:1},`lp${lpFilterCount}freq`),M=new Parameter(.5,{min:.1,max:30,step:.1},`lp${lpFilterCount}q`)){super();J(this,"input");J(this,"frequency");J(this,"q");this.input=b,this.frequency=P,this.q=M,this.graphSize=1+b.graphSize+P.graphSize+M.graphSize,this.carriesSound=b.carriesSound}getNodeStrings(){const b=[this.input,this.frequency,this.q].map(k=>k.getNodeStrings());let P=[];b.map(k=>P.push(...k.definitions));const M=b.map(k=>k.processCode);return{definitions:P,processCode:`(${M[0]} : vgroup("Low Pass Filter", fi.resonlp(${M[1]}, ${M[2]}, 1)))`}}}class AudioOutput extends SynthNode{constructor(b){super();J(this,"inputs");this.inputs=b,this.graphSize=0;for(let P of b)this.graphSize+=P.graphSize}getOutputString(){const b=this.inputs.map(W=>W.getNodeStrings());let P=['midifreq = hslider("freq[unit:Hz]", 440, 20, 20000, 1);','bend = ba.semi2ratio(hslider("pitchBend[midi:pitchwheel]", 0, -2, 2, 0.01));','frequency = vgroup("Frequency", midifreq*bend);'];b.map(W=>P.push(...W.definitions));let M=b.map(W=>W.processCode);return`import("stdfaust.lib");

// DEFINITIONS
${P.join(`
`)}

// PROCESS
process = (${M.join(" + ")}) : fi.dcblocker : fi.lowpass(1, 20000);`}}async function exportListToCsvFile(g,O="data",...b){g[0]instanceof Array&&(g=g.map(H=>H.join(",")));let P=g.join(`
`),M="";b.length>0&&(M=`_${b.join("_")}`);let k=`${O}${M}.csv`;const W=document.getElementById("save-btn");W.addEventListener("click",async()=>{const r=await(await window.showSaveFilePicker({suggestedName:k,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await r.write(P),await r.close()}),W.classList.remove("inactive")}function exportObjectToCsvFile(g,O="data",...b){let P=[];const M=Object.keys(g);P.push(M);for(let k=0;k<g[M[0]].length;k++)P.push(M.map(W=>g[W][k]));exportListToCsvFile(P,O,...b)}async function exportFaustCode(g){const O=`Synth Explorer Patch (${new Date().toString().split(" GMT")[0]}).dsp`,P=await(await window.showSaveFilePicker({suggestedName:O,types:[{description:"Faust DSP Code",accept:{"text/dsp":[".dsp"]}}]})).createWritable();await P.write(g),await P.close()}const POPULATION_SIZE=4,GENERATION_COUNT=50,MUTATE_CHANCE=.1,REPLACE_CHANCE=.03,MAX_TOPOLOGY_SIZE=30,runInfo=["trivial","x"];function fitness(g,O){const b=g.length,P=g[0].length;let M=0;for(let k=0;k<b;k++){let W=0;for(let H=0;H<P;H++)W+=(g[k][H]-O[k][H])**2;M+=Math.sqrt(W)}return M/=b,1/(1+M)}function sample(g){return g[~~(Math.random()*g.length)]}function setUpContext(g,O,b=!0){return new Promise(async P=>{b&&g.mutateSynth(),await g.compile(O),P()})}async function measure(g){const O=await g.measureMFCC();return g.cleanUp(),O}class Evolver{constructor(O,b,P,M,k){J(this,"progressBar");J(this,"best");J(this,"bests");J(this,"audioContext");J(this,"faust");J(this,"testContext");J(this,"evolvingContexts");this.progressBar=O,this.faust=b,this.audioContext=P,this.best={topology:void 0,score:0},this.bests=[],this.testContext=new SynthContext(k,P,void 0,!0,M),this.evolvingContexts=new Array(POPULATION_SIZE).fill(0).map((W,H)=>new SynthContext(k+H+1,this.audioContext,void 0,!0,M))}async evolve(O){this.testContext.setTopology(O),await setUpContext(this.testContext,this.faust,!1);const b=await measure(this.testContext);this.evolvingContexts.forEach(k=>k.generateSynth());let P={topology:void 0,score:0},M=[];for(let k=1;k<=GENERATION_COUNT;k++){this.progressBar.style.width=`${k/GENERATION_COUNT*100}%`,console.log(`Starting round ${k}`),await Promise.all(this.evolvingContexts.map(H=>setUpContext(H,this.faust))),P={topology:void 0,score:0};let W=[];for(let H=0;H<POPULATION_SIZE;H++){const r=await measure(this.evolvingContexts[H]),le=fitness(b,r);W.push(le),le>P.score&&(P={topology:this.evolvingContexts[H].topology,score:le},le>this.best.score&&(this.best={topology:this.evolvingContexts[H].topology,score:le},this.bests=[this.best,...this.bests],console.log(`NEW BEST: ${le}`)))}M.push(W),this.evolvingContexts.forEach(H=>H.setTopology(P.topology))}return exportListToCsvFile(M,"fitness",...runInfo),this.bests}}function generate(g,...O){if(g===Constant){let b;return O[0]!==void 0&&(b=O[0]),new Constant(b)}else if(g===Parameter){let b,P;return O[0]!==void 0&&(b=O[0],O[1]!==void 0&&(P=O[1])),new Parameter(b,P)}else{if(g===MIDIFreq)return new MIDIFreq;if(g===MathsNode){let b,P=[],M=!1;if(O[0]!==void 0?(b=O[0],O[1]!==void 0&&(M=!0,P=O.slice(1))):b=sample(["*","+"]),!M){let k=function(ee){return ee===Oscillator||ee===MathsNode||ee===FrequencyModulator};const W=sample([2,2,2,2,2,3,3]);let H=[Parameter,Oscillator,MathsNode,MIDIFreq],r=[];for(let ee=0;ee<W;ee++){const ce=sample(H);r.push(ce),ce===MIDIFreq&&H.pop(),ce===Parameter&&H.splice(0,1)}r.sort((ee,ce)=>!k(ee)&&k(ce)?1:k(ee)&&!k(ce)?-1:0);let le=!1;for(let ee of r){let ce;ee===Oscillator||ee===MathsNode?(ce=generate(ee),ce.carriesSound&&(le=!0)):le?ce=generate(Parameter,Math.random()):ce=generate(ee),P.push(ce)}}return new MathsNode(b,...P)}else if(g===Oscillator){let b,P,M=!1;if(O[0]!==void 0?(b=O[0],O[1]!==void 0&&(M=!0,P=O[1])):b=sample(["sine","saw","square","triangle"]),!M){const k=sample([MathsNode,FrequencyModulator,Parameter,MIDIFreq,MIDIFreq]);P=generate(k)}return new Oscillator(b,P)}else if(g===FrequencyModulator)return new FrequencyModulator(void 0,void 0,generate(Oscillator))}throw new Error("You need to provide a valid node type to generate()!")}function mutate(g){const O=Math.random(),b=()=>generate(sample([MathsNode,Parameter,MIDIFreq,FrequencyModulator])),P=()=>generate(sample([MathsNode,Oscillator]));if(g instanceof Parameter)return O<REPLACE_CHANCE?b():O<MUTATE_CHANCE?generate(Parameter):generate(Parameter,g.defaultValue,g.range);if(g instanceof MIDIFreq)return O<REPLACE_CHANCE?b():O<MUTATE_CHANCE?generate(MathsNode,"*",new Parameter(Math.random()*5,{min:0,max:5,step:.01}),generate(MIDIFreq)):generate(MIDIFreq);if(g instanceof MathsNode)return O<REPLACE_CHANCE?g.carriesSound?b():P():O<MUTATE_CHANCE?generate(MathsNode,void 0,...g.inputs.map(mutate)):generate(MathsNode,g.operation,...g.inputs.map(mutate));if(g instanceof Oscillator)return O<REPLACE_CHANCE?P():O<MUTATE_CHANCE?generate(Oscillator,void 0,mutate(g.frequency)):generate(Oscillator,g.waveform,mutate(g.frequency));if(g instanceof FrequencyModulator)return O<REPLACE_CHANCE?b():O<MUTATE_CHANCE?generate(MathsNode,"+",generate(MathsNode,"*",generate(Parameter,g.width.defaultValue),generate(Oscillator)),generate(Parameter,g.offset.defaultValue)):generate(FrequencyModulator,mutate(g.width),mutate(g.offset),mutate(g.input));throw new Error("You need to provide a valid node to mutate()!")}class SynthContext{constructor(O,b,P,M=!1,k=!1){J(this,"index");J(this,"uiFrame");J(this,"mfccBars");J(this,"topology");J(this,"processCode");J(this,"userTopology");J(this,"fullCode");J(this,"webAudioNode");J(this,"analyser");J(this,"audioContext");J(this,"passthrough");J(this,"gainNode");J(this,"paramCount");J(this,"envCount");J(this,"fmCount");J(this,"lpFilterCount");J(this,"analysingNow");J(this,"mfccData");J(this,"params");J(this,"headless");if(this.index=O,this.uiFrame=document.getElementById(`ui${O}`),this.paramCount=0,this.envCount=0,this.fmCount=0,this.lpFilterCount=0,this.fullCode="",this.mfccBars=[],this.audioContext=b,this.gainNode=new GainNode(b,{gain:1}),this.gainNode.connect(b.destination),this.passthrough=new GainNode(b,{gain:1}),this.passthrough.connect(this.gainNode),this.headless=M,this.headless&&!k)this.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime);else if(k)this.gainNode.gain.setValueAtTime(.5,this.audioContext.currentTime);else for(let H=0;H<13;H++)this.mfccBars.push(document.getElementById(`bar-${O}-${H}`));this.analyser=Meyda.createMeydaAnalyzer({audioContext:this.audioContext,source:this.passthrough,bufferSize:1024,featureExtractors:"mfcc",callback:this.mfccCallback.bind(this)}),this.analyser.start(),this.analysingNow=M,this.mfccData=new Array(13).fill(0),P!==void 0?this.setTopology(P):this.generateSynth(),this.params={env_a:"",env_d:"",env_s:"",env_r:"",lp_freq:"",lp_q:"",midi_freq:"",gate:""}}setTopology(O){this.topology=O,this.processCode=this.topology.getNodeStrings().processCode,this.addOutputInterface()}resetCounts(){this.paramCount=0,this.envCount=0,this.fmCount=0,this.lpFilterCount=0}generateSynth(){const b=sample([MathsNode,Oscillator]);let P=generate(b);for(;!P.carriesSound||P.graphSize>MAX_TOPOLOGY_SIZE;)P=generate(b);this.topology=P,this.processCode=P.getNodeStrings().processCode,this.addOutputInterface()}mutateSynth(){let O=mutate(this.topology);for(;!O.carriesSound||O.graphSize>MAX_TOPOLOGY_SIZE;)O=mutate(this.topology);this.topology=O,this.processCode=this.topology.getNodeStrings().processCode,this.addOutputInterface()}addOutputInterface(){this.headless?this.userTopology=new AudioOutput([new MathsNode("*",this.topology,new MIDIGate,new Parameter(.25))]):this.userTopology=new AudioOutput([new LPFilter(new MathsNode("*",this.topology,new Envelope(new Parameter(.01,{min:0,max:10,step:.01},"MAIN_ENV_A"),new Parameter(.3,{min:0,max:10,step:.01},"MAIN_ENV_D"),new Parameter(.8,{min:0,max:1,step:.01},"MAIN_ENV_S"),new Parameter(.01,{min:0,max:10,step:.01},"MAIN_ENV_R")),new MIDIGain),new Parameter(2e4,{min:20,max:2e4,step:1},"MAIN_LP_FREQ"),new Parameter(.5,{min:.1,max:30,step:.1},"MAIN_LP_Q"))])}async compile(O){const b=this.userTopology.getOutputString();this.fullCode=b;let P;P=await O.getNode(b,{audioCtx:this.audioContext,useWorklet:!0,voices:4,args:{"-I":"libraries/"}}),P.connect(this.passthrough),this.webAudioNode=P;const M=P.getParams();if(this.params.midi_freq=M.filter(k=>k.includes("freq"))[0],this.params.gate=M.filter(k=>k.includes("gate"))[0],!this.headless){const k=this.uiFrame.contentWindow,W={type:"ui",ui:P.getUI()};k.postMessage(W,"*"),P.setOutputParamHandler((H,r)=>{const le={path:H,value:r,type:"param"};k.postMessage(le,"*")}),window.addEventListener("message",H=>{P.setParamValue(H.data.path,H.data.value)}),this.params={env_a:M.filter(H=>H.includes("MAIN_ENV_A"))[0],env_d:M.filter(H=>H.includes("MAIN_ENV_D"))[0],env_s:M.filter(H=>H.includes("MAIN_ENV_S"))[0],env_r:M.filter(H=>H.includes("MAIN_ENV_R"))[0],lp_freq:M.filter(H=>H.includes("MAIN_LP_FREQ"))[0],lp_q:M.filter(H=>H.includes("MAIN_LP_Q"))[0],midi_freq:this.params.midi_freq,gate:this.params.gate}}}mfccCallback(O){if(this.analysingNow)this.mfccData=O;else for(let b=0;b<O.length;b++)this.mfccBars[b].style.height=`${Math.min(O[b],100)}px`}checkNodeExists(O){if(O===void 0)throw new Error("Cannot analyse an uncompiled node!")}allNotesOff(){var O;(O=this.webAudioNode)==null||O.allNotesOff()}midiMessage(O){var b;(b=this.webAudioNode)==null||b.midiMessage(O)}startAnalysing(O){for(let b of[this.params.env_a,this.params.env_d,this.params.env_r])O.setParamValue(b,0);O.setParamValue(this.params.env_s,1),O.setParamValue(this.params.lp_freq,2e4),O.setParamValue(this.params.lp_q,.1),this.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime),this.analysingNow=!0}stopAnalysing(O){return new Promise(b=>{setTimeout(()=>{O.setParamValue(this.params.env_a,.01),O.setParamValue(this.params.env_d,.3),O.setParamValue(this.params.env_s,.8),O.setParamValue(this.params.env_r,.01),this.gainNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.analysingNow=!1,b()},20)})}async measureMFCC(){return this.checkNodeExists(this.webAudioNode),this.headless||this.startAnalysing(this.webAudioNode),new Promise(async O=>{this.checkNodeExists(this.webAudioNode);let b=[];b.push(await this.measureNote(65.41,this.webAudioNode)),b.push(await this.measureNote(440,this.webAudioNode)),b.push(await this.measureNote(2793.83,this.webAudioNode)),this.headless||await this.stopAnalysing(this.webAudioNode),O(b)})}async measureNote(O,b){return b.setParamValue(this.params.midi_freq,O),b.setParamValue(this.params.gate,1),new Promise(P=>{let M=Array(13);setTimeout(()=>{M=this.mfccData,b.setParamValue(this.params.gate,0),P(M)},4096*1e3/this.audioContext.sampleRate)})}cleanUp(){var O,b;this.fullCode="",(O=this.webAudioNode)==null||O.disconnect(this.passthrough),(b=this.webAudioNode)==null||b.destroy(),delete this.webAudioNode}}export{Evolver as E,SynthContext as S,exportObjectToCsvFile as a,exportFaustCode as e,fitness as f,index_min as i};
